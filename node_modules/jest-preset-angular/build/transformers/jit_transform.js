"use strict";var dS=Object.create;var gi=Object.defineProperty,mS=Object.defineProperties,gS=Object.getOwnPropertyDescriptor,yS=Object.getOwnPropertyDescriptors,vS=Object.getOwnPropertyNames,Xp=Object.getOwnPropertySymbols,SS=Object.getPrototypeOf,Qp=Object.prototype.hasOwnProperty,ES=Object.prototype.propertyIsEnumerable;var Ml=(t,e,n)=>e in t?gi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w=(t,e)=>{for(var n in e||(e={}))Qp.call(e,n)&&Ml(t,n,e[n]);if(Xp)for(var n of Xp(e))ES.call(e,n)&&Ml(t,n,e[n]);return t},fe=(t,e)=>mS(t,yS(e));var TS=(t,e)=>()=>(t&&(e=t(t=0)),e);var z=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),wS=(t,e)=>{for(var n in e)gi(t,n,{get:e[n],enumerable:!0})},Jp=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of vS(e))!Qp.call(t,s)&&s!==n&&gi(t,s,{get:()=>e[s],enumerable:!(r=gS(e,s))||r.enumerable});return t};var A=(t,e,n)=>(n=t!=null?dS(SS(t)):{},Jp(e||!t||!t.__esModule?gi(n,"default",{value:t,enumerable:!0}):n,t)),xS=t=>Jp(gi({},"__esModule",{value:!0}),t);var a=(t,e,n)=>Ml(t,typeof e!="symbol"?e+"":e,n);var F,C=TS(()=>{"use strict";F=require("url").pathToFileURL(__filename)});var _o=z((PF,ty)=>{"use strict";C();var W_="2.0.0",j_=Number.MAX_SAFE_INTEGER||9007199254740991,K_=16,z_=250,Y_=["major","premajor","minor","preminor","patch","prepatch","prerelease"];ty.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:K_,MAX_SAFE_BUILD_LENGTH:z_,MAX_SAFE_INTEGER:j_,RELEASE_TYPES:Y_,SEMVER_SPEC_VERSION:W_,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ko=z((MF,ny)=>{"use strict";C();var X_=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};ny.exports=X_});var fi=z((Rn,ry)=>{"use strict";C();var{MAX_SAFE_COMPONENT_LENGTH:Ep,MAX_SAFE_BUILD_LENGTH:Q_,MAX_LENGTH:J_}=_o(),Z_=ko();Rn=ry.exports={};var ek=Rn.re=[],tk=Rn.safeRe=[],L=Rn.src=[],nk=Rn.safeSrc=[],M=Rn.t={},rk=0,Tp="[a-zA-Z0-9-]",sk=[["\\s",1],["\\d",J_],[Tp,Q_]],ik=t=>{for(let[e,n]of sk)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},Z=(t,e,n)=>{let r=ik(e),s=rk++;Z_(t,s,e),M[t]=s,L[s]=e,nk[s]=r,ek[s]=new RegExp(e,n?"g":void 0),tk[s]=new RegExp(r,n?"g":void 0)};Z("NUMERICIDENTIFIER","0|[1-9]\\d*");Z("NUMERICIDENTIFIERLOOSE","\\d+");Z("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Tp}*`);Z("MAINVERSION",`(${L[M.NUMERICIDENTIFIER]})\\.(${L[M.NUMERICIDENTIFIER]})\\.(${L[M.NUMERICIDENTIFIER]})`);Z("MAINVERSIONLOOSE",`(${L[M.NUMERICIDENTIFIERLOOSE]})\\.(${L[M.NUMERICIDENTIFIERLOOSE]})\\.(${L[M.NUMERICIDENTIFIERLOOSE]})`);Z("PRERELEASEIDENTIFIER",`(?:${L[M.NONNUMERICIDENTIFIER]}|${L[M.NUMERICIDENTIFIER]})`);Z("PRERELEASEIDENTIFIERLOOSE",`(?:${L[M.NONNUMERICIDENTIFIER]}|${L[M.NUMERICIDENTIFIERLOOSE]})`);Z("PRERELEASE",`(?:-(${L[M.PRERELEASEIDENTIFIER]}(?:\\.${L[M.PRERELEASEIDENTIFIER]})*))`);Z("PRERELEASELOOSE",`(?:-?(${L[M.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${L[M.PRERELEASEIDENTIFIERLOOSE]})*))`);Z("BUILDIDENTIFIER",`${Tp}+`);Z("BUILD",`(?:\\+(${L[M.BUILDIDENTIFIER]}(?:\\.${L[M.BUILDIDENTIFIER]})*))`);Z("FULLPLAIN",`v?${L[M.MAINVERSION]}${L[M.PRERELEASE]}?${L[M.BUILD]}?`);Z("FULL",`^${L[M.FULLPLAIN]}$`);Z("LOOSEPLAIN",`[v=\\s]*${L[M.MAINVERSIONLOOSE]}${L[M.PRERELEASELOOSE]}?${L[M.BUILD]}?`);Z("LOOSE",`^${L[M.LOOSEPLAIN]}$`);Z("GTLT","((?:<|>)?=?)");Z("XRANGEIDENTIFIERLOOSE",`${L[M.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Z("XRANGEIDENTIFIER",`${L[M.NUMERICIDENTIFIER]}|x|X|\\*`);Z("XRANGEPLAIN",`[v=\\s]*(${L[M.XRANGEIDENTIFIER]})(?:\\.(${L[M.XRANGEIDENTIFIER]})(?:\\.(${L[M.XRANGEIDENTIFIER]})(?:${L[M.PRERELEASE]})?${L[M.BUILD]}?)?)?`);Z("XRANGEPLAINLOOSE",`[v=\\s]*(${L[M.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L[M.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L[M.XRANGEIDENTIFIERLOOSE]})(?:${L[M.PRERELEASELOOSE]})?${L[M.BUILD]}?)?)?`);Z("XRANGE",`^${L[M.GTLT]}\\s*${L[M.XRANGEPLAIN]}$`);Z("XRANGELOOSE",`^${L[M.GTLT]}\\s*${L[M.XRANGEPLAINLOOSE]}$`);Z("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Ep}})(?:\\.(\\d{1,${Ep}}))?(?:\\.(\\d{1,${Ep}}))?`);Z("COERCE",`${L[M.COERCEPLAIN]}(?:$|[^\\d])`);Z("COERCEFULL",L[M.COERCEPLAIN]+`(?:${L[M.PRERELEASE]})?(?:${L[M.BUILD]})?(?:$|[^\\d])`);Z("COERCERTL",L[M.COERCE],!0);Z("COERCERTLFULL",L[M.COERCEFULL],!0);Z("LONETILDE","(?:~>?)");Z("TILDETRIM",`(\\s*)${L[M.LONETILDE]}\\s+`,!0);Rn.tildeTrimReplace="$1~";Z("TILDE",`^${L[M.LONETILDE]}${L[M.XRANGEPLAIN]}$`);Z("TILDELOOSE",`^${L[M.LONETILDE]}${L[M.XRANGEPLAINLOOSE]}$`);Z("LONECARET","(?:\\^)");Z("CARETTRIM",`(\\s*)${L[M.LONECARET]}\\s+`,!0);Rn.caretTrimReplace="$1^";Z("CARET",`^${L[M.LONECARET]}${L[M.XRANGEPLAIN]}$`);Z("CARETLOOSE",`^${L[M.LONECARET]}${L[M.XRANGEPLAINLOOSE]}$`);Z("COMPARATORLOOSE",`^${L[M.GTLT]}\\s*(${L[M.LOOSEPLAIN]})$|^$`);Z("COMPARATOR",`^${L[M.GTLT]}\\s*(${L[M.FULLPLAIN]})$|^$`);Z("COMPARATORTRIM",`(\\s*)${L[M.GTLT]}\\s*(${L[M.LOOSEPLAIN]}|${L[M.XRANGEPLAIN]})`,!0);Rn.comparatorTrimReplace="$1$2$3";Z("HYPHENRANGE",`^\\s*(${L[M.XRANGEPLAIN]})\\s+-\\s+(${L[M.XRANGEPLAIN]})\\s*$`);Z("HYPHENRANGELOOSE",`^\\s*(${L[M.XRANGEPLAINLOOSE]})\\s+-\\s+(${L[M.XRANGEPLAINLOOSE]})\\s*$`);Z("STAR","(<|>)?=?\\s*\\*");Z("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Z("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Tl=z((BF,sy)=>{"use strict";C();var ok=Object.freeze({loose:!0}),ak=Object.freeze({}),lk=t=>t?typeof t!="object"?ok:t:ak;sy.exports=lk});var wp=z((UF,ay)=>{"use strict";C();var iy=/^[0-9]+$/,oy=(t,e)=>{let n=iy.test(t),r=iy.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},ck=(t,e)=>oy(e,t);ay.exports={compareIdentifiers:oy,rcompareIdentifiers:ck}});var rt=z((HF,cy)=>{"use strict";C();var wl=ko(),{MAX_LENGTH:ly,MAX_SAFE_INTEGER:xl}=_o(),{safeRe:Cl,t:Al}=fi(),uk=Tl(),{compareIdentifiers:di}=wp(),xp=class t{constructor(e,n){if(n=uk(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>ly)throw new TypeError(`version is longer than ${ly} characters`);wl("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?Cl[Al.LOOSE]:Cl[Al.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>xl||this.major<0)throw new TypeError("Invalid major version");if(this.minor>xl||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>xl||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<xl)return i}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(wl("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),di(this.major,e.major)||di(this.minor,e.minor)||di(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],s=e.prerelease[n];if(wl("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return di(r,s)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],s=e.build[n];if(wl("build compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return di(r,s)}while(++n)}inc(e,n,r){if(e.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){let s=`-${n}`.match(this.options.loose?Cl[Al.PRERELEASELOOSE]:Cl[Al.PRERELEASE]);if(!s||s[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(n){let i=[n,s];r===!1&&(i=[n]),di(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};cy.exports=xp});var gs=z((qF,py)=>{"use strict";C();var uy=rt(),pk=(t,e,n=!1)=>{if(t instanceof uy)return t;try{return new uy(t,e)}catch(r){if(!n)return null;throw r}};py.exports=pk});var fy=z((jF,hy)=>{"use strict";C();var hk=gs(),fk=(t,e)=>{let n=hk(t,e);return n?n.version:null};hy.exports=fk});var my=z((zF,dy)=>{"use strict";C();var dk=gs(),mk=(t,e)=>{let n=dk(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};dy.exports=mk});var vy=z((XF,yy)=>{"use strict";C();var gy=rt(),gk=(t,e,n,r,s)=>{typeof n=="string"&&(s=r,r=n,n=void 0);try{return new gy(t instanceof gy?t.version:t,n).inc(e,r,s).version}catch(i){return null}};yy.exports=gk});var Ty=z((JF,Ey)=>{"use strict";C();var Sy=gs(),yk=(t,e)=>{let n=Sy(t,null,!0),r=Sy(e,null,!0),s=n.compare(r);if(s===0)return null;let i=s>0,o=i?n:r,l=i?r:n,c=!!o.prerelease.length;if(!!l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(l.compareMain(o)===0)return l.minor&&!l.patch?"minor":"patch"}let u=c?"pre":"";return n.major!==r.major?u+"major":n.minor!==r.minor?u+"minor":n.patch!==r.patch?u+"patch":"prerelease"};Ey.exports=yk});var xy=z((e2,wy)=>{"use strict";C();var vk=rt(),Sk=(t,e)=>new vk(t,e).major;wy.exports=Sk});var Ay=z((n2,Cy)=>{"use strict";C();var Ek=rt(),Tk=(t,e)=>new Ek(t,e).minor;Cy.exports=Tk});var Iy=z((s2,Ny)=>{"use strict";C();var wk=rt(),xk=(t,e)=>new wk(t,e).patch;Ny.exports=xk});var by=z((o2,Dy)=>{"use strict";C();var Ck=gs(),Ak=(t,e)=>{let n=Ck(t,e);return n&&n.prerelease.length?n.prerelease:null};Dy.exports=Ak});var en=z((l2,ky)=>{"use strict";C();var _y=rt(),Nk=(t,e,n)=>new _y(t,n).compare(new _y(e,n));ky.exports=Nk});var Py=z((u2,Ry)=>{"use strict";C();var Ik=en(),Dk=(t,e,n)=>Ik(e,t,n);Ry.exports=Dk});var My=z((h2,Ly)=>{"use strict";C();var bk=en(),_k=(t,e)=>bk(t,e,!0);Ly.exports=_k});var Nl=z((d2,Fy)=>{"use strict";C();var Oy=rt(),kk=(t,e,n)=>{let r=new Oy(t,n),s=new Oy(e,n);return r.compare(s)||r.compareBuild(s)};Fy.exports=kk});var $y=z((g2,By)=>{"use strict";C();var Rk=Nl(),Pk=(t,e)=>t.sort((n,r)=>Rk(n,r,e));By.exports=Pk});var Vy=z((v2,Uy)=>{"use strict";C();var Lk=Nl(),Mk=(t,e)=>t.sort((n,r)=>Lk(r,n,e));Uy.exports=Mk});var Ro=z((E2,Hy)=>{"use strict";C();var Ok=en(),Fk=(t,e,n)=>Ok(t,e,n)>0;Hy.exports=Fk});var Il=z((w2,Gy)=>{"use strict";C();var Bk=en(),$k=(t,e,n)=>Bk(t,e,n)<0;Gy.exports=$k});var Cp=z((C2,qy)=>{"use strict";C();var Uk=en(),Vk=(t,e,n)=>Uk(t,e,n)===0;qy.exports=Vk});var Ap=z((N2,Wy)=>{"use strict";C();var Hk=en(),Gk=(t,e,n)=>Hk(t,e,n)!==0;Wy.exports=Gk});var Dl=z((D2,jy)=>{"use strict";C();var qk=en(),Wk=(t,e,n)=>qk(t,e,n)>=0;jy.exports=Wk});var bl=z((_2,Ky)=>{"use strict";C();var jk=en(),Kk=(t,e,n)=>jk(t,e,n)<=0;Ky.exports=Kk});var Np=z((R2,zy)=>{"use strict";C();var zk=Cp(),Yk=Ap(),Xk=Ro(),Qk=Dl(),Jk=Il(),Zk=bl(),eR=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return zk(t,n,r);case"!=":return Yk(t,n,r);case">":return Xk(t,n,r);case">=":return Qk(t,n,r);case"<":return Jk(t,n,r);case"<=":return Zk(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};zy.exports=eR});var Xy=z((L2,Yy)=>{"use strict";C();var tR=rt(),nR=gs(),{safeRe:_l,t:kl}=fi(),rR=(t,e)=>{if(t instanceof tR)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?_l[kl.COERCEFULL]:_l[kl.COERCE]);else{let c=e.includePrerelease?_l[kl.COERCERTLFULL]:_l[kl.COERCERTL],p;for(;(p=c.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||p.index+p[0].length!==n.index+n[0].length)&&(n=p),c.lastIndex=p.index+p[1].length+p[2].length;c.lastIndex=-1}if(n===null)return null;let r=n[2],s=n[3]||"0",i=n[4]||"0",o=e.includePrerelease&&n[5]?`-${n[5]}`:"",l=e.includePrerelease&&n[6]?`+${n[6]}`:"";return nR(`${r}.${s}.${i}${o}${l}`,e)};Yy.exports=rR});var Jy=z((O2,Qy)=>{"use strict";C();var Ip=class{constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(e,n)}return this}};Qy.exports=Ip});var tn=z((B2,nv)=>{"use strict";C();var sR=/\s+/g,Dp=class t{constructor(e,n){if(n=oR(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof bp)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(sR," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(s=>!ev(s[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&fR(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let r=0;r<n.length;r++)r>0&&(this.formatted+=" "),this.formatted+=n[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&pR)|(this.options.loose&&hR))+":"+e,s=Zy.get(r);if(s)return s;let i=this.options.loose,o=i?Dt[dt.HYPHENRANGELOOSE]:Dt[dt.HYPHENRANGE];e=e.replace(o,xR(this.options.includePrerelease)),Ee("hyphen replace",e),e=e.replace(Dt[dt.COMPARATORTRIM],lR),Ee("comparator trim",e),e=e.replace(Dt[dt.TILDETRIM],cR),Ee("tilde trim",e),e=e.replace(Dt[dt.CARETTRIM],uR),Ee("caret trim",e);let l=e.split(" ").map(d=>dR(d,this.options)).join(" ").split(/\s+/).map(d=>wR(d,this.options));i&&(l=l.filter(d=>(Ee("loose invalid filter",d,this.options),!!d.match(Dt[dt.COMPARATORLOOSE])))),Ee("range list",l);let c=new Map,p=l.map(d=>new bp(d,this.options));for(let d of p){if(ev(d))return[d];c.set(d.value,d)}c.size>1&&c.has("")&&c.delete("");let u=[...c.values()];return Zy.set(r,u),u}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>tv(r,n)&&e.set.some(s=>tv(s,n)&&r.every(i=>s.every(o=>i.intersects(o,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new aR(e,this.options)}catch(n){return!1}for(let n=0;n<this.set.length;n++)if(CR(this.set[n],e,this.options))return!0;return!1}};nv.exports=Dp;var iR=Jy(),Zy=new iR,oR=Tl(),bp=Po(),Ee=ko(),aR=rt(),{safeRe:Dt,t:dt,comparatorTrimReplace:lR,tildeTrimReplace:cR,caretTrimReplace:uR}=fi(),{FLAG_INCLUDE_PRERELEASE:pR,FLAG_LOOSE:hR}=_o(),ev=t=>t.value==="<0.0.0-0",fR=t=>t.value==="",tv=(t,e)=>{let n=!0,r=t.slice(),s=r.pop();for(;n&&r.length;)n=r.every(i=>s.intersects(i,e)),s=r.pop();return n},dR=(t,e)=>(Ee("comp",t,e),t=yR(t,e),Ee("caret",t),t=mR(t,e),Ee("tildes",t),t=SR(t,e),Ee("xrange",t),t=TR(t,e),Ee("stars",t),t),mt=t=>!t||t.toLowerCase()==="x"||t==="*",mR=(t,e)=>t.trim().split(/\s+/).map(n=>gR(n,e)).join(" "),gR=(t,e)=>{let n=e.loose?Dt[dt.TILDELOOSE]:Dt[dt.TILDE];return t.replace(n,(r,s,i,o,l)=>{Ee("tilde",t,r,s,i,o,l);let c;return mt(s)?c="":mt(i)?c=`>=${s}.0.0 <${+s+1}.0.0-0`:mt(o)?c=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:l?(Ee("replaceTilde pr",l),c=`>=${s}.${i}.${o}-${l} <${s}.${+i+1}.0-0`):c=`>=${s}.${i}.${o} <${s}.${+i+1}.0-0`,Ee("tilde return",c),c})},yR=(t,e)=>t.trim().split(/\s+/).map(n=>vR(n,e)).join(" "),vR=(t,e)=>{Ee("caret",t,e);let n=e.loose?Dt[dt.CARETLOOSE]:Dt[dt.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(s,i,o,l,c)=>{Ee("caret",t,s,i,o,l,c);let p;return mt(i)?p="":mt(o)?p=`>=${i}.0.0${r} <${+i+1}.0.0-0`:mt(l)?i==="0"?p=`>=${i}.${o}.0${r} <${i}.${+o+1}.0-0`:p=`>=${i}.${o}.0${r} <${+i+1}.0.0-0`:c?(Ee("replaceCaret pr",c),i==="0"?o==="0"?p=`>=${i}.${o}.${l}-${c} <${i}.${o}.${+l+1}-0`:p=`>=${i}.${o}.${l}-${c} <${i}.${+o+1}.0-0`:p=`>=${i}.${o}.${l}-${c} <${+i+1}.0.0-0`):(Ee("no pr"),i==="0"?o==="0"?p=`>=${i}.${o}.${l}${r} <${i}.${o}.${+l+1}-0`:p=`>=${i}.${o}.${l}${r} <${i}.${+o+1}.0-0`:p=`>=${i}.${o}.${l} <${+i+1}.0.0-0`),Ee("caret return",p),p})},SR=(t,e)=>(Ee("replaceXRanges",t,e),t.split(/\s+/).map(n=>ER(n,e)).join(" ")),ER=(t,e)=>{t=t.trim();let n=e.loose?Dt[dt.XRANGELOOSE]:Dt[dt.XRANGE];return t.replace(n,(r,s,i,o,l,c)=>{Ee("xRange",t,r,s,i,o,l,c);let p=mt(i),u=p||mt(o),d=u||mt(l),m=d;return s==="="&&m&&(s=""),c=e.includePrerelease?"-0":"",p?s===">"||s==="<"?r="<0.0.0-0":r="*":s&&m?(u&&(o=0),l=0,s===">"?(s=">=",u?(i=+i+1,o=0,l=0):(o=+o+1,l=0)):s==="<="&&(s="<",u?i=+i+1:o=+o+1),s==="<"&&(c="-0"),r=`${s+i}.${o}.${l}${c}`):u?r=`>=${i}.0.0${c} <${+i+1}.0.0-0`:d&&(r=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),Ee("xRange return",r),r})},TR=(t,e)=>(Ee("replaceStars",t,e),t.trim().replace(Dt[dt.STAR],"")),wR=(t,e)=>(Ee("replaceGTE0",t,e),t.trim().replace(Dt[e.includePrerelease?dt.GTE0PRE:dt.GTE0],"")),xR=t=>(e,n,r,s,i,o,l,c,p,u,d,m)=>(mt(r)?n="":mt(s)?n=`>=${r}.0.0${t?"-0":""}`:mt(i)?n=`>=${r}.${s}.0${t?"-0":""}`:o?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,mt(p)?c="":mt(u)?c=`<${+p+1}.0.0-0`:mt(d)?c=`<${p}.${+u+1}.0-0`:m?c=`<=${p}.${u}.${d}-${m}`:t?c=`<${p}.${u}.${+d+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),CR=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(Ee(t[r].semver),t[r].semver!==bp.ANY&&t[r].semver.prerelease.length>0){let s=t[r].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var Po=z((U2,lv)=>{"use strict";C();var Lo=Symbol("SemVer ANY"),Rp=class t{static get ANY(){return Lo}constructor(e,n){if(n=rv(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),kp("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===Lo?this.value="":this.value=this.operator+this.semver.version,kp("comp",this)}parse(e){let n=this.options.loose?sv[iv.COMPARATORLOOSE]:sv[iv.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new ov(r[2],this.options.loose):this.semver=Lo}toString(){return this.value}test(e){if(kp("Comparator.test",e,this.options.loose),this.semver===Lo||e===Lo)return!0;if(typeof e=="string")try{e=new ov(e,this.options)}catch(n){return!1}return _p(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new av(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new av(this.value,n).test(e.semver):(n=rv(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||_p(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||_p(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};lv.exports=Rp;var rv=Tl(),{safeRe:sv,t:iv}=fi(),_p=Np(),kp=ko(),ov=rt(),av=tn()});var Mo=z((H2,cv)=>{"use strict";C();var AR=tn(),NR=(t,e,n)=>{try{e=new AR(e,n)}catch(r){return!1}return e.test(t)};cv.exports=NR});var pv=z((q2,uv)=>{"use strict";C();var IR=tn(),DR=(t,e)=>new IR(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));uv.exports=DR});var fv=z((j2,hv)=>{"use strict";C();var bR=rt(),_R=tn(),kR=(t,e,n)=>{let r=null,s=null,i=null;try{i=new _R(e,n)}catch(o){return null}return t.forEach(o=>{i.test(o)&&(!r||s.compare(o)===-1)&&(r=o,s=new bR(r,n))}),r};hv.exports=kR});var mv=z((z2,dv)=>{"use strict";C();var RR=rt(),PR=tn(),LR=(t,e,n)=>{let r=null,s=null,i=null;try{i=new PR(e,n)}catch(o){return null}return t.forEach(o=>{i.test(o)&&(!r||s.compare(o)===1)&&(r=o,s=new RR(r,n))}),r};dv.exports=LR});var vv=z((X2,yv)=>{"use strict";C();var Pp=rt(),MR=tn(),gv=Ro(),OR=(t,e)=>{t=new MR(t,e);let n=new Pp("0.0.0");if(t.test(n)||(n=new Pp("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let s=t.set[r],i=null;s.forEach(o=>{let l=new Pp(o.semver.version);switch(o.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!i||gv(l,i))&&(i=l);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!n||gv(n,i))&&(n=i)}return n&&t.test(n)?n:null};yv.exports=OR});var Ev=z((J2,Sv)=>{"use strict";C();var FR=tn(),BR=(t,e)=>{try{return new FR(t,e).range||"*"}catch(n){return null}};Sv.exports=BR});var Rl=z((e1,Cv)=>{"use strict";C();var $R=rt(),xv=Po(),{ANY:UR}=xv,VR=tn(),HR=Mo(),Tv=Ro(),wv=Il(),GR=bl(),qR=Dl(),WR=(t,e,n,r)=>{t=new $R(t,r),e=new VR(e,r);let s,i,o,l,c;switch(n){case">":s=Tv,i=GR,o=wv,l=">",c=">=";break;case"<":s=wv,i=qR,o=Tv,l="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(HR(t,e,r))return!1;for(let p=0;p<e.set.length;++p){let u=e.set[p],d=null,m=null;if(u.forEach(g=>{g.semver===UR&&(g=new xv(">=0.0.0")),d=d||g,m=m||g,s(g.semver,d.semver,r)?d=g:o(g.semver,m.semver,r)&&(m=g)}),d.operator===l||d.operator===c||(!m.operator||m.operator===l)&&i(t,m.semver))return!1;if(m.operator===c&&o(t,m.semver))return!1}return!0};Cv.exports=WR});var Nv=z((n1,Av)=>{"use strict";C();var jR=Rl(),KR=(t,e,n)=>jR(t,e,">",n);Av.exports=KR});var Dv=z((s1,Iv)=>{"use strict";C();var zR=Rl(),YR=(t,e,n)=>zR(t,e,"<",n);Iv.exports=YR});var kv=z((o1,_v)=>{"use strict";C();var bv=tn(),XR=(t,e,n)=>(t=new bv(t,n),e=new bv(e,n),t.intersects(e,n));_v.exports=XR});var Pv=z((l1,Rv)=>{"use strict";C();var QR=Mo(),JR=en();Rv.exports=(t,e,n)=>{let r=[],s=null,i=null,o=t.sort((u,d)=>JR(u,d,n));for(let u of o)QR(u,e,n)?(i=u,s||(s=u)):(i&&r.push([s,i]),i=null,s=null);s&&r.push([s,null]);let l=[];for(let[u,d]of r)u===d?l.push(u):!d&&u===o[0]?l.push("*"):d?u===o[0]?l.push(`<=${d}`):l.push(`${u} - ${d}`):l.push(`>=${u}`);let c=l.join(" || "),p=typeof e.raw=="string"?e.raw:String(e);return c.length<p.length?c:e}});var $v=z((u1,Bv)=>{"use strict";C();var Lv=tn(),Mp=Po(),{ANY:Lp}=Mp,Oo=Mo(),Op=en(),ZR=(t,e,n={})=>{if(t===e)return!0;t=new Lv(t,n),e=new Lv(e,n);let r=!1;e:for(let s of t.set){for(let i of e.set){let o=tP(s,i,n);if(r=r||o!==null,o)continue e}if(r)return!1}return!0},eP=[new Mp(">=0.0.0-0")],Mv=[new Mp(">=0.0.0")],tP=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Lp){if(e.length===1&&e[0].semver===Lp)return!0;n.includePrerelease?t=eP:t=Mv}if(e.length===1&&e[0].semver===Lp){if(n.includePrerelease)return!0;e=Mv}let r=new Set,s,i;for(let g of t)g.operator===">"||g.operator===">="?s=Ov(s,g,n):g.operator==="<"||g.operator==="<="?i=Fv(i,g,n):r.add(g.semver);if(r.size>1)return null;let o;if(s&&i){if(o=Op(s.semver,i.semver,n),o>0)return null;if(o===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let g of r){if(s&&!Oo(g,String(s),n)||i&&!Oo(g,String(i),n))return null;for(let S of e)if(!Oo(g,String(S),n))return!1;return!0}let l,c,p,u,d=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1,m=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let g of e){if(u=u||g.operator===">"||g.operator===">=",p=p||g.operator==="<"||g.operator==="<=",s){if(m&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===m.major&&g.semver.minor===m.minor&&g.semver.patch===m.patch&&(m=!1),g.operator===">"||g.operator===">="){if(l=Ov(s,g,n),l===g&&l!==s)return!1}else if(s.operator===">="&&!Oo(s.semver,String(g),n))return!1}if(i){if(d&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===d.major&&g.semver.minor===d.minor&&g.semver.patch===d.patch&&(d=!1),g.operator==="<"||g.operator==="<="){if(c=Fv(i,g,n),c===g&&c!==i)return!1}else if(i.operator==="<="&&!Oo(i.semver,String(g),n))return!1}if(!g.operator&&(i||s)&&o!==0)return!1}return!(s&&p&&!i&&o!==0||i&&u&&!s&&o!==0||m||d)},Ov=(t,e,n)=>{if(!t)return e;let r=Op(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},Fv=(t,e,n)=>{if(!t)return e;let r=Op(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};Bv.exports=ZR});var Gv=z((h1,Hv)=>{"use strict";C();var Fp=fi(),Uv=_o(),nP=rt(),Vv=wp(),rP=gs(),sP=fy(),iP=my(),oP=vy(),aP=Ty(),lP=xy(),cP=Ay(),uP=Iy(),pP=by(),hP=en(),fP=Py(),dP=My(),mP=Nl(),gP=$y(),yP=Vy(),vP=Ro(),SP=Il(),EP=Cp(),TP=Ap(),wP=Dl(),xP=bl(),CP=Np(),AP=Xy(),NP=Po(),IP=tn(),DP=Mo(),bP=pv(),_P=fv(),kP=mv(),RP=vv(),PP=Ev(),LP=Rl(),MP=Nv(),OP=Dv(),FP=kv(),BP=Pv(),$P=$v();Hv.exports={parse:rP,valid:sP,clean:iP,inc:oP,diff:aP,major:lP,minor:cP,patch:uP,prerelease:pP,compare:hP,rcompare:fP,compareLoose:dP,compareBuild:mP,sort:gP,rsort:yP,gt:vP,lt:SP,eq:EP,neq:TP,gte:wP,lte:xP,cmp:CP,coerce:AP,Comparator:NP,Range:IP,satisfies:DP,toComparators:bP,maxSatisfying:_P,minSatisfying:kP,minVersion:RP,validRange:PP,outside:LP,gtr:MP,ltr:OP,intersects:FP,simplifyRange:BP,subset:$P,SemVer:nP,re:Fp.re,src:Fp.src,tokens:Fp.t,SEMVER_SPEC_VERSION:Uv.SEMVER_SPEC_VERSION,RELEASE_TYPES:Uv.RELEASE_TYPES,compareIdentifiers:Vv.compareIdentifiers,rcompareIdentifiers:Vv.rcompareIdentifiers}});var fM={};wS(fM,{angularJitApplicationTransform:()=>El});module.exports=xS(fM);C();C();var fS=require("module");C();var eS=require("module");C();var Kg=require("module");C();var _g=require("module");C();var Xm=require("module");C();var Zp=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),cn=class t{constructor(){a(this,"element",null);a(this,"classNames",[]);a(this,"attrs",[]);a(this,"notSelectors",[])}static parse(e){let n=[],r=(c,p)=>{p.notSelectors.length>0&&!p.element&&p.classNames.length==0&&p.attrs.length==0&&(p.element="*"),c.push(p)},s=new t,i,o=s,l=!1;for(Zp.lastIndex=0;i=Zp.exec(e);){if(i[1]){if(l)throw new Error("Nesting :not in a selector is not allowed");l=!0,o=new t,s.notSelectors.push(o)}let c=i[2];if(c){let u=i[3];u==="#"?o.addAttribute("id",c.slice(1)):u==="."?o.addClassName(c.slice(1)):o.setElement(c)}let p=i[4];if(p&&o.addAttribute(o.unescapeAttribute(p),i[6]),i[7]&&(l=!1,o=s),i[8]){if(l)throw new Error("Multiple selectors in :not are not supported");r(n,s),s=o=new t}}return r(n,s),n}unescapeAttribute(e){let n="",r=!1;for(let s=0;s<e.length;s++){let i=e.charAt(s);if(i==="\\"){r=!0;continue}if(i==="$"&&!r)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);r=!1,n+=i}return n}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&this.classNames.length==0&&this.attrs.length==0&&this.notSelectors.length===0}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getAttrs(){let e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,n=""){this.attrs.push(e,n&&n.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(n=>e+=`.${n}`),this.attrs)for(let n=0;n<this.attrs.length;n+=2){let r=this.escapeAttribute(this.attrs[n]),s=this.attrs[n+1];e+=`[${r}${s?"="+s:""}]`}return this.notSelectors.forEach(n=>e+=`:not(${n})`),e}},Kr=class t{constructor(){a(this,"_elementMap",new Map);a(this,"_elementPartialMap",new Map);a(this,"_classMap",new Map);a(this,"_classPartialMap",new Map);a(this,"_attrValueMap",new Map);a(this,"_attrValuePartialMap",new Map);a(this,"_listContexts",[])}static createNotMatcher(e){let n=new t;return n.addSelectables(e,null),n}addSelectables(e,n){let r=null;e.length>1&&(r=new sc(e),this._listContexts.push(r));for(let s=0;s<e.length;s++)this._addSelectable(e[s],n,r)}_addSelectable(e,n,r){let s=this,i=e.element,o=e.classNames,l=e.attrs,c=new ic(e,n,r);if(i&&(l.length===0&&o.length===0?this._addTerminal(s._elementMap,i,c):s=this._addPartial(s._elementPartialMap,i)),o)for(let p=0;p<o.length;p++){let u=l.length===0&&p===o.length-1,d=o[p];u?this._addTerminal(s._classMap,d,c):s=this._addPartial(s._classPartialMap,d)}if(l)for(let p=0;p<l.length;p+=2){let u=p===l.length-2,d=l[p],m=l[p+1];if(u){let g=s._attrValueMap,S=g.get(d);S||(S=new Map,g.set(d,S)),this._addTerminal(S,m,c)}else{let g=s._attrValuePartialMap,S=g.get(d);S||(S=new Map,g.set(d,S)),s=this._addPartial(S,m)}}}_addTerminal(e,n,r){let s=e.get(n);s||(s=[],e.set(n,s)),s.push(r)}_addPartial(e,n){let r=e.get(n);return r||(r=new t,e.set(n,r)),r}match(e,n){let r=!1,s=e.element,i=e.classNames,o=e.attrs;for(let l=0;l<this._listContexts.length;l++)this._listContexts[l].alreadyMatched=!1;if(r=this._matchTerminal(this._elementMap,s,e,n)||r,r=this._matchPartial(this._elementPartialMap,s,e,n)||r,i)for(let l=0;l<i.length;l++){let c=i[l];r=this._matchTerminal(this._classMap,c,e,n)||r,r=this._matchPartial(this._classPartialMap,c,e,n)||r}if(o)for(let l=0;l<o.length;l+=2){let c=o[l],p=o[l+1],u=this._attrValueMap.get(c);p&&(r=this._matchTerminal(u,"",e,n)||r),r=this._matchTerminal(u,p,e,n)||r;let d=this._attrValuePartialMap.get(c);p&&(r=this._matchPartial(d,"",e,n)||r),r=this._matchPartial(d,p,e,n)||r}return r}_matchTerminal(e,n,r,s){if(!e||typeof n!="string")return!1;let i=e.get(n)||[],o=e.get("*");if(o&&(i=i.concat(o)),i.length===0)return!1;let l,c=!1;for(let p=0;p<i.length;p++)l=i[p],c=l.finalize(r,s)||c;return c}_matchPartial(e,n,r,s){if(!e||typeof n!="string")return!1;let i=e.get(n);return i?i.match(r,s):!1}},sc=class{constructor(e){a(this,"selectors");a(this,"alreadyMatched",!1);this.selectors=e}},ic=class{constructor(e,n,r){a(this,"selector");a(this,"cbContext");a(this,"listContext");a(this,"notSelectors");this.selector=e,this.cbContext=n,this.listContext=r,this.notSelectors=e.notSelectors}finalize(e,n){let r=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(r=!Kr.createNotMatcher(this.notSelectors).match(e,null)),r&&n&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),n(this.selector,this.cbContext)),r}},$s=class{constructor(e){a(this,"registry");this.registry=e}match(e){return this.registry.has(e)?this.registry.get(e):[]}};var Tn;(function(t){t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"})(Tn||(Tn={}));var aa;(function(t){t[t.OnPush=0]="OnPush",t[t.Default=1]="Default"})(aa||(aa={}));var Ns;(function(t){t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform"})(Ns||(Ns={}));var oc={name:"custom-elements"},ac={name:"no-errors-schema"};var pe;(function(t){t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL"})(pe||(pe={}));var eh;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore"})(eh||(eh={}));function CS(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return[t.element&&t.element!=="*"?t.element:"",...t.attrs,...e]}function AS(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return t.element?[5,t.element,...t.attrs,...e]:t.attrs.length?[3,...t.attrs,...e]:t.classNames&&t.classNames.length?[9,...t.classNames]:[]}function NS(t){let e=CS(t),n=t.notSelectors&&t.notSelectors.length?t.notSelectors.map(r=>AS(r)):[];return e.concat(...n)}function Du(t){return t?cn.parse(t).map(NS):[]}var at;(function(t){t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule"})(at||(at={}));var th;(function(t){t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule"})(th||(th={}));var nh;(function(t){t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"})(nh||(nh={}));var sr;function IS(t){return kS(_S(t.nodes).join("")+`[${t.meaning}]`)}function DS(t){return t.id||td(t)}function td(t){let e=new lc,n=t.nodes.map(r=>r.visit(e,null));return nd(n.join(""),t.meaning)}var la=class{visitText(e,n){return e.value}visitContainer(e,n){return`[${e.children.map(r=>r.visit(this)).join(", ")}]`}visitIcu(e,n){let r=Object.keys(e.cases).map(s=>`${s} {${e.cases[s].visit(this)}}`);return`{${e.expression}, ${e.type}, ${r.join(", ")}}`}visitTagPlaceholder(e,n){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(r=>r.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,n){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,n){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}visitBlockPlaceholder(e,n){return`<ph block name="${e.startName}">${e.children.map(r=>r.visit(this)).join(", ")}</ph name="${e.closeName}">`}},bS=new la;function _S(t){return t.map(e=>e.visit(bS,null))}var lc=class extends la{visitIcu(e){let n=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.type}, ${n.join(", ")}}`}};function kS(t){sr!=null||(sr=new TextEncoder);let e=[...sr.encode(t)],n=LS(e,ca.Big),r=e.length*8,s=new Uint32Array(80),i=1732584193,o=4023233417,l=2562383102,c=271733878,p=3285377520;n[r>>5]|=128<<24-r%32,n[(r+64>>9<<4)+15]=r;for(let u=0;u<n.length;u+=16){let d=i,m=o,g=l,S=c,T=p;for(let N=0;N<80;N++){N<16?s[N]=n[u+N]:s[N]=Ol(s[N-3]^s[N-8]^s[N-14]^s[N-16],1);let D=RS(N,o,l,c),b=D[0],U=D[1],O=[Ol(i,5),b,p,U,s[N]].reduce(ys);p=c,c=l,l=Ol(o,30),o=i,i=O}i=ys(i,d),o=ys(o,m),l=ys(l,g),c=ys(c,S),p=ys(p,T)}return yi(i)+yi(o)+yi(l)+yi(c)+yi(p)}function yi(t){return(t>>>0).toString(16).padStart(8,"0")}function RS(t,e,n,r){return t<20?[e&n|~e&r,1518500249]:t<40?[e^n^r,1859775393]:t<60?[e&n|e&r|n&r,2400959708]:[e^n^r,3395469782]}function rh(t){sr!=null||(sr=new TextEncoder);let e=sr.encode(t),n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=sh(n,e.length,0),s=sh(n,e.length,102072);return r==0&&(s==0||s==1)&&(r=r^319790063,s=s^-1801410264),BigInt.asUintN(32,BigInt(r))<<BigInt(32)|BigInt.asUintN(32,BigInt(s))}function nd(t,e=""){let n=rh(t);return e&&(n=BigInt.asUintN(64,n<<BigInt(1))|n>>BigInt(63)&BigInt(1),n+=rh(e)),BigInt.asUintN(63,n).toString()}function sh(t,e,n){let r=2654435769,s=2654435769,i=0,o=e-12;for(;i<=o;i+=12){r+=t.getUint32(i,!0),s+=t.getUint32(i+4,!0),n+=t.getUint32(i+8,!0);let c=ih(r,s,n);r=c[0],s=c[1],n=c[2]}let l=e-i;return n+=e,l>=4?(r+=t.getUint32(i,!0),i+=4,l>=8?(s+=t.getUint32(i,!0),i+=4,l>=9&&(n+=t.getUint8(i++)<<8),l>=10&&(n+=t.getUint8(i++)<<16),l===11&&(n+=t.getUint8(i++)<<24)):(l>=5&&(s+=t.getUint8(i++)),l>=6&&(s+=t.getUint8(i++)<<8),l===7&&(s+=t.getUint8(i++)<<16))):(l>=1&&(r+=t.getUint8(i++)),l>=2&&(r+=t.getUint8(i++)<<8),l===3&&(r+=t.getUint8(i++)<<16)),ih(r,s,n)[2]}function ih(t,e,n){return t-=e,t-=n,t^=n>>>13,e-=n,e-=t,e^=t<<8,n-=t,n-=e,n^=e>>>13,t-=e,t-=n,t^=n>>>12,e-=n,e-=t,e^=t<<16,n-=t,n-=e,n^=e>>>5,t-=e,t-=n,t^=n>>>3,e-=n,e-=t,e^=t<<10,n-=t,n-=e,n^=e>>>15,[t,e,n]}var ca;(function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"})(ca||(ca={}));function ys(t,e){return PS(t,e)[1]}function PS(t,e){let n=(t&65535)+(e&65535),r=(t>>>16)+(e>>>16)+(n>>>16);return[r>>>16,r<<16|n&65535]}function Ol(t,e){return t<<e|t>>>32-e}function LS(t,e){let n=t.length+3>>>2,r=[];for(let s=0;s<n;s++)r[s]=MS(t,s*4,e);return r}function oh(t,e){return e>=t.length?0:t[e]}function MS(t,e,n){let r=0;if(n===ca.Big)for(let s=0;s<4;s++)r+=oh(t,e+s)<<24-8*s;else for(let s=0;s<4;s++)r+=oh(t,e+s)<<8*s;return r}var ki;(function(t){t[t.None=0]="None",t[t.Const=1]="Const"})(ki||(ki={}));var pr=class{constructor(e=ki.None){a(this,"modifiers");this.modifiers=e}hasModifier(e){return(this.modifiers&e)!==0}},Wt;(function(t){t[t.Dynamic=0]="Dynamic",t[t.Bool=1]="Bool",t[t.String=2]="String",t[t.Int=3]="Int",t[t.Number=4]="Number",t[t.Function=5]="Function",t[t.Inferred=6]="Inferred",t[t.None=7]="None"})(Wt||(Wt={}));var un=class extends pr{constructor(n,r){super(r);a(this,"name");this.name=n}visitType(n,r){return n.visitBuiltinType(this,r)}},lt=class extends pr{constructor(n,r,s=null){super(r);a(this,"value");a(this,"typeParams");this.value=n,this.typeParams=s}visitType(n,r){return n.visitExpressionType(this,r)}},cc=class extends pr{constructor(n,r){super(r);a(this,"of");this.of=n}visitType(n,r){return n.visitArrayType(this,r)}},uc=class extends pr{constructor(n,r){super(r);a(this,"valueType");this.valueType=n||null}visitType(n,r){return n.visitMapType(this,r)}},Ri=class extends pr{constructor(n,r){super(r);a(this,"type");this.type=n}visitType(n,r){return n.visitTransplantedType(this,r)}},fs=new un(Wt.Dynamic),wt=new un(Wt.Inferred),rd=new un(Wt.Bool),OS=new un(Wt.Int),sl=new un(Wt.Number),il=new un(Wt.String),FS=new un(Wt.Function),pn=new un(Wt.None),Cn;(function(t){t[t.Minus=0]="Minus",t[t.Plus=1]="Plus"})(Cn||(Cn={}));var E;(function(t){t[t.Equals=0]="Equals",t[t.NotEquals=1]="NotEquals",t[t.Assign=2]="Assign",t[t.Identical=3]="Identical",t[t.NotIdentical=4]="NotIdentical",t[t.Minus=5]="Minus",t[t.Plus=6]="Plus",t[t.Divide=7]="Divide",t[t.Multiply=8]="Multiply",t[t.Modulo=9]="Modulo",t[t.And=10]="And",t[t.Or=11]="Or",t[t.BitwiseOr=12]="BitwiseOr",t[t.BitwiseAnd=13]="BitwiseAnd",t[t.Lower=14]="Lower",t[t.LowerEquals=15]="LowerEquals",t[t.Bigger=16]="Bigger",t[t.BiggerEquals=17]="BiggerEquals",t[t.NullishCoalesce=18]="NullishCoalesce",t[t.Exponentiation=19]="Exponentiation",t[t.In=20]="In",t[t.AdditionAssignment=21]="AdditionAssignment",t[t.SubtractionAssignment=22]="SubtractionAssignment",t[t.MultiplicationAssignment=23]="MultiplicationAssignment",t[t.DivisionAssignment=24]="DivisionAssignment",t[t.RemainderAssignment=25]="RemainderAssignment",t[t.ExponentiationAssignment=26]="ExponentiationAssignment",t[t.AndAssignment=27]="AndAssignment",t[t.OrAssignment=28]="OrAssignment",t[t.NullishCoalesceAssignment=29]="NullishCoalesceAssignment"})(E||(E={}));function sd(t,e){return t==null||e==null?t==e:t.isEquivalent(e)}function id(t,e,n){let r=t.length;if(r!==e.length)return!1;for(let s=0;s<r;s++)if(!n(t[s],e[s]))return!1;return!0}function pt(t,e){return id(t,e,(n,r)=>n.isEquivalent(r))}var oe=class{constructor(e,n){a(this,"type");a(this,"sourceSpan");this.type=e||null,this.sourceSpan=n||null}prop(e,n){return new ht(this,e,null,n)}key(e,n,r){return new An(this,e,n,r)}callFn(e,n,r){return new tt(this,e,null,n,r)}instantiate(e,n,r){return new Vs(this,e,n,r)}conditional(e,n=null,r){return new hn(this,e,n,null,r)}equals(e,n){return new te(E.Equals,this,e,null,n)}notEquals(e,n){return new te(E.NotEquals,this,e,null,n)}identical(e,n){return new te(E.Identical,this,e,null,n)}notIdentical(e,n){return new te(E.NotIdentical,this,e,null,n)}minus(e,n){return new te(E.Minus,this,e,null,n)}plus(e,n){return new te(E.Plus,this,e,null,n)}divide(e,n){return new te(E.Divide,this,e,null,n)}multiply(e,n){return new te(E.Multiply,this,e,null,n)}modulo(e,n){return new te(E.Modulo,this,e,null,n)}power(e,n){return new te(E.Exponentiation,this,e,null,n)}and(e,n){return new te(E.And,this,e,null,n)}bitwiseOr(e,n){return new te(E.BitwiseOr,this,e,null,n)}bitwiseAnd(e,n){return new te(E.BitwiseAnd,this,e,null,n)}or(e,n){return new te(E.Or,this,e,null,n)}lower(e,n){return new te(E.Lower,this,e,null,n)}lowerEquals(e,n){return new te(E.LowerEquals,this,e,null,n)}bigger(e,n){return new te(E.Bigger,this,e,null,n)}biggerEquals(e,n){return new te(E.BiggerEquals,this,e,null,n)}isBlank(e){return this.equals(od,e)}nullishCoalesce(e,n){return new te(E.NullishCoalesce,this,e,null,n)}toStmt(){return new Lt(this,null)}},Pt=class t extends oe{constructor(n,r,s){super(r,s);a(this,"name");this.name=n}isEquivalent(n){return n instanceof t&&this.name===n.name}isConstant(){return!1}visitExpression(n,r){return n.visitReadVarExpr(this,r)}clone(){return new t(this.name,this.type,this.sourceSpan)}set(n){return new te(E.Assign,this,n,null,this.sourceSpan)}},zr=class t extends oe{constructor(n,r,s){super(r,s);a(this,"expr");this.expr=n}visitExpression(n,r){return n.visitTypeofExpr(this,r)}isEquivalent(n){return n instanceof t&&n.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},Pi=class t extends oe{constructor(n,r,s){super(r,s);a(this,"expr");this.expr=n}visitExpression(n,r){return n.visitVoidExpr(this,r)}isEquivalent(n){return n instanceof t&&n.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},G=class t extends oe{constructor(n,r,s){super(r,s);a(this,"node");this.node=n}isEquivalent(n){return n instanceof t&&this.node===n.node}isConstant(){return!1}visitExpression(n,r){return n.visitWrappedNodeExpr(this,r)}clone(){return new t(this.node,this.type,this.sourceSpan)}},tt=class t extends oe{constructor(n,r,s,i,o=!1){super(s,i);a(this,"fn");a(this,"args");a(this,"pure");this.fn=n,this.args=r,this.pure=o}get receiver(){return this.fn}isEquivalent(n){return n instanceof t&&this.fn.isEquivalent(n.fn)&&pt(this.args,n.args)&&this.pure===n.pure}isConstant(){return!1}visitExpression(n,r){return n.visitInvokeFunctionExpr(this,r)}clone(){return new t(this.fn.clone(),this.args.map(n=>n.clone()),this.type,this.sourceSpan,this.pure)}},Us=class t extends oe{constructor(n,r,s,i){super(s,i);a(this,"tag");a(this,"template");this.tag=n,this.template=r}isEquivalent(n){return n instanceof t&&this.tag.isEquivalent(n.tag)&&this.template.isEquivalent(n.template)}isConstant(){return!1}visitExpression(n,r){return n.visitTaggedTemplateLiteralExpr(this,r)}clone(){return new t(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}},Vs=class t extends oe{constructor(n,r,s,i){super(s,i);a(this,"classExpr");a(this,"args");this.classExpr=n,this.args=r}isEquivalent(n){return n instanceof t&&this.classExpr.isEquivalent(n.classExpr)&&pt(this.args,n.args)}isConstant(){return!1}visitExpression(n,r){return n.visitInstantiateExpr(this,r)}clone(){return new t(this.classExpr.clone(),this.args.map(n=>n.clone()),this.type,this.sourceSpan)}},Ie=class t extends oe{constructor(n,r,s){super(r,s);a(this,"value");this.value=n}isEquivalent(n){return n instanceof t&&this.value===n.value}isConstant(){return!0}visitExpression(n,r){return n.visitLiteralExpr(this,r)}clone(){return new t(this.value,this.type,this.sourceSpan)}},Hs=class t extends oe{constructor(n,r,s){super(null,s);a(this,"elements");a(this,"expressions");this.elements=n,this.expressions=r}isEquivalent(n){return n instanceof t&&id(this.elements,n.elements,(r,s)=>r.text===s.text)&&pt(this.expressions,n.expressions)}isConstant(){return!1}visitExpression(n,r){return n.visitTemplateLiteralExpr(this,r)}clone(){return new t(this.elements.map(n=>n.clone()),this.expressions.map(n=>n.clone()))}},Li=class t extends oe{constructor(n,r,s){super(il,r);a(this,"text");a(this,"rawText");this.text=n,this.rawText=s!=null?s:pc(na(n))}visitExpression(n,r){return n.visitTemplateLiteralElementExpr(this,r)}isEquivalent(n){return n instanceof t&&n.text===this.text&&n.rawText===this.rawText}isConstant(){return!0}clone(){return new t(this.text,this.sourceSpan,this.rawText)}},ar=class{constructor(e,n){a(this,"text");a(this,"sourceSpan");this.text=e,this.sourceSpan=n}},Hr=class{constructor(e,n,r){a(this,"text");a(this,"sourceSpan");a(this,"associatedMessage");this.text=e,this.sourceSpan=n,this.associatedMessage=r}},BS="|",ah="@@",$S="\u241F",Mi=class t extends oe{constructor(n,r,s,i,o){super(il,o);a(this,"metaBlock");a(this,"messageParts");a(this,"placeHolderNames");a(this,"expressions");this.metaBlock=n,this.messageParts=r,this.placeHolderNames=s,this.expressions=i}isEquivalent(n){return!1}isConstant(){return!1}visitExpression(n,r){return n.visitLocalizedString(this,r)}clone(){return new t(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(n=>n.clone()),this.sourceSpan)}serializeI18nHead(){let n=this.metaBlock.description||"";return this.metaBlock.meaning&&(n=`${this.metaBlock.meaning}${BS}${n}`),this.metaBlock.customId&&(n=`${n}${ah}${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(r=>{n=`${n}${$S}${r}`}),lh(n,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(n){var r,s;return(s=(r=this.messageParts[n])==null?void 0:r.sourceSpan)!=null?s:this.sourceSpan}getPlaceholderSourceSpan(n){var r,s,i,o;return(o=(i=(r=this.placeHolderNames[n])==null?void 0:r.sourceSpan)!=null?i:(s=this.expressions[n])==null?void 0:s.sourceSpan)!=null?o:this.sourceSpan}serializeI18nTemplatePart(n){var o;let r=this.placeHolderNames[n-1],s=this.messageParts[n],i=r.text;return((o=r.associatedMessage)==null?void 0:o.legacyIds.length)===0&&(i+=`${ah}${nd(r.associatedMessage.messageString,r.associatedMessage.meaning)}`),lh(i,s.text,this.getMessagePartSourceSpan(n))}},na=t=>t.replace(/\\/g,"\\\\"),US=t=>t.replace(/^:/,"\\:"),VS=t=>t.replace(/:/g,"\\:"),pc=t=>t.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function lh(t,e,n){return t===""?{cooked:e,raw:pc(US(na(e))),range:n}:{cooked:`:${t}:${e}`,raw:pc(`:${VS(na(t))}:${na(e)}`),range:n}}var qe=class t extends oe{constructor(n,r,s=null,i){super(r,i);a(this,"value");a(this,"typeParams");this.value=n,this.typeParams=s}isEquivalent(n){return n instanceof t&&this.value.name===n.value.name&&this.value.moduleName===n.value.moduleName}isConstant(){return!1}visitExpression(n,r){return n.visitExternalExpr(this,r)}clone(){return new t(this.value,this.type,this.typeParams,this.sourceSpan)}},Oi=class{constructor(e,n){a(this,"moduleName");a(this,"name");this.moduleName=e,this.name=n}},hn=class t extends oe{constructor(n,r,s=null,i,o){super(i||r.type,o);a(this,"condition");a(this,"falseCase");a(this,"trueCase");this.condition=n,this.falseCase=s,this.trueCase=r}isEquivalent(n){return n instanceof t&&this.condition.isEquivalent(n.condition)&&this.trueCase.isEquivalent(n.trueCase)&&sd(this.falseCase,n.falseCase)}isConstant(){return!1}visitExpression(n,r){return n.visitConditionalExpr(this,r)}clone(){var n;return new t(this.condition.clone(),this.trueCase.clone(),(n=this.falseCase)==null?void 0:n.clone(),this.type,this.sourceSpan)}},hc=class t extends oe{constructor(n,r,s){super(null,r);a(this,"url");a(this,"urlComment");this.url=n,this.urlComment=s}isEquivalent(n){return n instanceof t&&this.url===n.url&&this.urlComment===n.urlComment}isConstant(){return!1}visitExpression(n,r){return n.visitDynamicImportExpr(this,r)}clone(){return new t(typeof this.url=="string"?this.url:this.url.clone(),this.sourceSpan,this.urlComment)}},Gs=class t extends oe{constructor(n,r){super(rd,r);a(this,"condition");this.condition=n}isEquivalent(n){return n instanceof t&&this.condition.isEquivalent(n.condition)}isConstant(){return!1}visitExpression(n,r){return n.visitNotExpr(this,r)}clone(){return new t(this.condition.clone(),this.sourceSpan)}},$e=class t{constructor(e,n=null){a(this,"name");a(this,"type");this.name=e,this.type=n}isEquivalent(e){return this.name===e.name}clone(){return new t(this.name,this.type)}},xn=class t extends oe{constructor(n,r,s,i,o){super(s,i);a(this,"params");a(this,"statements");a(this,"name");this.params=n,this.statements=r,this.name=o}isEquivalent(n){return(n instanceof t||n instanceof qs)&&pt(this.params,n.params)&&pt(this.statements,n.statements)}isConstant(){return!1}visitExpression(n,r){return n.visitFunctionExpr(this,r)}toDeclStmt(n,r){return new qs(n,this.params,this.statements,this.type,r,this.sourceSpan)}clone(){return new t(this.params.map(n=>n.clone()),this.statements,this.type,this.sourceSpan,this.name)}},Un=class t extends oe{constructor(n,r,s,i){super(s,i);a(this,"params");a(this,"body");this.params=n,this.body=r}isEquivalent(n){return!(n instanceof t)||!pt(this.params,n.params)?!1:this.body instanceof oe&&n.body instanceof oe?this.body.isEquivalent(n.body):Array.isArray(this.body)&&Array.isArray(n.body)?pt(this.body,n.body):!1}isConstant(){return!1}visitExpression(n,r){return n.visitArrowFunctionExpr(this,r)}clone(){return new t(this.params.map(n=>n.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(n,r){return new Pe(n,this,wt,r,this.sourceSpan)}},Vn=class t extends oe{constructor(n,r,s,i,o=!0){super(s||sl,i);a(this,"operator");a(this,"expr");a(this,"parens");this.operator=n,this.expr=r,this.parens=o}isEquivalent(n){return n instanceof t&&this.operator===n.operator&&this.expr.isEquivalent(n.expr)}isConstant(){return!1}visitExpression(n,r){return n.visitUnaryOperatorExpr(this,r)}clone(){return new t(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}},jt=class t extends oe{constructor(n,r,s){super(r,s);a(this,"expr");this.expr=n}visitExpression(n,r){return n.visitParenthesizedExpr(this,r)}isEquivalent(n){return n instanceof t&&n.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},te=class t extends oe{constructor(n,r,s,i,o){super(i||r.type,o);a(this,"operator");a(this,"rhs");a(this,"lhs");this.operator=n,this.rhs=s,this.lhs=r}isEquivalent(n){return n instanceof t&&this.operator===n.operator&&this.lhs.isEquivalent(n.lhs)&&this.rhs.isEquivalent(n.rhs)}isConstant(){return!1}visitExpression(n,r){return n.visitBinaryOperatorExpr(this,r)}clone(){return new t(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan)}isAssignment(){let n=this.operator;return n===E.Assign||n===E.AdditionAssignment||n===E.SubtractionAssignment||n===E.MultiplicationAssignment||n===E.DivisionAssignment||n===E.RemainderAssignment||n===E.ExponentiationAssignment||n===E.AndAssignment||n===E.OrAssignment||n===E.NullishCoalesceAssignment}},ht=class t extends oe{constructor(n,r,s,i){super(s,i);a(this,"receiver");a(this,"name");this.receiver=n,this.name=r}get index(){return this.name}isEquivalent(n){return n instanceof t&&this.receiver.isEquivalent(n.receiver)&&this.name===n.name}isConstant(){return!1}visitExpression(n,r){return n.visitReadPropExpr(this,r)}set(n){return new te(E.Assign,this.receiver.prop(this.name),n,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.name,this.type,this.sourceSpan)}},An=class t extends oe{constructor(n,r,s,i){super(s,i);a(this,"receiver");a(this,"index");this.receiver=n,this.index=r}isEquivalent(n){return n instanceof t&&this.receiver.isEquivalent(n.receiver)&&this.index.isEquivalent(n.index)}isConstant(){return!1}visitExpression(n,r){return n.visitReadKeyExpr(this,r)}set(n){return new te(E.Assign,this.receiver.key(this.index),n,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}},xt=class t extends oe{constructor(n,r,s){super(r,s);a(this,"entries");this.entries=n}isConstant(){return this.entries.every(n=>n.isConstant())}isEquivalent(n){return n instanceof t&&pt(this.entries,n.entries)}visitExpression(n,r){return n.visitLiteralArrayExpr(this,r)}clone(){return new t(this.entries.map(n=>n.clone()),this.type,this.sourceSpan)}},Yr=class t{constructor(e,n,r){a(this,"key");a(this,"value");a(this,"quoted");this.key=e,this.value=n,this.quoted=r}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new t(this.key,this.value.clone(),this.quoted)}},fn=class t extends oe{constructor(n,r,s){super(r,s);a(this,"entries");a(this,"valueType",null);this.entries=n,r&&(this.valueType=r.valueType)}isEquivalent(n){return n instanceof t&&pt(this.entries,n.entries)}isConstant(){return this.entries.every(n=>n.value.isConstant())}visitExpression(n,r){return n.visitLiteralMapExpr(this,r)}clone(){let n=this.entries.map(r=>r.clone());return new t(n,this.type,this.sourceSpan)}},fc=class t extends oe{constructor(n,r){super(n[n.length-1].type,r);a(this,"parts");this.parts=n}isEquivalent(n){return n instanceof t&&pt(this.parts,n.parts)}isConstant(){return!1}visitExpression(n,r){return n.visitCommaExpr(this,r)}clone(){return new t(this.parts.map(n=>n.clone()))}},Xr=new Ie(null,null,null),od=new Ie(null,wt,null),Re;(function(t){t[t.None=0]="None",t[t.Final=1]="Final",t[t.Private=2]="Private",t[t.Exported=4]="Exported",t[t.Static=8]="Static"})(Re||(Re={}));var Fi=class{constructor(e,n,r){a(this,"text");a(this,"multiline");a(this,"trailingNewline");this.text=e,this.multiline=n,this.trailingNewline=r}toString(){return this.multiline?` ${this.text} `:this.text}},Bi=class extends Fi{constructor(n){super("",!0,!0);a(this,"tags");this.tags=n}toString(){return KS(this.tags)}},hr=class{constructor(e=Re.None,n=null,r){a(this,"modifiers");a(this,"sourceSpan");a(this,"leadingComments");this.modifiers=e,this.sourceSpan=n,this.leadingComments=r}hasModifier(e){return(this.modifiers&e)!==0}addLeadingComment(e){var n;this.leadingComments=(n=this.leadingComments)!=null?n:[],this.leadingComments.push(e)}},Pe=class t extends hr{constructor(n,r,s,i,o,l){super(i,o,l);a(this,"name");a(this,"value");a(this,"type");this.name=n,this.value=r,this.type=s||r&&r.type||null}isEquivalent(n){return n instanceof t&&this.name===n.name&&(this.value?!!n.value&&this.value.isEquivalent(n.value):!n.value)}visitStatement(n,r){return n.visitDeclareVarStmt(this,r)}},qs=class t extends hr{constructor(n,r,s,i,o,l,c){super(o,l,c);a(this,"name");a(this,"params");a(this,"statements");a(this,"type");this.name=n,this.params=r,this.statements=s,this.type=i||null}isEquivalent(n){return n instanceof t&&pt(this.params,n.params)&&pt(this.statements,n.statements)}visitStatement(n,r){return n.visitDeclareFunctionStmt(this,r)}},Lt=class t extends hr{constructor(n,r,s){super(Re.None,r,s);a(this,"expr");this.expr=n}isEquivalent(n){return n instanceof t&&this.expr.isEquivalent(n.expr)}visitStatement(n,r){return n.visitExpressionStmt(this,r)}},Ue=class t extends hr{constructor(n,r=null,s){super(Re.None,r,s);a(this,"value");this.value=n}isEquivalent(n){return n instanceof t&&this.value.isEquivalent(n.value)}visitStatement(n,r){return n.visitReturnStmt(this,r)}},$i=class t extends hr{constructor(n,r,s=[],i,o){super(Re.None,i,o);a(this,"condition");a(this,"trueCase");a(this,"falseCase");this.condition=n,this.trueCase=r,this.falseCase=s}isEquivalent(n){return n instanceof t&&this.condition.isEquivalent(n.condition)&&pt(this.trueCase,n.trueCase)&&pt(this.falseCase,n.falseCase)}visitStatement(n,r){return n.visitIfStmt(this,r)}},HS=class{visitType(e,n){return e}visitExpression(e,n){return e.type&&e.type.visitType(this,n),e}visitBuiltinType(e,n){return this.visitType(e,n)}visitExpressionType(e,n){return e.value.visitExpression(this,n),e.typeParams!==null&&e.typeParams.forEach(r=>this.visitType(r,n)),this.visitType(e,n)}visitArrayType(e,n){return this.visitType(e,n)}visitMapType(e,n){return this.visitType(e,n)}visitTransplantedType(e,n){return e}visitWrappedNodeExpr(e,n){return e}visitReadVarExpr(e,n){return this.visitExpression(e,n)}visitDynamicImportExpr(e,n){return this.visitExpression(e,n)}visitInvokeFunctionExpr(e,n){return e.fn.visitExpression(this,n),this.visitAllExpressions(e.args,n),this.visitExpression(e,n)}visitTaggedTemplateLiteralExpr(e,n){return e.tag.visitExpression(this,n),e.template.visitExpression(this,n),this.visitExpression(e,n)}visitInstantiateExpr(e,n){return e.classExpr.visitExpression(this,n),this.visitAllExpressions(e.args,n),this.visitExpression(e,n)}visitLiteralExpr(e,n){return this.visitExpression(e,n)}visitLocalizedString(e,n){return this.visitExpression(e,n)}visitExternalExpr(e,n){return e.typeParams&&e.typeParams.forEach(r=>r.visitType(this,n)),this.visitExpression(e,n)}visitConditionalExpr(e,n){return e.condition.visitExpression(this,n),e.trueCase.visitExpression(this,n),e.falseCase.visitExpression(this,n),this.visitExpression(e,n)}visitNotExpr(e,n){return e.condition.visitExpression(this,n),this.visitExpression(e,n)}visitFunctionExpr(e,n){return this.visitAllStatements(e.statements,n),this.visitExpression(e,n)}visitArrowFunctionExpr(e,n){return Array.isArray(e.body)?this.visitAllStatements(e.body,n):e.body.visitExpression(this,n),this.visitExpression(e,n)}visitUnaryOperatorExpr(e,n){return e.expr.visitExpression(this,n),this.visitExpression(e,n)}visitTypeofExpr(e,n){return e.expr.visitExpression(this,n),this.visitExpression(e,n)}visitVoidExpr(e,n){return e.expr.visitExpression(this,n),this.visitExpression(e,n)}visitBinaryOperatorExpr(e,n){return e.lhs.visitExpression(this,n),e.rhs.visitExpression(this,n),this.visitExpression(e,n)}visitReadPropExpr(e,n){return e.receiver.visitExpression(this,n),this.visitExpression(e,n)}visitReadKeyExpr(e,n){return e.receiver.visitExpression(this,n),e.index.visitExpression(this,n),this.visitExpression(e,n)}visitLiteralArrayExpr(e,n){return this.visitAllExpressions(e.entries,n),this.visitExpression(e,n)}visitLiteralMapExpr(e,n){return e.entries.forEach(r=>r.value.visitExpression(this,n)),this.visitExpression(e,n)}visitCommaExpr(e,n){return this.visitAllExpressions(e.parts,n),this.visitExpression(e,n)}visitTemplateLiteralExpr(e,n){return this.visitAllExpressions(e.elements,n),this.visitAllExpressions(e.expressions,n),this.visitExpression(e,n)}visitTemplateLiteralElementExpr(e,n){return this.visitExpression(e,n)}visitParenthesizedExpr(e,n){return e.expr.visitExpression(this,n),this.visitExpression(e,n)}visitAllExpressions(e,n){e.forEach(r=>r.visitExpression(this,n))}visitDeclareVarStmt(e,n){return e.value&&e.value.visitExpression(this,n),e.type&&e.type.visitType(this,n),e}visitDeclareFunctionStmt(e,n){return this.visitAllStatements(e.statements,n),e.type&&e.type.visitType(this,n),e}visitExpressionStmt(e,n){return e.expr.visitExpression(this,n),e}visitReturnStmt(e,n){return e.value.visitExpression(this,n),e}visitIfStmt(e,n){return e.condition.visitExpression(this,n),this.visitAllStatements(e.trueCase,n),this.visitAllStatements(e.falseCase,n),e}visitAllStatements(e,n){e.forEach(r=>r.visitStatement(this,n))}};function ad(t,e=!1,n=!0){return new Fi(t,e,n)}function ld(t=[]){return new Bi(t)}function X(t,e,n){return new Pt(t,e,n)}function P(t,e=null,n){return new qe(t,null,e,n)}function GS(t,e,n){return t!=null?Ve(P(t,e,null),n):null}function Ve(t,e,n){return new lt(t,e,n)}function qS(t,e){return new Ri(t,e)}function si(t){return new zr(t)}function ie(t,e,n){return new xt(t,e,n)}function Qe(t,e=null){return new fn(t.map(n=>new Yr(n.key,n.value,n.quoted)),e,null)}function WS(t,e,n,r){return new Vn(t,e,n,r)}function cd(t,e){return new Gs(t,e)}function Hn(t,e,n,r,s){return new xn(t,e,n,r,s)}function Kt(t,e,n,r){return new Un(t,e,n,r)}function Co(t,e,n,r,s){return new $i(t,e,n,r,s)}function ud(t,e,n,r){return new Us(t,e,n,r)}function v(t,e,n){return new Ie(t,e,n)}function pd(t,e,n,r,s){return new Mi(t,e,n,r,s)}function jS(t){return t instanceof Ie&&t.value===null}function ch(t){let e="";if(t.tagName&&(e+=` @${t.tagName}`),t.text){if(t.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+t.text.replace(/@/g,"\\@")}return e}function KS(t){if(t.length===0)return"";if(t.length===1&&t[0].tagName&&!t[0].text)return`*${ch(t[0])} `;let e=`*
`;for(let n of t)e+=" *",e+=ch(n).replace(/\n/g,`
 * `),e+=`
`;return e+=" ",e}var Nr=Object.freeze({__proto__:null,ArrayType:cc,ArrowFunctionExpr:Un,BOOL_TYPE:rd,get BinaryOperator(){return E},BinaryOperatorExpr:te,BuiltinType:un,get BuiltinTypeName(){return Wt},CommaExpr:fc,ConditionalExpr:hn,DYNAMIC_TYPE:fs,DeclareFunctionStmt:qs,DeclareVarStmt:Pe,DynamicImportExpr:hc,Expression:oe,ExpressionStatement:Lt,ExpressionType:lt,ExternalExpr:qe,ExternalReference:Oi,FUNCTION_TYPE:FS,FnParam:$e,FunctionExpr:xn,INFERRED_TYPE:wt,INT_TYPE:OS,IfStmt:$i,InstantiateExpr:Vs,InvokeFunctionExpr:tt,JSDocComment:Bi,LeadingComment:Fi,LiteralArrayExpr:xt,LiteralExpr:Ie,LiteralMapEntry:Yr,LiteralMapExpr:fn,LiteralPiece:ar,LocalizedString:Mi,MapType:uc,NONE_TYPE:pn,NULL_EXPR:Xr,NUMBER_TYPE:sl,NotExpr:Gs,ParenthesizedExpr:jt,PlaceholderPiece:Hr,ReadKeyExpr:An,ReadPropExpr:ht,ReadVarExpr:Pt,RecursiveAstVisitor:HS,ReturnStatement:Ue,STRING_TYPE:il,Statement:hr,get StmtModifier(){return Re},TYPED_NULL_EXPR:od,TaggedTemplateLiteralExpr:Us,TemplateLiteralElementExpr:Li,TemplateLiteralExpr:Hs,TransplantedType:Ri,Type:pr,get TypeModifier(){return ki},TypeofExpr:zr,get UnaryOperator(){return Cn},UnaryOperatorExpr:Vn,VoidExpr:Pi,WrappedNodeExpr:G,areAllEquivalent:pt,arrowFn:Kt,expressionType:Ve,fn:Hn,ifStmt:Co,importExpr:P,importType:GS,isNull:jS,jsDocComment:ld,leadingComment:ad,literal:v,literalArr:ie,literalMap:Qe,localizedString:pd,not:cd,nullSafeIsEquivalent:sd,taggedTemplate:ud,transplantedType:qS,typeofExpr:si,unary:WS,variable:X}),zS="_c",uh=X("<unknown>"),YS={},XS=50,ua=class t extends oe{constructor(n){super(n.type);a(this,"resolved");a(this,"original");a(this,"shared",!1);this.resolved=n,this.original=n}visitExpression(n,r){return r===YS?this.original.visitExpression(n,r):this.resolved.visitExpression(n,r)}isEquivalent(n){return n instanceof t&&this.resolved.isEquivalent(n.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(n){this.resolved=n,this.shared=!0}},Ws=class{constructor(e=!1){a(this,"isClosureCompilerEnabled");a(this,"statements",[]);a(this,"literals",new Map);a(this,"literalFactories",new Map);a(this,"sharedConstants",new Map);a(this,"_claimedNames",new Map);a(this,"nextNameIndex",0);this.isClosureCompilerEnabled=e}getConstLiteral(e,n){if(e instanceof Ie&&!ph(e)||e instanceof ua)return e;let r=Ps.INSTANCE.keyOf(e),s=this.literals.get(r),i=!1;if(s||(s=new ua(e),this.literals.set(r,s),i=!0),!i&&!s.shared||i&&n){let o=this.freshName(),l,c;this.isClosureCompilerEnabled&&ph(e)?(l=new xn([],[new Ue(e)]),c=X(o).callFn([])):(l=e,c=X(o)),this.statements.push(new Pe(o,l,wt,Re.Final)),s.fixup(c)}return s}getSharedConstant(e,n){let r=e.keyOf(n);if(!this.sharedConstants.has(r)){let s=this.freshName();this.sharedConstants.set(r,X(s)),this.statements.push(e.toSharedConstantDeclaration(s,n))}return this.sharedConstants.get(r)}getLiteralFactory(e){if(e instanceof xt){let n=e.entries.map(s=>s.isConstant()?s:uh),r=Ps.INSTANCE.keyOf(ie(n));return this._getLiteralFactory(r,e.entries,s=>ie(s))}else{let n=Qe(e.entries.map(s=>({key:s.key,value:s.value.isConstant()?s.value:uh,quoted:s.quoted}))),r=Ps.INSTANCE.keyOf(n);return this._getLiteralFactory(r,e.entries.map(s=>s.value),s=>Qe(s.map((i,o)=>({key:e.entries[o].key,value:i,quoted:e.entries[o].quoted}))))}}getSharedFunctionReference(e,n,r=!0){var o;let s=e instanceof Un;for(let l of this.statements)if(s&&l instanceof Pe&&((o=l.value)!=null&&o.isEquivalent(e))||!s&&l instanceof qs&&e instanceof xn&&e.isEquivalent(l))return X(l.name);let i=r?this.uniqueName(n):n;return this.statements.push(e instanceof xn?e.toDeclStmt(i,Re.Final):new Pe(i,e,wt,Re.Final,e.sourceSpan)),X(i)}_getLiteralFactory(e,n,r){let s=this.literalFactories.get(e),i=n.filter(o=>!o.isConstant());if(!s){let o=n.map((u,d)=>u.isConstant()?this.getConstLiteral(u,!0):X(`a${d}`)),l=o.filter(QS).map(u=>new $e(u.name,fs)),c=Kt(l,r(o),wt),p=this.freshName();this.statements.push(new Pe(p,c,wt,Re.Final)),s=X(p),this.literalFactories.set(e,s)}return{literalFactory:s,literalFactoryArguments:i}}uniqueName(e,n=!0){var i;let r=(i=this._claimedNames.get(e))!=null?i:0,s=r===0&&!n?`${e}`:`${e}${r}`;return this._claimedNames.set(e,r+1),s}freshName(){return this.uniqueName(zS)}},rl=class rl{keyOf(e){if(e instanceof Ie&&typeof e.value=="string")return`"${e.value}"`;if(e instanceof Ie)return String(e.value);if(e instanceof xt){let n=[];for(let r of e.entries)n.push(this.keyOf(r));return`[${n.join(",")}]`}else if(e instanceof fn){let n=[];for(let r of e.entries){let s=r.key;r.quoted&&(s=`"${s}"`),n.push(s+":"+this.keyOf(r.value))}return`{${n.join(",")}}`}else{if(e instanceof qe)return`import("${e.value.moduleName}", ${e.value.name})`;if(e instanceof Pt)return`read(${e.name})`;if(e instanceof zr)return`typeof(${this.keyOf(e.expr)})`;throw new Error(`${this.constructor.name} does not handle expressions of type ${e.constructor.name}`)}}};a(rl,"INSTANCE",new rl);var Ps=rl;function QS(t){return t instanceof Pt}function ph(t){return t instanceof Ie&&typeof t.value=="string"&&t.value.length>=XS}var y="@angular/core",f=class{};a(f,"NEW_METHOD","factory"),a(f,"TRANSFORM_METHOD","transform"),a(f,"PATCH_DEPS","patchedDeps"),a(f,"core",{name:null,moduleName:y}),a(f,"namespaceHTML",{name:"\u0275\u0275namespaceHTML",moduleName:y}),a(f,"namespaceMathML",{name:"\u0275\u0275namespaceMathML",moduleName:y}),a(f,"namespaceSVG",{name:"\u0275\u0275namespaceSVG",moduleName:y}),a(f,"element",{name:"\u0275\u0275element",moduleName:y}),a(f,"elementStart",{name:"\u0275\u0275elementStart",moduleName:y}),a(f,"elementEnd",{name:"\u0275\u0275elementEnd",moduleName:y}),a(f,"domElement",{name:"\u0275\u0275domElement",moduleName:y}),a(f,"domElementStart",{name:"\u0275\u0275domElementStart",moduleName:y}),a(f,"domElementEnd",{name:"\u0275\u0275domElementEnd",moduleName:y}),a(f,"domElementContainer",{name:"\u0275\u0275domElementContainer",moduleName:y}),a(f,"domElementContainerStart",{name:"\u0275\u0275domElementContainerStart",moduleName:y}),a(f,"domElementContainerEnd",{name:"\u0275\u0275domElementContainerEnd",moduleName:y}),a(f,"domTemplate",{name:"\u0275\u0275domTemplate",moduleName:y}),a(f,"domListener",{name:"\u0275\u0275domListener",moduleName:y}),a(f,"advance",{name:"\u0275\u0275advance",moduleName:y}),a(f,"syntheticHostProperty",{name:"\u0275\u0275syntheticHostProperty",moduleName:y}),a(f,"syntheticHostListener",{name:"\u0275\u0275syntheticHostListener",moduleName:y}),a(f,"attribute",{name:"\u0275\u0275attribute",moduleName:y}),a(f,"classProp",{name:"\u0275\u0275classProp",moduleName:y}),a(f,"elementContainerStart",{name:"\u0275\u0275elementContainerStart",moduleName:y}),a(f,"elementContainerEnd",{name:"\u0275\u0275elementContainerEnd",moduleName:y}),a(f,"elementContainer",{name:"\u0275\u0275elementContainer",moduleName:y}),a(f,"styleMap",{name:"\u0275\u0275styleMap",moduleName:y}),a(f,"classMap",{name:"\u0275\u0275classMap",moduleName:y}),a(f,"styleProp",{name:"\u0275\u0275styleProp",moduleName:y}),a(f,"interpolate",{name:"\u0275\u0275interpolate",moduleName:y}),a(f,"interpolate1",{name:"\u0275\u0275interpolate1",moduleName:y}),a(f,"interpolate2",{name:"\u0275\u0275interpolate2",moduleName:y}),a(f,"interpolate3",{name:"\u0275\u0275interpolate3",moduleName:y}),a(f,"interpolate4",{name:"\u0275\u0275interpolate4",moduleName:y}),a(f,"interpolate5",{name:"\u0275\u0275interpolate5",moduleName:y}),a(f,"interpolate6",{name:"\u0275\u0275interpolate6",moduleName:y}),a(f,"interpolate7",{name:"\u0275\u0275interpolate7",moduleName:y}),a(f,"interpolate8",{name:"\u0275\u0275interpolate8",moduleName:y}),a(f,"interpolateV",{name:"\u0275\u0275interpolateV",moduleName:y}),a(f,"nextContext",{name:"\u0275\u0275nextContext",moduleName:y}),a(f,"resetView",{name:"\u0275\u0275resetView",moduleName:y}),a(f,"templateCreate",{name:"\u0275\u0275template",moduleName:y}),a(f,"defer",{name:"\u0275\u0275defer",moduleName:y}),a(f,"deferWhen",{name:"\u0275\u0275deferWhen",moduleName:y}),a(f,"deferOnIdle",{name:"\u0275\u0275deferOnIdle",moduleName:y}),a(f,"deferOnImmediate",{name:"\u0275\u0275deferOnImmediate",moduleName:y}),a(f,"deferOnTimer",{name:"\u0275\u0275deferOnTimer",moduleName:y}),a(f,"deferOnHover",{name:"\u0275\u0275deferOnHover",moduleName:y}),a(f,"deferOnInteraction",{name:"\u0275\u0275deferOnInteraction",moduleName:y}),a(f,"deferOnViewport",{name:"\u0275\u0275deferOnViewport",moduleName:y}),a(f,"deferPrefetchWhen",{name:"\u0275\u0275deferPrefetchWhen",moduleName:y}),a(f,"deferPrefetchOnIdle",{name:"\u0275\u0275deferPrefetchOnIdle",moduleName:y}),a(f,"deferPrefetchOnImmediate",{name:"\u0275\u0275deferPrefetchOnImmediate",moduleName:y}),a(f,"deferPrefetchOnTimer",{name:"\u0275\u0275deferPrefetchOnTimer",moduleName:y}),a(f,"deferPrefetchOnHover",{name:"\u0275\u0275deferPrefetchOnHover",moduleName:y}),a(f,"deferPrefetchOnInteraction",{name:"\u0275\u0275deferPrefetchOnInteraction",moduleName:y}),a(f,"deferPrefetchOnViewport",{name:"\u0275\u0275deferPrefetchOnViewport",moduleName:y}),a(f,"deferHydrateWhen",{name:"\u0275\u0275deferHydrateWhen",moduleName:y}),a(f,"deferHydrateNever",{name:"\u0275\u0275deferHydrateNever",moduleName:y}),a(f,"deferHydrateOnIdle",{name:"\u0275\u0275deferHydrateOnIdle",moduleName:y}),a(f,"deferHydrateOnImmediate",{name:"\u0275\u0275deferHydrateOnImmediate",moduleName:y}),a(f,"deferHydrateOnTimer",{name:"\u0275\u0275deferHydrateOnTimer",moduleName:y}),a(f,"deferHydrateOnHover",{name:"\u0275\u0275deferHydrateOnHover",moduleName:y}),a(f,"deferHydrateOnInteraction",{name:"\u0275\u0275deferHydrateOnInteraction",moduleName:y}),a(f,"deferHydrateOnViewport",{name:"\u0275\u0275deferHydrateOnViewport",moduleName:y}),a(f,"deferEnableTimerScheduling",{name:"\u0275\u0275deferEnableTimerScheduling",moduleName:y}),a(f,"conditionalCreate",{name:"\u0275\u0275conditionalCreate",moduleName:y}),a(f,"conditionalBranchCreate",{name:"\u0275\u0275conditionalBranchCreate",moduleName:y}),a(f,"conditional",{name:"\u0275\u0275conditional",moduleName:y}),a(f,"repeater",{name:"\u0275\u0275repeater",moduleName:y}),a(f,"repeaterCreate",{name:"\u0275\u0275repeaterCreate",moduleName:y}),a(f,"repeaterTrackByIndex",{name:"\u0275\u0275repeaterTrackByIndex",moduleName:y}),a(f,"repeaterTrackByIdentity",{name:"\u0275\u0275repeaterTrackByIdentity",moduleName:y}),a(f,"componentInstance",{name:"\u0275\u0275componentInstance",moduleName:y}),a(f,"text",{name:"\u0275\u0275text",moduleName:y}),a(f,"enableBindings",{name:"\u0275\u0275enableBindings",moduleName:y}),a(f,"disableBindings",{name:"\u0275\u0275disableBindings",moduleName:y}),a(f,"getCurrentView",{name:"\u0275\u0275getCurrentView",moduleName:y}),a(f,"textInterpolate",{name:"\u0275\u0275textInterpolate",moduleName:y}),a(f,"textInterpolate1",{name:"\u0275\u0275textInterpolate1",moduleName:y}),a(f,"textInterpolate2",{name:"\u0275\u0275textInterpolate2",moduleName:y}),a(f,"textInterpolate3",{name:"\u0275\u0275textInterpolate3",moduleName:y}),a(f,"textInterpolate4",{name:"\u0275\u0275textInterpolate4",moduleName:y}),a(f,"textInterpolate5",{name:"\u0275\u0275textInterpolate5",moduleName:y}),a(f,"textInterpolate6",{name:"\u0275\u0275textInterpolate6",moduleName:y}),a(f,"textInterpolate7",{name:"\u0275\u0275textInterpolate7",moduleName:y}),a(f,"textInterpolate8",{name:"\u0275\u0275textInterpolate8",moduleName:y}),a(f,"textInterpolateV",{name:"\u0275\u0275textInterpolateV",moduleName:y}),a(f,"restoreView",{name:"\u0275\u0275restoreView",moduleName:y}),a(f,"pureFunction0",{name:"\u0275\u0275pureFunction0",moduleName:y}),a(f,"pureFunction1",{name:"\u0275\u0275pureFunction1",moduleName:y}),a(f,"pureFunction2",{name:"\u0275\u0275pureFunction2",moduleName:y}),a(f,"pureFunction3",{name:"\u0275\u0275pureFunction3",moduleName:y}),a(f,"pureFunction4",{name:"\u0275\u0275pureFunction4",moduleName:y}),a(f,"pureFunction5",{name:"\u0275\u0275pureFunction5",moduleName:y}),a(f,"pureFunction6",{name:"\u0275\u0275pureFunction6",moduleName:y}),a(f,"pureFunction7",{name:"\u0275\u0275pureFunction7",moduleName:y}),a(f,"pureFunction8",{name:"\u0275\u0275pureFunction8",moduleName:y}),a(f,"pureFunctionV",{name:"\u0275\u0275pureFunctionV",moduleName:y}),a(f,"pipeBind1",{name:"\u0275\u0275pipeBind1",moduleName:y}),a(f,"pipeBind2",{name:"\u0275\u0275pipeBind2",moduleName:y}),a(f,"pipeBind3",{name:"\u0275\u0275pipeBind3",moduleName:y}),a(f,"pipeBind4",{name:"\u0275\u0275pipeBind4",moduleName:y}),a(f,"pipeBindV",{name:"\u0275\u0275pipeBindV",moduleName:y}),a(f,"domProperty",{name:"\u0275\u0275domProperty",moduleName:y}),a(f,"ariaProperty",{name:"\u0275\u0275ariaProperty",moduleName:y}),a(f,"property",{name:"\u0275\u0275property",moduleName:y}),a(f,"animationEnterListener",{name:"\u0275\u0275animateEnterListener",moduleName:y}),a(f,"animationLeaveListener",{name:"\u0275\u0275animateLeaveListener",moduleName:y}),a(f,"animationEnter",{name:"\u0275\u0275animateEnter",moduleName:y}),a(f,"animationLeave",{name:"\u0275\u0275animateLeave",moduleName:y}),a(f,"i18n",{name:"\u0275\u0275i18n",moduleName:y}),a(f,"i18nAttributes",{name:"\u0275\u0275i18nAttributes",moduleName:y}),a(f,"i18nExp",{name:"\u0275\u0275i18nExp",moduleName:y}),a(f,"i18nStart",{name:"\u0275\u0275i18nStart",moduleName:y}),a(f,"i18nEnd",{name:"\u0275\u0275i18nEnd",moduleName:y}),a(f,"i18nApply",{name:"\u0275\u0275i18nApply",moduleName:y}),a(f,"i18nPostprocess",{name:"\u0275\u0275i18nPostprocess",moduleName:y}),a(f,"pipe",{name:"\u0275\u0275pipe",moduleName:y}),a(f,"projection",{name:"\u0275\u0275projection",moduleName:y}),a(f,"projectionDef",{name:"\u0275\u0275projectionDef",moduleName:y}),a(f,"reference",{name:"\u0275\u0275reference",moduleName:y}),a(f,"inject",{name:"\u0275\u0275inject",moduleName:y}),a(f,"injectAttribute",{name:"\u0275\u0275injectAttribute",moduleName:y}),a(f,"directiveInject",{name:"\u0275\u0275directiveInject",moduleName:y}),a(f,"invalidFactory",{name:"\u0275\u0275invalidFactory",moduleName:y}),a(f,"invalidFactoryDep",{name:"\u0275\u0275invalidFactoryDep",moduleName:y}),a(f,"templateRefExtractor",{name:"\u0275\u0275templateRefExtractor",moduleName:y}),a(f,"forwardRef",{name:"forwardRef",moduleName:y}),a(f,"resolveForwardRef",{name:"resolveForwardRef",moduleName:y}),a(f,"replaceMetadata",{name:"\u0275\u0275replaceMetadata",moduleName:y}),a(f,"getReplaceMetadataURL",{name:"\u0275\u0275getReplaceMetadataURL",moduleName:y}),a(f,"\u0275\u0275defineInjectable",{name:"\u0275\u0275defineInjectable",moduleName:y}),a(f,"declareInjectable",{name:"\u0275\u0275ngDeclareInjectable",moduleName:y}),a(f,"InjectableDeclaration",{name:"\u0275\u0275InjectableDeclaration",moduleName:y}),a(f,"resolveWindow",{name:"\u0275\u0275resolveWindow",moduleName:y}),a(f,"resolveDocument",{name:"\u0275\u0275resolveDocument",moduleName:y}),a(f,"resolveBody",{name:"\u0275\u0275resolveBody",moduleName:y}),a(f,"getComponentDepsFactory",{name:"\u0275\u0275getComponentDepsFactory",moduleName:y}),a(f,"defineComponent",{name:"\u0275\u0275defineComponent",moduleName:y}),a(f,"declareComponent",{name:"\u0275\u0275ngDeclareComponent",moduleName:y}),a(f,"setComponentScope",{name:"\u0275\u0275setComponentScope",moduleName:y}),a(f,"ChangeDetectionStrategy",{name:"ChangeDetectionStrategy",moduleName:y}),a(f,"ViewEncapsulation",{name:"ViewEncapsulation",moduleName:y}),a(f,"ComponentDeclaration",{name:"\u0275\u0275ComponentDeclaration",moduleName:y}),a(f,"FactoryDeclaration",{name:"\u0275\u0275FactoryDeclaration",moduleName:y}),a(f,"declareFactory",{name:"\u0275\u0275ngDeclareFactory",moduleName:y}),a(f,"FactoryTarget",{name:"\u0275\u0275FactoryTarget",moduleName:y}),a(f,"defineDirective",{name:"\u0275\u0275defineDirective",moduleName:y}),a(f,"declareDirective",{name:"\u0275\u0275ngDeclareDirective",moduleName:y}),a(f,"DirectiveDeclaration",{name:"\u0275\u0275DirectiveDeclaration",moduleName:y}),a(f,"InjectorDef",{name:"\u0275\u0275InjectorDef",moduleName:y}),a(f,"InjectorDeclaration",{name:"\u0275\u0275InjectorDeclaration",moduleName:y}),a(f,"defineInjector",{name:"\u0275\u0275defineInjector",moduleName:y}),a(f,"declareInjector",{name:"\u0275\u0275ngDeclareInjector",moduleName:y}),a(f,"NgModuleDeclaration",{name:"\u0275\u0275NgModuleDeclaration",moduleName:y}),a(f,"ModuleWithProviders",{name:"ModuleWithProviders",moduleName:y}),a(f,"defineNgModule",{name:"\u0275\u0275defineNgModule",moduleName:y}),a(f,"declareNgModule",{name:"\u0275\u0275ngDeclareNgModule",moduleName:y}),a(f,"setNgModuleScope",{name:"\u0275\u0275setNgModuleScope",moduleName:y}),a(f,"registerNgModuleType",{name:"\u0275\u0275registerNgModuleType",moduleName:y}),a(f,"PipeDeclaration",{name:"\u0275\u0275PipeDeclaration",moduleName:y}),a(f,"definePipe",{name:"\u0275\u0275definePipe",moduleName:y}),a(f,"declarePipe",{name:"\u0275\u0275ngDeclarePipe",moduleName:y}),a(f,"declareClassMetadata",{name:"\u0275\u0275ngDeclareClassMetadata",moduleName:y}),a(f,"declareClassMetadataAsync",{name:"\u0275\u0275ngDeclareClassMetadataAsync",moduleName:y}),a(f,"setClassMetadata",{name:"\u0275setClassMetadata",moduleName:y}),a(f,"setClassMetadataAsync",{name:"\u0275setClassMetadataAsync",moduleName:y}),a(f,"setClassDebugInfo",{name:"\u0275setClassDebugInfo",moduleName:y}),a(f,"queryRefresh",{name:"\u0275\u0275queryRefresh",moduleName:y}),a(f,"viewQuery",{name:"\u0275\u0275viewQuery",moduleName:y}),a(f,"loadQuery",{name:"\u0275\u0275loadQuery",moduleName:y}),a(f,"contentQuery",{name:"\u0275\u0275contentQuery",moduleName:y}),a(f,"viewQuerySignal",{name:"\u0275\u0275viewQuerySignal",moduleName:y}),a(f,"contentQuerySignal",{name:"\u0275\u0275contentQuerySignal",moduleName:y}),a(f,"queryAdvance",{name:"\u0275\u0275queryAdvance",moduleName:y}),a(f,"twoWayProperty",{name:"\u0275\u0275twoWayProperty",moduleName:y}),a(f,"twoWayBindingSet",{name:"\u0275\u0275twoWayBindingSet",moduleName:y}),a(f,"twoWayListener",{name:"\u0275\u0275twoWayListener",moduleName:y}),a(f,"declareLet",{name:"\u0275\u0275declareLet",moduleName:y}),a(f,"storeLet",{name:"\u0275\u0275storeLet",moduleName:y}),a(f,"readContextLet",{name:"\u0275\u0275readContextLet",moduleName:y}),a(f,"attachSourceLocations",{name:"\u0275\u0275attachSourceLocations",moduleName:y}),a(f,"NgOnChangesFeature",{name:"\u0275\u0275NgOnChangesFeature",moduleName:y}),a(f,"InheritDefinitionFeature",{name:"\u0275\u0275InheritDefinitionFeature",moduleName:y}),a(f,"CopyDefinitionFeature",{name:"\u0275\u0275CopyDefinitionFeature",moduleName:y}),a(f,"ProvidersFeature",{name:"\u0275\u0275ProvidersFeature",moduleName:y}),a(f,"HostDirectivesFeature",{name:"\u0275\u0275HostDirectivesFeature",moduleName:y}),a(f,"ExternalStylesFeature",{name:"\u0275\u0275ExternalStylesFeature",moduleName:y}),a(f,"AnimationsFeature",{name:"\u0275\u0275AnimationsFeature",moduleName:y}),a(f,"listener",{name:"\u0275\u0275listener",moduleName:y}),a(f,"getInheritedFactory",{name:"\u0275\u0275getInheritedFactory",moduleName:y}),a(f,"sanitizeHtml",{name:"\u0275\u0275sanitizeHtml",moduleName:y}),a(f,"sanitizeStyle",{name:"\u0275\u0275sanitizeStyle",moduleName:y}),a(f,"sanitizeResourceUrl",{name:"\u0275\u0275sanitizeResourceUrl",moduleName:y}),a(f,"sanitizeScript",{name:"\u0275\u0275sanitizeScript",moduleName:y}),a(f,"sanitizeUrl",{name:"\u0275\u0275sanitizeUrl",moduleName:y}),a(f,"sanitizeUrlOrResourceUrl",{name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:y}),a(f,"trustConstantHtml",{name:"\u0275\u0275trustConstantHtml",moduleName:y}),a(f,"trustConstantResourceUrl",{name:"\u0275\u0275trustConstantResourceUrl",moduleName:y}),a(f,"validateIframeAttribute",{name:"\u0275\u0275validateIframeAttribute",moduleName:y}),a(f,"InputSignalBrandWriteType",{name:"\u0275INPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:y}),a(f,"UnwrapDirectiveSignalInputs",{name:"\u0275UnwrapDirectiveSignalInputs",moduleName:y}),a(f,"unwrapWritableSignal",{name:"\u0275unwrapWritableSignal",moduleName:y}),a(f,"assertType",{name:"\u0275assertType",moduleName:y});var JS=/-+([a-z0-9])/g;function ZS(t){return t.replace(JS,(...e)=>e[1].toUpperCase())}function eE(t,e){return hd(t,":",e)}function tE(t,e){return hd(t,".",e)}function hd(t,e,n){let r=t.indexOf(e);return r==-1?n:[t.slice(0,r).trim(),t.slice(r+1).trim()]}function nE(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r>=55296&&r<=56319&&t.length>n+1){let s=t.charCodeAt(n+1);s>=56320&&s<=57343&&(n++,r=(r-55296<<10)+s-56320+65536)}r<=127?e.push(r):r<=2047?e.push(r>>6&31|192,r&63|128):r<=65535?e.push(r>>12|224,r>>6&63|128,r&63|128):r<=2097151&&e.push(r>>18&7|240,r>>12&63|128,r>>6&63|128,r&63|128)}return e}function fd(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(fd).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;if(!t.toString)return"object";let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}var Ui=class{constructor(e){a(this,"full");a(this,"major");a(this,"minor");a(this,"patch");this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Ai=globalThis,rE=/^([1-9]|1[0-8])\./;function dd(t){return t.startsWith("0.")?!0:!rE.test(t)}var sE=3,iE="# sourceMappingURL=data:application/json;base64,",dc=class{constructor(e=null){a(this,"file");a(this,"sourcesContent",new Map);a(this,"lines",[]);a(this,"lastCol0",0);a(this,"hasMappings",!1);this.file=e}addSource(e,n=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,n),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,n,r,s){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(n!=null&&!this.sourcesContent.has(n))throw new Error(`Unknown source file "${n}"`);if(e==null)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(n&&(r==null||s==null))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:n,sourceLine0:r,sourceCol0:s}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;let e=new Map,n=[],r=[];Array.from(this.sourcesContent.keys()).forEach((p,u)=>{e.set(p,u),n.push(p),r.push(this.sourcesContent.get(p)||null)});let s="",i=0,o=0,l=0,c=0;return this.lines.forEach(p=>{i=0,s+=p.map(u=>{let d=Uo(u.col0-i);return i=u.col0,u.sourceUrl!=null&&(d+=Uo(e.get(u.sourceUrl)-o),o=e.get(u.sourceUrl),d+=Uo(u.sourceLine0-l),l=u.sourceLine0,d+=Uo(u.sourceCol0-c),c=u.sourceCol0),d}).join(","),s+=";"}),s=s.slice(0,-1),{file:this.file||"",version:sE,sourceRoot:"",sources:n,sourcesContent:r,mappings:s}}toJsComment(){return this.hasMappings?"//"+iE+oE(JSON.stringify(this,null,0)):""}};function oE(t){let e="",n=nE(t);for(let r=0;r<n.length;){let s=n[r++],i=r<n.length?n[r++]:null,o=r<n.length?n[r++]:null;e+=Ti(s>>2),e+=Ti((s&3)<<4|(i===null?0:i>>4)),e+=i===null?"=":Ti((i&15)<<2|(o===null?0:o>>6)),e+=i===null||o===null?"=":Ti(o&63)}return e}function Uo(t){t=t<0?(-t<<1)+1:t<<1;let e="";do{let n=t&31;t=t>>5,t>0&&(n=n|32),e+=Ti(n)}while(t>0);return e}var aE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Ti(t){if(t<0||t>=64)throw new Error("Can only encode value in the range [0, 63]");return aE[t]}var lE=/'|\\|\n|\r|\$/g,cE=/^[$A-Z_][0-9A-Z_$]*$/i,mc="  ",pa=class{constructor(e){a(this,"indent");a(this,"partsLength",0);a(this,"parts",[]);a(this,"srcSpans",[]);this.indent=e}},uE=new Map([[E.And,"&&"],[E.Bigger,">"],[E.BiggerEquals,">="],[E.BitwiseOr,"|"],[E.BitwiseAnd,"&"],[E.Divide,"/"],[E.Assign,"="],[E.Equals,"=="],[E.Identical,"==="],[E.Lower,"<"],[E.LowerEquals,"<="],[E.Minus,"-"],[E.Modulo,"%"],[E.Exponentiation,"**"],[E.Multiply,"*"],[E.NotEquals,"!="],[E.NotIdentical,"!=="],[E.NullishCoalesce,"??"],[E.Or,"||"],[E.Plus,"+"],[E.In,"in"],[E.AdditionAssignment,"+="],[E.SubtractionAssignment,"-="],[E.MultiplicationAssignment,"*="],[E.DivisionAssignment,"/="],[E.RemainderAssignment,"%="],[E.ExponentiationAssignment,"**="],[E.AndAssignment,"&&="],[E.OrAssignment,"||="],[E.NullishCoalesceAssignment,"??="]]),gc=class t{constructor(e){a(this,"_indent");a(this,"_lines");this._indent=e,this._lines=[new pa(e)]}static createRoot(){return new t(0)}get _currentLine(){return this._lines[this._lines.length-1]}println(e,n=""){this.print(e||null,n,!0)}lineIsEmpty(){return this._currentLine.parts.length===0}lineLength(){return this._currentLine.indent*mc.length+this._currentLine.partsLength}print(e,n,r=!1){n.length>0&&(this._currentLine.parts.push(n),this._currentLine.partsLength+=n.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),r&&this._lines.push(new pa(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(e=>e.parts.length>0?hh(e.indent)+e.parts.join(""):"").join(`
`)}toSourceMapGenerator(e,n=0){let r=new dc(e),s=!1,i=()=>{s||(r.addSource(e," ").addMapping(0,e,0,0),s=!0)};for(let o=0;o<n;o++)r.addLine(),i();return this.sourceLines.forEach((o,l)=>{r.addLine();let c=o.srcSpans,p=o.parts,u=o.indent*mc.length,d=0;for(;d<c.length&&!c[d];)u+=p[d].length,d++;for(d<c.length&&l===0&&u===0?s=!0:i();d<c.length;){let m=c[d],g=m.start.file,S=m.start.line,T=m.start.col;for(r.addSource(g.url,g.content).addMapping(u,g.url,S,T),u+=p[d].length,d++;d<c.length&&(m===c[d]||!c[d]);)u+=p[d].length,d++}}),r}spanOf(e,n){let r=this._lines[e];if(r){let s=n-hh(r.indent).length;for(let i=0;i<r.parts.length;i++){let o=r.parts[i];if(o.length>s)return r.srcSpans[i];s-=o.length}}return null}get sourceLines(){return this._lines.length&&this._lines[this._lines.length-1].parts.length===0?this._lines.slice(0,-1):this._lines}},yc=class{constructor(e){a(this,"_escapeDollarInStrings");a(this,"lastIfCondition",null);this._escapeDollarInStrings=e}printLeadingComments(e,n){if(e.leadingComments!==void 0)for(let r of e.leadingComments)r instanceof Bi?n.print(e,`/*${r.toString()}*/`,r.trailingNewline):r.multiline?n.print(e,`/* ${r.text} */`,r.trailingNewline):r.text.split(`
`).forEach(s=>{n.println(e,`// ${s}`)})}visitExpressionStmt(e,n){return this.printLeadingComments(e,n),e.expr.visitExpression(this,n),n.println(e,";"),null}visitReturnStmt(e,n){return this.printLeadingComments(e,n),n.print(e,"return "),e.value.visitExpression(this,n),n.println(e,";"),null}visitIfStmt(e,n){this.printLeadingComments(e,n),n.print(e,"if ("),this.lastIfCondition=e.condition,e.condition.visitExpression(this,n),this.lastIfCondition=null,n.print(e,") {");let r=e.falseCase!=null&&e.falseCase.length>0;return e.trueCase.length<=1&&!r?(n.print(e," "),this.visitAllStatements(e.trueCase,n),n.removeEmptyLastLine(),n.print(e," ")):(n.println(),n.incIndent(),this.visitAllStatements(e.trueCase,n),n.decIndent(),r&&(n.println(e,"} else {"),n.incIndent(),this.visitAllStatements(e.falseCase,n),n.decIndent())),n.println(e,"}"),null}visitInvokeFunctionExpr(e,n){let r=e.fn instanceof Un;return r&&n.print(e.fn,"("),e.fn.visitExpression(this,n),r&&n.print(e.fn,")"),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitTaggedTemplateLiteralExpr(e,n){return e.tag.visitExpression(this,n),e.template.visitExpression(this,n),null}visitTemplateLiteralExpr(e,n){n.print(e,"`");for(let r=0;r<e.elements.length;r++){e.elements[r].visitExpression(this,n);let s=r<e.expressions.length?e.expressions[r]:null;s!==null&&(n.print(s,"${"),s.visitExpression(this,n),n.print(s,"}"))}n.print(e,"`")}visitTemplateLiteralElementExpr(e,n){n.print(e,e.rawText)}visitWrappedNodeExpr(e,n){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,n){n.print(e,"typeof "),e.expr.visitExpression(this,n)}visitVoidExpr(e,n){n.print(e,"void "),e.expr.visitExpression(this,n)}visitReadVarExpr(e,n){return n.print(e,e.name),null}visitInstantiateExpr(e,n){return n.print(e,"new "),e.classExpr.visitExpression(this,n),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitLiteralExpr(e,n){let r=e.value;return typeof r=="string"?n.print(e,$r(r,this._escapeDollarInStrings)):n.print(e,`${r}`),null}visitLocalizedString(e,n){let r=e.serializeI18nHead();n.print(e,"$localize `"+r.raw);for(let s=1;s<e.messageParts.length;s++)n.print(e,"${"),e.expressions[s-1].visitExpression(this,n),n.print(e,`}${e.serializeI18nTemplatePart(s).raw}`);return n.print(e,"`"),null}visitConditionalExpr(e,n){return n.print(e,"("),e.condition.visitExpression(this,n),n.print(e,"? "),e.trueCase.visitExpression(this,n),n.print(e,": "),e.falseCase.visitExpression(this,n),n.print(e,")"),null}visitDynamicImportExpr(e,n){n.print(e,`import(${e.url})`)}visitNotExpr(e,n){return n.print(e,"!"),e.condition.visitExpression(this,n),null}visitUnaryOperatorExpr(e,n){let r;switch(e.operator){case Cn.Plus:r="+";break;case Cn.Minus:r="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}let s=e!==this.lastIfCondition;return s&&n.print(e,"("),n.print(e,r),e.expr.visitExpression(this,n),s&&n.print(e,")"),null}visitBinaryOperatorExpr(e,n){let r=uE.get(e.operator);if(!r)throw new Error(`Unknown operator ${e.operator}`);let s=e!==this.lastIfCondition;return s&&n.print(e,"("),e.lhs.visitExpression(this,n),n.print(e,` ${r} `),e.rhs.visitExpression(this,n),s&&n.print(e,")"),null}visitReadPropExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"."),n.print(e,e.name),null}visitReadKeyExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"["),e.index.visitExpression(this,n),n.print(e,"]"),null}visitLiteralArrayExpr(e,n){return n.print(e,"["),this.visitAllExpressions(e.entries,n,","),n.print(e,"]"),null}visitLiteralMapExpr(e,n){return n.print(e,"{"),this.visitAllObjects(r=>{n.print(e,`${$r(r.key,this._escapeDollarInStrings,r.quoted)}:`),r.value.visitExpression(this,n)},e.entries,n,","),n.print(e,"}"),null}visitCommaExpr(e,n){return n.print(e,"("),this.visitAllExpressions(e.parts,n,","),n.print(e,")"),null}visitParenthesizedExpr(e,n){e.expr.visitExpression(this,n)}visitAllExpressions(e,n,r){this.visitAllObjects(s=>s.visitExpression(this,n),e,n,r)}visitAllObjects(e,n,r,s){let i=!1;for(let o=0;o<n.length;o++)o>0&&(r.lineLength()>80?(r.print(null,s,!0),i||(r.incIndent(),r.incIndent(),i=!0)):r.print(null,s,!1)),e(n[o]);i&&(r.decIndent(),r.decIndent())}visitAllStatements(e,n){e.forEach(r=>r.visitStatement(this,n))}};function $r(t,e,n=!0){if(t==null)return null;let r=t.replace(lE,(...i)=>i[0]=="$"?e?"\\$":"$":i[0]==`
`?"\\n":i[0]=="\r"?"\\r":`\\${i[0]}`);return n||!cE.test(r)?`'${r}'`:r}function hh(t){let e="";for(let n=0;n<t;n++)e+=mc;return e}function ol(t,e){if(e===0)return Ve(t);let n=[];for(let r=0;r<e;r++)n.push(fs);return Ve(t,void 0,n)}function md(t,e){let n=$r(e,!1,!1);return n!==e?`${t}[${n}]`:`${t}.${e}`}function pE(t){return hE("ngJitMode",t)}function hE(t,e){let n=new qe({name:t,moduleName:null}),r=new te(E.Identical,new zr(n),v("undefined")),s=new te(E.Or,r,n,void 0,void 0);return new te(E.And,s,e)}function Fe(t){let e=new G(t);return{value:e,type:e}}function Ur(t,e){let n=ie(t.map(r=>r.value));return e?Kt([],n):n}function ds(t,e){return{expression:t,forwardRef:e}}function fE({expression:t,forwardRef:e}){switch(e){case 0:case 1:return t;case 2:return dE(t)}}function dE(t){return P(f.forwardRef).callFn([Kt([],t)])}var Vi;(function(t){t[t.Class=0]="Class",t[t.Function=1]="Function"})(Vi||(Vi={}));function nr(t){let e=X("__ngFactoryType__"),n=null,r=dh(t)?e:new te(E.Or,e,t.type.value),s=null;t.deps!==null?t.deps!=="invalid"&&(s=new Vs(r,fh(t.deps,t.target))):(n=X(`\u0275${t.name}_BaseFactory`),s=n.callFn([r]));let i=[],o=null;function l(p){let u=X("__ngConditionalFactory__");i.push(new Pe(u.name,Xr,wt));let d=s!==null?u.set(s).toStmt():P(f.invalidFactory).callFn([]).toStmt();return i.push(Co(e,[d],[u.set(p).toStmt()])),u}if(dh(t)){let p=fh(t.delegateDeps,t.target),u=new(t.delegateType===Vi.Class?Vs:tt)(t.delegate,p);o=l(u)}else SE(t)?o=l(t.expression):o=s;if(o===null)i.push(P(f.invalidFactory).callFn([]).toStmt());else if(n!==null){let p=P(f.getInheritedFactory).callFn([t.type.value]),u=new te(E.Or,n,n.set(p));i.push(new Ue(u.callFn([r])))}else i.push(new Ue(o));let c=Hn([new $e(e.name,fs)],i,wt,void 0,`${t.name}_Factory`);return n!==null&&(c=Kt([],[new Pe(n.name),new Ue(c)]).callFn([],void 0,!0)),{expression:c,statements:[],type:mE(t)}}function mE(t){let e=t.deps!==null&&t.deps!=="invalid"?yE(t.deps):pn;return Ve(P(f.FactoryDeclaration,[ol(t.type.type,t.typeArgumentCount),e]))}function fh(t,e){return t.map((n,r)=>gE(n,e,r))}function gE(t,e,n){if(t.token===null)return P(f.invalidFactoryDep).callFn([v(n)]);if(t.attributeNameType===null){let r=0|(t.self?2:0)|(t.skipSelf?4:0)|(t.host?1:0)|(t.optional?8:0)|(e===at.Pipe?16:0),s=r!==0||t.optional?v(r):null,i=[t.token];s&&i.push(s);let o=EE(e);return P(o).callFn(i)}else return P(f.injectAttribute).callFn([t.token])}function yE(t){let e=!1,n=t.map(r=>{let s=vE(r);return s!==null?(e=!0,s):v(null)});return e?Ve(ie(n)):pn}function vE(t){let e=[];return t.attributeNameType!==null&&e.push({key:"attribute",value:t.attributeNameType,quoted:!1}),t.optional&&e.push({key:"optional",value:v(!0),quoted:!1}),t.host&&e.push({key:"host",value:v(!0),quoted:!1}),t.self&&e.push({key:"self",value:v(!0),quoted:!1}),t.skipSelf&&e.push({key:"skipSelf",value:v(!0),quoted:!1}),e.length>0?Qe(e):null}function dh(t){return t.delegateType!==void 0}function SE(t){return t.expression!==void 0}function EE(t){switch(t){case at.Component:case at.Directive:case at.Pipe:return f.directiveInject;case at.NgModule:case at.Injectable:default:return f.inject}}var fr=class{constructor(e,n){a(this,"start");a(this,"end");this.start=e,this.end=n}toAbsolute(e){return new Ye(e+this.start,e+this.end)}},he=class{constructor(e,n){a(this,"span");a(this,"sourceSpan");this.span=e,this.sourceSpan=n}toString(){return"AST"}},Qr=class extends he{constructor(n,r,s){super(n,r);a(this,"nameSpan");this.nameSpan=s}},et=class extends he{visit(e,n=null){}},ft=class extends he{visit(e,n=null){return e.visitImplicitReceiver(this,n)}},Gn=class extends ft{visit(e,n=null){var r;return(r=e.visitThisReceiver)==null?void 0:r.call(e,this,n)}},dr=class extends he{constructor(n,r,s){super(n,r);a(this,"expressions");this.expressions=s}visit(n,r=null){return n.visitChain(this,r)}},js=class extends he{constructor(n,r,s,i,o){super(n,r);a(this,"condition");a(this,"trueExp");a(this,"falseExp");this.condition=s,this.trueExp=i,this.falseExp=o}visit(n,r=null){return n.visitConditional(this,r)}},de=class extends Qr{constructor(n,r,s,i,o){super(n,r,s);a(this,"receiver");a(this,"name");this.receiver=i,this.name=o}visit(n,r=null){return n.visitPropertyRead(this,r)}},We=class extends Qr{constructor(n,r,s,i,o){super(n,r,s);a(this,"receiver");a(this,"name");this.receiver=i,this.name=o}visit(n,r=null){return n.visitSafePropertyRead(this,r)}},mr=class extends he{constructor(n,r,s,i){super(n,r);a(this,"receiver");a(this,"key");this.receiver=s,this.key=i}visit(n,r=null){return n.visitKeyedRead(this,r)}},gr=class extends he{constructor(n,r,s,i){super(n,r);a(this,"receiver");a(this,"key");this.receiver=s,this.key=i}visit(n,r=null){return n.visitSafeKeyedRead(this,r)}},Ls;(function(t){t[t.ReferencedByName=0]="ReferencedByName",t[t.ReferencedDirectly=1]="ReferencedDirectly"})(Ls||(Ls={}));var Jr=class extends Qr{constructor(n,r,s,i,o,l,c){super(n,r,c);a(this,"exp");a(this,"name");a(this,"args");a(this,"type");this.exp=s,this.name=i,this.args=o,this.type=l}visit(n,r=null){return n.visitPipe(this,r)}},St=class extends he{constructor(n,r,s){super(n,r);a(this,"value");this.value=s}visit(n,r=null){return n.visitLiteralPrimitive(this,r)}},ha=class extends he{constructor(n,r,s){super(n,r);a(this,"expressions");this.expressions=s}visit(n,r=null){return n.visitLiteralArray(this,r)}},fa=class extends he{constructor(n,r,s,i){super(n,r);a(this,"keys");a(this,"values");this.keys=s,this.values=i}visit(n,r=null){return n.visitLiteralMap(this,r)}},Yn=class extends he{constructor(n,r,s,i){super(n,r);a(this,"strings");a(this,"expressions");this.strings=s,this.expressions=i}visit(n,r=null){return n.visitInterpolation(this,r)}},we=class extends he{constructor(n,r,s,i,o){super(n,r);a(this,"operation");a(this,"left");a(this,"right");this.operation=s,this.left=i,this.right=o}visit(n,r=null){return n.visitBinary(this,r)}static isAssignmentOperation(n){return n==="="||n==="+="||n==="-="||n==="*="||n==="/="||n==="%="||n==="**="||n==="&&="||n==="||="||n==="??="}},Ms=class t extends we{constructor(n,r,s,i,o,l,c){super(n,r,o,l,c);a(this,"operator");a(this,"expr");a(this,"left",null);a(this,"right",null);a(this,"operation",null);this.operator=s,this.expr=i}static createMinus(n,r,s){return new t(n,r,"-",s,"-",new St(n,r,0),s)}static createPlus(n,r,s){return new t(n,r,"+",s,"-",s,new St(n,r,0))}visit(n,r=null){return n.visitUnary!==void 0?n.visitUnary(this,r):n.visitBinary(this,r)}},Nn=class extends he{constructor(n,r,s){super(n,r);a(this,"expression");this.expression=s}visit(n,r=null){return n.visitPrefixNot(this,r)}},Hi=class extends he{constructor(n,r,s){super(n,r);a(this,"expression");this.expression=s}visit(n,r=null){return n.visitTypeofExpression(this,r)}},Gi=class extends he{constructor(n,r,s){super(n,r);a(this,"expression");this.expression=s}visit(n,r=null){return n.visitVoidExpression(this,r)}},qi=class extends he{constructor(n,r,s){super(n,r);a(this,"expression");this.expression=s}visit(n,r=null){return n.visitNonNullAssert(this,r)}},Ct=class extends he{constructor(n,r,s,i,o){super(n,r);a(this,"receiver");a(this,"args");a(this,"argumentSpan");this.receiver=s,this.args=i,this.argumentSpan=o}visit(n,r=null){return n.visitCall(this,r)}},zt=class extends he{constructor(n,r,s,i,o){super(n,r);a(this,"receiver");a(this,"args");a(this,"argumentSpan");this.receiver=s,this.args=i,this.argumentSpan=o}visit(n,r=null){return n.visitSafeCall(this,r)}},Wi=class extends he{constructor(n,r,s,i){super(n,r);a(this,"tag");a(this,"template");this.tag=s,this.template=i}visit(n,r){return n.visitTaggedTemplateLiteral(this,r)}},ji=class extends he{constructor(n,r,s,i){super(n,r);a(this,"elements");a(this,"expressions");this.elements=s,this.expressions=i}visit(n,r){return n.visitTemplateLiteral(this,r)}},da=class extends he{constructor(n,r,s){super(n,r);a(this,"text");this.text=s}visit(n,r){return n.visitTemplateLiteralElement(this,r)}},Ki=class extends he{constructor(n,r,s){super(n,r);a(this,"expression");this.expression=s}visit(n,r){return n.visitParenthesizedExpression(this,r)}},Ye=class{constructor(e,n){a(this,"start");a(this,"end");this.start=e,this.end=n}},Se=class extends he{constructor(n,r,s,i,o){super(new fr(0,r===null?0:r.length),new Ye(i,r===null?i:i+r.length));a(this,"ast");a(this,"source");a(this,"location");a(this,"errors");this.ast=n,this.source=r,this.location=s,this.errors=o}visit(n,r=null){return n.visitASTWithSource?n.visitASTWithSource(this,r):this.ast.visit(n,r)}toString(){return`${this.source} in ${this.location}`}},zi=class{constructor(e,n,r){a(this,"sourceSpan");a(this,"key");a(this,"value");this.sourceSpan=e,this.key=n,this.value=r}},vc=class{constructor(e,n,r){a(this,"sourceSpan");a(this,"key");a(this,"value");this.sourceSpan=e,this.key=n,this.value=r}},Ks=class{visit(e,n){e.visit(this,n)}visitUnary(e,n){this.visit(e.expr,n)}visitBinary(e,n){this.visit(e.left,n),this.visit(e.right,n)}visitChain(e,n){this.visitAll(e.expressions,n)}visitConditional(e,n){this.visit(e.condition,n),this.visit(e.trueExp,n),this.visit(e.falseExp,n)}visitPipe(e,n){this.visit(e.exp,n),this.visitAll(e.args,n)}visitImplicitReceiver(e,n){}visitThisReceiver(e,n){}visitInterpolation(e,n){this.visitAll(e.expressions,n)}visitKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitLiteralArray(e,n){this.visitAll(e.expressions,n)}visitLiteralMap(e,n){this.visitAll(e.values,n)}visitLiteralPrimitive(e,n){}visitPrefixNot(e,n){this.visit(e.expression,n)}visitTypeofExpression(e,n){this.visit(e.expression,n)}visitVoidExpression(e,n){this.visit(e.expression,n)}visitNonNullAssert(e,n){this.visit(e.expression,n)}visitPropertyRead(e,n){this.visit(e.receiver,n)}visitSafePropertyRead(e,n){this.visit(e.receiver,n)}visitSafeKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitSafeCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitTemplateLiteral(e,n){for(let r=0;r<e.elements.length;r++){this.visit(e.elements[r],n);let s=r<e.expressions.length?e.expressions[r]:null;s!==null&&this.visit(s,n)}}visitTemplateLiteralElement(e,n){}visitTaggedTemplateLiteral(e,n){this.visit(e.tag,n),this.visit(e.template,n)}visitParenthesizedExpression(e,n){this.visit(e.expression,n)}visitAll(e,n){for(let r of e)this.visit(r,n)}},Is=class{constructor(e,n,r,s,i,o){a(this,"name");a(this,"expression");a(this,"type");a(this,"sourceSpan");a(this,"keySpan");a(this,"valueSpan");a(this,"isLiteral");a(this,"isLegacyAnimation");a(this,"isAnimation");this.name=e,this.expression=n,this.type=r,this.sourceSpan=s,this.keySpan=i,this.valueSpan=o,this.isLiteral=this.type===nn.LITERAL_ATTR,this.isLegacyAnimation=this.type===nn.LEGACY_ANIMATION,this.isAnimation=this.type===nn.ANIMATION}},nn;(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.LITERAL_ATTR=1]="LITERAL_ATTR",t[t.LEGACY_ANIMATION=2]="LEGACY_ANIMATION",t[t.TWO_WAY=3]="TWO_WAY",t[t.ANIMATION=4]="ANIMATION"})(nn||(nn={}));var Ne;(function(t){t[t.Regular=0]="Regular",t[t.LegacyAnimation=1]="LegacyAnimation",t[t.TwoWay=2]="TwoWay",t[t.Animation=3]="Animation"})(Ne||(Ne={}));var ma=class{constructor(e,n,r,s,i,o,l){a(this,"name");a(this,"targetOrPhase");a(this,"type");a(this,"handler");a(this,"sourceSpan");a(this,"handlerSpan");a(this,"keySpan");this.name=e,this.targetOrPhase=n,this.type=r,this.handler=s,this.sourceSpan=i,this.handlerSpan=o,this.keySpan=l}},Sc=class{constructor(e,n,r,s,i){a(this,"name");a(this,"value");a(this,"sourceSpan");a(this,"keySpan");a(this,"valueSpan");this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i}},Y;(function(t){t[t.Property=0]="Property",t[t.Attribute=1]="Attribute",t[t.Class=2]="Class",t[t.Style=3]="Style",t[t.LegacyAnimation=4]="LegacyAnimation",t[t.TwoWay=5]="TwoWay",t[t.Animation=6]="Animation"})(Y||(Y={}));var ga=class{constructor(e,n,r,s,i,o,l,c){a(this,"name");a(this,"type");a(this,"securityContext");a(this,"value");a(this,"unit");a(this,"sourceSpan");a(this,"keySpan");a(this,"valueSpan");this.name=e,this.type=n,this.securityContext=r,this.value=s,this.unit=i,this.sourceSpan=o,this.keySpan=l,this.valueSpan=c}},on;(function(t){t[t.RAW_TEXT=0]="RAW_TEXT",t[t.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",t[t.PARSABLE_DATA=2]="PARSABLE_DATA"})(on||(on={}));function dn(t,e=!0){if(t[0]!=":")return[null,t];let n=t.indexOf(":",1);if(n===-1){if(e)throw new Error(`Unsupported format "${t}" expecting ":namespace:name"`);return[null,t]}return[t.slice(1,n),t.slice(n+1)]}function mh(t){return dn(t)[1]==="ng-container"}function Ec(t){return dn(t)[1]==="ng-content"}function TE(t){return dn(t)[1]==="ng-template"}function Tc(t){return t===null?null:dn(t)[0]}function ra(t,e){return t?`:${t}:${e}`:e}var al=class{constructor(e,n){a(this,"value");a(this,"sourceSpan");this.value=e,this.sourceSpan=n}visit(e){throw new Error("visit() not implemented for Comment")}},ir=class{constructor(e,n){a(this,"value");a(this,"sourceSpan");this.value=e,this.sourceSpan=n}visit(e){return e.visitText(this)}},Zr=class{constructor(e,n,r){a(this,"value");a(this,"sourceSpan");a(this,"i18n");this.value=e,this.sourceSpan=n,this.i18n=r}visit(e){return e.visitBoundText(this)}},Mt=class{constructor(e,n,r,s,i,o){a(this,"name");a(this,"value");a(this,"sourceSpan");a(this,"keySpan");a(this,"valueSpan");a(this,"i18n");this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i,this.i18n=o}visit(e){return e.visitTextAttribute(this)}},Yt=class t{constructor(e,n,r,s,i,o,l,c,p){a(this,"name");a(this,"type");a(this,"securityContext");a(this,"value");a(this,"unit");a(this,"sourceSpan");a(this,"keySpan");a(this,"valueSpan");a(this,"i18n");this.name=e,this.type=n,this.securityContext=r,this.value=s,this.unit=i,this.sourceSpan=o,this.keySpan=l,this.valueSpan=c,this.i18n=p}static fromBoundElementProperty(e,n){if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,n)}visit(e){return e.visitBoundAttribute(this)}},mn=class t{constructor(e,n,r,s,i,o,l,c){a(this,"name");a(this,"type");a(this,"handler");a(this,"target");a(this,"phase");a(this,"sourceSpan");a(this,"handlerSpan");a(this,"keySpan");this.name=e,this.type=n,this.handler=r,this.target=s,this.phase=i,this.sourceSpan=o,this.handlerSpan=l,this.keySpan=c}static fromParsedEvent(e){let n=e.type===Ne.Regular?e.targetOrPhase:null,r=e.type===Ne.LegacyAnimation?e.targetOrPhase:null;if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.handler,n,r,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}},At=class{constructor(e,n,r,s,i,o,l,c,p,u,d,m,g){a(this,"name");a(this,"attributes");a(this,"inputs");a(this,"outputs");a(this,"directives");a(this,"children");a(this,"references");a(this,"isSelfClosing");a(this,"sourceSpan");a(this,"startSourceSpan");a(this,"endSourceSpan");a(this,"isVoid");a(this,"i18n");this.name=e,this.attributes=n,this.inputs=r,this.outputs=s,this.directives=i,this.children=o,this.references=l,this.isSelfClosing=c,this.sourceSpan=p,this.startSourceSpan=u,this.endSourceSpan=d,this.isVoid=m,this.i18n=g}visit(e){return e.visitElement(this)}},In=class{constructor(e,n,r,s,i){a(this,"nameSpan");a(this,"sourceSpan");a(this,"prefetchSpan");a(this,"whenOrOnSourceSpan");a(this,"hydrateSpan");this.nameSpan=e,this.sourceSpan=n,this.prefetchSpan=r,this.whenOrOnSourceSpan=s,this.hydrateSpan=i}visit(e){return e.visitDeferredTrigger(this)}},ya=class extends In{constructor(n,r,s,i,o){super(null,r,s,i,o);a(this,"value");this.value=n}},wc=class extends In{},xc=class extends In{},Cc=class extends In{},va=class extends In{constructor(n,r,s,i,o,l){super(r,s,i,o,l);a(this,"reference");this.reference=n}},Ac=class extends In{constructor(n,r,s,i,o,l){super(r,s,i,o,l);a(this,"delay");this.delay=n}},Sa=class extends In{constructor(n,r,s,i,o,l){super(r,s,i,o,l);a(this,"reference");this.reference=n}},Ea=class extends In{constructor(n,r,s,i,o,l){super(r,s,i,o,l);a(this,"reference");this.reference=n}},Xt=class{constructor(e,n,r,s){a(this,"nameSpan");a(this,"sourceSpan");a(this,"startSourceSpan");a(this,"endSourceSpan");this.nameSpan=e,this.sourceSpan=n,this.startSourceSpan=r,this.endSourceSpan=s}},Yi=class extends Xt{constructor(n,r,s,i,o,l,c){super(s,i,o,l);a(this,"children");a(this,"minimumTime");a(this,"i18n");this.children=n,this.minimumTime=r,this.i18n=c}visit(n){return n.visitDeferredBlockPlaceholder(this)}},Xi=class extends Xt{constructor(n,r,s,i,o,l,c,p){super(i,o,l,c);a(this,"children");a(this,"afterTime");a(this,"minimumTime");a(this,"i18n");this.children=n,this.afterTime=r,this.minimumTime=s,this.i18n=p}visit(n){return n.visitDeferredBlockLoading(this)}},Qi=class extends Xt{constructor(n,r,s,i,o,l){super(r,s,i,o);a(this,"children");a(this,"i18n");this.children=n,this.i18n=l}visit(n){return n.visitDeferredBlockError(this)}},yr=class extends Xt{constructor(n,r,s,i,o,l,c,p,u,d,m,g,S){super(p,u,m,g);a(this,"children");a(this,"placeholder");a(this,"loading");a(this,"error");a(this,"mainBlockSpan");a(this,"i18n");a(this,"triggers");a(this,"prefetchTriggers");a(this,"hydrateTriggers");a(this,"definedTriggers");a(this,"definedPrefetchTriggers");a(this,"definedHydrateTriggers");this.children=n,this.placeholder=o,this.loading=l,this.error=c,this.mainBlockSpan=d,this.i18n=S,this.triggers=r,this.prefetchTriggers=s,this.hydrateTriggers=i,this.definedTriggers=Object.keys(r),this.definedPrefetchTriggers=Object.keys(s),this.definedHydrateTriggers=Object.keys(i)}visit(n){return n.visitDeferredBlock(this)}visitAll(n){this.visitTriggers(this.definedHydrateTriggers,this.hydrateTriggers,n),this.visitTriggers(this.definedTriggers,this.triggers,n),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,n),Os(n,this.children);let r=[this.placeholder,this.loading,this.error].filter(s=>s!==null);Os(n,r)}visitTriggers(n,r,s){Os(s,n.map(i=>r[i]))}},es=class extends Xt{constructor(n,r,s,i,o,l,c){super(c,i,o,l);a(this,"expression");a(this,"cases");a(this,"unknownBlocks");this.expression=n,this.cases=r,this.unknownBlocks=s}visit(n){return n.visitSwitchBlock(this)}},Ji=class extends Xt{constructor(n,r,s,i,o,l,c){super(l,s,i,o);a(this,"expression");a(this,"children");a(this,"i18n");this.expression=n,this.children=r,this.i18n=c}visit(n){return n.visitSwitchBlockCase(this)}},qn=class extends Xt{constructor(n,r,s,i,o,l,c,p,u,d,m,g,S){super(g,p,d,m);a(this,"item");a(this,"expression");a(this,"trackBy");a(this,"trackKeywordSpan");a(this,"contextVariables");a(this,"children");a(this,"empty");a(this,"mainBlockSpan");a(this,"i18n");this.item=n,this.expression=r,this.trackBy=s,this.trackKeywordSpan=i,this.contextVariables=o,this.children=l,this.empty=c,this.mainBlockSpan=u,this.i18n=S}visit(n){return n.visitForLoopBlock(this)}},Zi=class extends Xt{constructor(n,r,s,i,o,l){super(o,r,s,i);a(this,"children");a(this,"i18n");this.children=n,this.i18n=l}visit(n){return n.visitForLoopBlockEmpty(this)}},ts=class extends Xt{constructor(n,r,s,i,o){super(o,r,s,i);a(this,"branches");this.branches=n}visit(n){return n.visitIfBlock(this)}},lr=class extends Xt{constructor(n,r,s,i,o,l,c,p){super(c,i,o,l);a(this,"expression");a(this,"children");a(this,"expressionAlias");a(this,"i18n");this.expression=n,this.children=r,this.expressionAlias=s,this.i18n=p}visit(n){return n.visitIfBlockBranch(this)}},Ta=class{constructor(e,n,r){a(this,"name");a(this,"sourceSpan");a(this,"nameSpan");this.name=e,this.sourceSpan=n,this.nameSpan=r}visit(e){return e.visitUnknownBlock(this)}},_n=class{constructor(e,n,r,s,i){a(this,"name");a(this,"value");a(this,"sourceSpan");a(this,"nameSpan");a(this,"valueSpan");this.name=e,this.value=n,this.sourceSpan=r,this.nameSpan=s,this.valueSpan=i}visit(e){return e.visitLetDeclaration(this)}},Fn=class{constructor(e,n,r,s,i,o,l,c,p,u,d,m,g,S){a(this,"componentName");a(this,"tagName");a(this,"fullName");a(this,"attributes");a(this,"inputs");a(this,"outputs");a(this,"directives");a(this,"children");a(this,"references");a(this,"isSelfClosing");a(this,"sourceSpan");a(this,"startSourceSpan");a(this,"endSourceSpan");a(this,"i18n");this.componentName=e,this.tagName=n,this.fullName=r,this.attributes=s,this.inputs=i,this.outputs=o,this.directives=l,this.children=c,this.references=p,this.isSelfClosing=u,this.sourceSpan=d,this.startSourceSpan=m,this.endSourceSpan=g,this.i18n=S}visit(e){return e.visitComponent(this)}},ii=class{constructor(e,n,r,s,i,o,l,c,p){a(this,"name");a(this,"attributes");a(this,"inputs");a(this,"outputs");a(this,"references");a(this,"sourceSpan");a(this,"startSourceSpan");a(this,"endSourceSpan");a(this,"i18n");this.name=e,this.attributes=n,this.inputs=r,this.outputs=s,this.references=i,this.sourceSpan=o,this.startSourceSpan=l,this.endSourceSpan=c,this.i18n=p}visit(e){return e.visitDirective(this)}},Ce=class{constructor(e,n,r,s,i,o,l,c,p,u,d,m,g,S){a(this,"tagName");a(this,"attributes");a(this,"inputs");a(this,"outputs");a(this,"directives");a(this,"templateAttrs");a(this,"children");a(this,"references");a(this,"variables");a(this,"isSelfClosing");a(this,"sourceSpan");a(this,"startSourceSpan");a(this,"endSourceSpan");a(this,"i18n");this.tagName=e,this.attributes=n,this.inputs=r,this.outputs=s,this.directives=i,this.templateAttrs=o,this.children=l,this.references=c,this.variables=p,this.isSelfClosing=u,this.sourceSpan=d,this.startSourceSpan=m,this.endSourceSpan=g,this.i18n=S}visit(e){return e.visitTemplate(this)}},ns=class{constructor(e,n,r,s,i,o,l,c){a(this,"selector");a(this,"attributes");a(this,"children");a(this,"isSelfClosing");a(this,"sourceSpan");a(this,"startSourceSpan");a(this,"endSourceSpan");a(this,"i18n");a(this,"name","ng-content");this.selector=e,this.attributes=n,this.children=r,this.isSelfClosing=s,this.sourceSpan=i,this.startSourceSpan=o,this.endSourceSpan=l,this.i18n=c}visit(e){return e.visitContent(this)}},Qt=class{constructor(e,n,r,s,i){a(this,"name");a(this,"value");a(this,"sourceSpan");a(this,"keySpan");a(this,"valueSpan");this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i}visit(e){return e.visitVariable(this)}},Wn=class{constructor(e,n,r,s,i){a(this,"name");a(this,"value");a(this,"sourceSpan");a(this,"keySpan");a(this,"valueSpan");this.name=e,this.value=n,this.sourceSpan=r,this.keySpan=s,this.valueSpan=i}visit(e){return e.visitReference(this)}},bu=class{constructor(e,n,r,s){a(this,"vars");a(this,"placeholders");a(this,"sourceSpan");a(this,"i18n");this.vars=e,this.placeholders=n,this.sourceSpan=r,this.i18n=s}visit(e){return e.visitIcu(this)}},rs=class{constructor(e,n,r,s){a(this,"tagNames");a(this,"bindings");a(this,"listeners");a(this,"sourceSpan");if(this.tagNames=e,this.bindings=n,this.listeners=r,this.sourceSpan=s,e.length===0)throw new Error("HostElement must have at least one tag name.")}visit(){throw new Error("HostElement cannot be visited")}};function Os(t,e){let n=[];if(t.visit)for(let r of e)t.visit(r);else for(let r of e){let s=r.visit(t);s&&n.push(s)}return n}var ct=class{constructor(e,n,r,s,i,o){a(this,"nodes");a(this,"placeholders");a(this,"placeholderToMessage");a(this,"meaning");a(this,"description");a(this,"customId");a(this,"sources");a(this,"id");a(this,"legacyIds",[]);a(this,"messageString");this.nodes=e,this.placeholders=n,this.placeholderToMessage=r,this.meaning=s,this.description=i,this.customId=o,this.id=this.customId,this.messageString=wE(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}},vi=class{constructor(e,n){a(this,"value");a(this,"sourceSpan");this.value=e,this.sourceSpan=n}visit(e,n){return e.visitText(this,n)}},Bn=class{constructor(e,n){a(this,"children");a(this,"sourceSpan");this.children=e,this.sourceSpan=n}visit(e,n){return e.visitContainer(this,n)}},wa=class{constructor(e,n,r,s,i){a(this,"expression");a(this,"type");a(this,"cases");a(this,"sourceSpan");a(this,"expressionPlaceholder");this.expression=e,this.type=n,this.cases=r,this.sourceSpan=s,this.expressionPlaceholder=i}visit(e,n){return e.visitIcu(this,n)}},vr=class{constructor(e,n,r,s,i,o,l,c,p){a(this,"tag");a(this,"attrs");a(this,"startName");a(this,"closeName");a(this,"children");a(this,"isVoid");a(this,"sourceSpan");a(this,"startSourceSpan");a(this,"endSourceSpan");this.tag=e,this.attrs=n,this.startName=r,this.closeName=s,this.children=i,this.isVoid=o,this.sourceSpan=l,this.startSourceSpan=c,this.endSourceSpan=p}visit(e,n){return e.visitTagPlaceholder(this,n)}},eo=class{constructor(e,n,r){a(this,"value");a(this,"name");a(this,"sourceSpan");this.value=e,this.name=n,this.sourceSpan=r}visit(e,n){return e.visitPlaceholder(this,n)}},zs=class{constructor(e,n,r){a(this,"value");a(this,"name");a(this,"sourceSpan");a(this,"previousMessage");this.value=e,this.name=n,this.sourceSpan=r}visit(e,n){return e.visitIcuPlaceholder(this,n)}},Sr=class{constructor(e,n,r,s,i,o,l,c){a(this,"name");a(this,"parameters");a(this,"startName");a(this,"closeName");a(this,"children");a(this,"sourceSpan");a(this,"startSourceSpan");a(this,"endSourceSpan");this.name=e,this.parameters=n,this.startName=r,this.closeName=s,this.children=i,this.sourceSpan=o,this.startSourceSpan=l,this.endSourceSpan=c}visit(e,n){return e.visitBlockPlaceholder(this,n)}};function wE(t){let e=new Nc;return t.map(r=>r.visit(e)).join("")}var Nc=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){let n=e.children.map(r=>r.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}visitBlockPlaceholder(e){let n=e.children.map(r=>r.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}};var xE=class{visitTag(e){let n=this._serializeAttributes(e.attrs);if(e.children.length==0)return`<${e.name}${n}/>`;let r=e.children.map(s=>s.visit(this));return`<${e.name}${n}>${r.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){let n=Object.keys(e).map(r=>`${r}="${e[r]}"`).join(" ");return n.length>0?" "+n:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [
${e.dtd}
]>`}},DM=new xE;function CE(t){return t.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var gd="i18n",Ic="i18n-",AE="VAR_";function yd(t){return t===gd||t.startsWith(Ic)}function NE(t){return t.attrs.some(e=>yd(e.name))}function vd(t){return t.nodes[0]}function _u(t={},e){let n={};return t&&Object.keys(t).length&&Object.keys(t).forEach(r=>n[Ao(r,e)]=t[r]),n}function Ao(t,e=!0){let n=CE(t);if(!e)return n;let r=n.split("_");if(r.length===1)return t.toLowerCase();let s;/^\d+$/.test(r[r.length-1])&&(s=r.pop());let i=r.shift().toLowerCase();return r.length&&(i+=r.map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join("")),s?`${i}_${s}`:i}var IE=/[-.]/,ku="_t",to="ctx",Ru="rf";function Sd(t,e){let n=null;return()=>(n||(t(new Pe(ku,void 0,fs)),n=X(e)),n)}function Ds(t){return Array.isArray(t)?ie(t.map(Ds)):v(t,wt)}function gh(t,e){let n=Object.getOwnPropertyNames(t);return n.length===0?null:Qe(n.map(r=>{let s=t[r],i,o,l,c;if(typeof s=="string")i=r,l=r,o=s,c=Ds(o);else{l=r,i=s.classPropertyName,o=s.bindingPropertyName;let p=o!==i,u=s.transformFunction!==null,d=Ns.None;if(s.isSignal&&(d|=Ns.SignalBased),u&&(d|=Ns.HasDecoratorInputTransform),e&&(p||u||d!==Ns.None)){let m=[v(d),Ds(o)];(p||u)&&(m.push(Ds(i)),u&&m.push(s.transformFunction)),c=ie(m)}else c=Ds(o)}return{key:l,quoted:IE.test(l),value:c}}))}var Er=class{constructor(){a(this,"values",[])}set(e,n){if(n){let r=this.values.find(s=>s.key===e);r?r.value=n:this.values.push({key:e,value:n,quoted:!1})}}toLiteralMap(){return Qe(this.values)}};function Ed(t){let e=t instanceof At?t.name:"ng-template",n=DE(t),r=new cn,s=dn(e)[1];return r.setElement(s),Object.getOwnPropertyNames(n).forEach(i=>{let o=dn(i)[1],l=n[i];r.addAttribute(o,l),i.toLowerCase()==="class"&&l.trim().split(/\s+/).forEach(p=>r.addClassName(p))}),r}function DE(t){let e={};return t instanceof Ce&&t.tagName!=="ng-template"?t.templateAttrs.forEach(n=>e[n.name]=""):(t.attributes.forEach(n=>{yd(n.name)||(e[n.name]=n.value)}),t.inputs.forEach(n=>{(n.type===Y.Property||n.type===Y.TwoWay)&&(e[n.name]="")}),t.outputs.forEach(n=>{e[n.name]=""})),e}function Dc(t,e){let n=null,r={name:t.name,type:t.type,typeArgumentCount:t.typeArgumentCount,deps:[],target:at.Injectable};if(t.useClass!==void 0){let l=t.useClass.expression.isEquivalent(t.type.value),c;t.deps!==void 0&&(c=t.deps),c!==void 0?n=nr(fe(w({},r),{delegate:t.useClass.expression,delegateDeps:c,delegateType:Vi.Class})):l?n=nr(r):n={statements:[],expression:yh(t.type.value,t.useClass.expression,e)}}else t.useFactory!==void 0?t.deps!==void 0?n=nr(fe(w({},r),{delegate:t.useFactory,delegateDeps:t.deps||[],delegateType:Vi.Function})):n={statements:[],expression:Kt([],t.useFactory.callFn([]))}:t.useValue!==void 0?n=nr(fe(w({},r),{expression:t.useValue.expression})):t.useExisting!==void 0?n=nr(fe(w({},r),{expression:P(f.inject).callFn([t.useExisting.expression])})):n={statements:[],expression:yh(t.type.value,t.type.value,e)};let s=t.type.value,i=new Er;return i.set("token",s),i.set("factory",n.expression),t.providedIn.expression.value!==null&&i.set("providedIn",fE(t.providedIn)),{expression:P(f.\u0275\u0275defineInjectable).callFn([i.toLiteralMap()],void 0,!0),type:bE(t),statements:n.statements}}function bE(t){return new lt(P(f.InjectableDeclaration,[ol(t.type.type,t.typeArgumentCount)]))}function yh(t,e,n){if(t.node===e.node)return e.prop("\u0275fac");if(!n)return vh(e);let r=P(f.resolveForwardRef).callFn([e]);return vh(r)}function vh(t){let e=new $e("__ngFactoryType__",fs);return Kt([e],t.prop("\u0275fac").callFn([X(e.name)]))}var _E=[/@/,/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function kE(t,e){if(e!=null&&!(Array.isArray(e)&&e.length==2))throw new Error(`Expected '${t}' to be an array, [start, end].`);if(e!=null){let n=e[0],r=e[1];_E.forEach(s=>{if(s.test(n)||s.test(r))throw new Error(`['${n}', '${r}'] contains unusable interpolation symbol.`)})}}var no=class t{constructor(e,n){a(this,"start");a(this,"end");this.start=e,this.end=n}static fromArray(e){return e?(kE("interpolation",e),new t(e[0],e[1])):Vt}},Vt=new no("{{","}}"),RE=new Set(["switch"]),ze=0,PE=8,Pu=9,Gr=10,Td=11,wd=12,Lu=13,xd=32,bc=33,ro=34,Cd=35,ll=36,LE=37,xa=38,so=39,ln=40,it=41,Sh=42,Ad=43,qt=44,Ca=45,wi=46,rn=47,Pn=58,kt=59,Fs=60,Ze=61,Bt=62,Eh=63,Mu=48,ME=55,Nd=57,Ir=65,OE=69,FE=70,BE=88,oi=90,cr=91,Bs=92,Vr=93,$E=94,Dr=95,ss=97,UE=98,VE=101,Ou=102,Id=110,Dd=114,bd=116,_d=117,kd=118,Rd=120,No=122,an=123,Th=124,Et=125,Pd=160,vs=64,_c=96;function io(t){return t>=Pu&&t<=xd||t==Pd}function sn(t){return Mu<=t&&t<=Nd}function Ys(t){return t>=ss&&t<=No||t>=Ir&&t<=oi}function HE(t){return t>=ss&&t<=Ou||t>=Ir&&t<=FE||sn(t)}function Aa(t){return t===Gr||t===Lu}function wh(t){return Mu<=t&&t<=ME}function Ni(t){return t===so||t===ro||t===_c}var is=class t{constructor(e,n,r,s){a(this,"file");a(this,"offset");a(this,"line");a(this,"col");this.file=e,this.offset=n,this.line=r,this.col=s}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){let n=this.file.content,r=n.length,s=this.offset,i=this.line,o=this.col;for(;s>0&&e<0;)if(s--,e++,n.charCodeAt(s)==Gr){i--;let c=n.substring(0,s-1).lastIndexOf(String.fromCharCode(Gr));o=c>0?s-c:s}else o--;for(;s<r&&e>0;){let l=n.charCodeAt(s);s++,e--,l==Gr?(i++,o=0):o++}return new t(this.file,s,i,o)}getContext(e,n){let r=this.file.content,s=this.offset;if(s!=null){s>r.length-1&&(s=r.length-1);let i=s,o=0,l=0;for(;o<e&&s>0&&(s--,o++,!(r[s]==`
`&&++l==n)););for(o=0,l=0;o<e&&i<r.length-1&&(i++,o++,!(r[i]==`
`&&++l==n)););return{before:r.substring(s,this.offset),after:r.substring(this.offset,i+1)}}return null}},Tr=class{constructor(e,n){a(this,"content");a(this,"url");this.content=e,this.url=n}},H=class{constructor(e,n,r=e,s=null){a(this,"start");a(this,"end");a(this,"fullStart");a(this,"details");this.start=e,this.end=n,this.fullStart=r,this.details=s}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},Mn;(function(t){t[t.WARNING=0]="WARNING",t[t.ERROR=1]="ERROR"})(Mn||(Mn={}));var V=class extends Error{constructor(n,r,s=Mn.ERROR,i){super(r);a(this,"span");a(this,"msg");a(this,"level");a(this,"relatedError");this.span=n,this.msg=r,this.level=s,this.relatedError=i,Object.setPrototypeOf(this,new.target.prototype)}contextualMessage(){let n=this.span.start.getContext(100,3);return n?`${this.msg} ("${n.before}[${Mn[this.level]} ->]${n.after}")`:this.msg}toString(){let n=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${n}`}};function GE(t,e,n){let r=`in ${t} ${e} in ${n}`,s=new Tr("",r);return new H(new is(s,-1,-1,-1),new is(s,-1,-1,-1))}var qE=0;function WE(t){if(!t||!t.reference)return null;let e=t.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let n=fd(e);return n.indexOf("(")>=0?(n=`anonymous_${qE++}`,e.__anonymousType=n):n=Fr(n),n}function Fr(t){return t.replace(/\W/g,"_")}var xh='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',kc=class extends yc{constructor(){super(!1)}visitWrappedNodeExpr(e,n){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,n){return n.print(e,`var ${e.name}`),e.value&&(n.print(e," = "),e.value.visitExpression(this,n)),n.println(e,";"),null}visitTaggedTemplateLiteralExpr(e,n){let r=e.template.elements;return e.tag.visitExpression(this,n),n.print(e,`(${xh}(`),n.print(e,`[${r.map(s=>$r(s.text,!1)).join(", ")}], `),n.print(e,`[${r.map(s=>$r(s.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(s=>{n.print(e,", "),s.visitExpression(this,n)}),n.print(e,")"),null}visitTemplateLiteralExpr(e,n){n.print(e,"`");for(let r=0;r<e.elements.length;r++){e.elements[r].visitExpression(this,n);let s=r<e.expressions.length?e.expressions[r]:null;s!==null&&(n.print(s,"${"),s.visitExpression(this,n),n.print(s,"}"))}n.print(e,"`")}visitTemplateLiteralElementExpr(e,n){return n.print(e,e.rawText),null}visitFunctionExpr(e,n){return n.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.print(e,"}"),null}visitArrowFunctionExpr(e,n){if(n.print(e,"("),this._visitParams(e.params,n),n.print(e,") =>"),Array.isArray(e.body))n.println(e,"{"),n.incIndent(),this.visitAllStatements(e.body,n),n.decIndent(),n.print(e,"}");else{let r=e.body instanceof fn;r&&n.print(e,"("),e.body.visitExpression(this,n),r&&n.print(e,")")}return null}visitDeclareFunctionStmt(e,n){return n.print(e,`function ${e.name}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.println(e,"}"),null}visitLocalizedString(e,n){n.print(e,`$localize(${xh}(`);let r=[e.serializeI18nHead()];for(let s=1;s<e.messageParts.length;s++)r.push(e.serializeI18nTemplatePart(s));return n.print(e,`[${r.map(s=>$r(s.cooked,!1)).join(", ")}], `),n.print(e,`[${r.map(s=>$r(s.raw,!1)).join(", ")}])`),e.expressions.forEach(s=>{n.print(e,", "),s.visitExpression(this,n)}),n.print(e,")"),null}_visitParams(e,n){this.visitAllObjects(r=>n.print(null,r.name),e,n,",")}},Vo;function jE(){if(Vo===void 0){let t=Ai.trustedTypes;if(Vo=null,t)try{Vo=t.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch(e){}}return Vo}function KE(t){var e;return((e=jE())==null?void 0:e.createScript(t))||t}function Ch(...t){if(!Ai.trustedTypes)return new Function(...t);let e=t.slice(0,-1).join(","),n=t[t.length-1],r=`(function anonymous(${e}
) { ${n}
})`,s=Ai.eval(KE(r));return s.bind===void 0?new Function(...t):(s.toString=()=>r,s.bind(Ai))}var Rc=class{evaluateStatements(e,n,r,s){let i=new Pc(r),o=gc.createRoot();return n.length>0&&!zE(n[0])&&(n=[v("use strict").toStmt(),...n]),i.visitAllStatements(n,o),i.createReturnStmt(o),this.evaluateCode(e,o,i.getArgs(),s)}evaluateCode(e,n,r,s){let i=`"use strict";${n.toSource()}
//# sourceURL=${e}`,o=[],l=[];for(let p in r)l.push(r[p]),o.push(p);if(s){let p=Ch(...o.concat("return null;")).toString(),u=p.slice(0,p.indexOf("return null;")).split(`
`).length-1;i+=`
${n.toSourceMapGenerator(e,u).toJsComment()}`}let c=Ch(...o.concat(i));return this.executeFunction(c,l)}executeFunction(e,n){return e(...n)}},Pc=class extends kc{constructor(n){super();a(this,"refResolver");a(this,"_evalArgNames",[]);a(this,"_evalArgValues",[]);a(this,"_evalExportedVars",[]);this.refResolver=n}createReturnStmt(n){new Ue(new fn(this._evalExportedVars.map(s=>new Yr(s,X(s),!1)))).visitStatement(this,n)}getArgs(){let n={};for(let r=0;r<this._evalArgNames.length;r++)n[this._evalArgNames[r]]=this._evalArgValues[r];return n}visitExternalExpr(n,r){return this._emitReferenceToExternal(n,this.refResolver.resolveExternalReference(n.value),r),null}visitWrappedNodeExpr(n,r){return this._emitReferenceToExternal(n,n.node,r),null}visitDeclareVarStmt(n,r){return n.hasModifier(Re.Exported)&&this._evalExportedVars.push(n.name),super.visitDeclareVarStmt(n,r)}visitDeclareFunctionStmt(n,r){return n.hasModifier(Re.Exported)&&this._evalExportedVars.push(n.name),super.visitDeclareFunctionStmt(n,r)}_emitReferenceToExternal(n,r,s){let i=this._evalArgValues.indexOf(r);if(i===-1){i=this._evalArgValues.length,this._evalArgValues.push(r);let o=WE({reference:r})||"val";this._evalArgNames.push(`jit_${o}_${i}`)}s.print(n,this._evalArgNames[i])}};function zE(t){return t.isEquivalent(v("use strict").toStmt())}function Lc(t){let e=new Er;t.providers!==null&&e.set("providers",t.providers),t.imports.length>0&&e.set("imports",ie(t.imports));let n=P(f.defineInjector).callFn([e.toLiteralMap()],void 0,!0),r=YE(t);return{expression:n,type:r,statements:[]}}function YE(t){return new lt(P(f.InjectorDeclaration,[new lt(t.type.type)]))}var Mc=class{constructor(e){a(this,"context");this.context=e}resolveExternalReference(e){if(e.moduleName!=="@angular/core")throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}},Xs;(function(t){t[t.Inline=0]="Inline",t[t.SideEffect=1]="SideEffect",t[t.Omit=2]="Omit"})(Xs||(Xs={}));var wn;(function(t){t[t.Global=0]="Global",t[t.Local=1]="Local"})(wn||(wn={}));function Ld(t){let e=[],n=new Er;if(n.set("type",t.type.value),t.kind===wn.Global&&t.bootstrap.length>0&&n.set("bootstrap",Ur(t.bootstrap,t.containsForwardDecls)),t.selectorScopeMode===Xs.Inline)t.declarations.length>0&&n.set("declarations",Ur(t.declarations,t.containsForwardDecls)),t.imports.length>0&&n.set("imports",Ur(t.imports,t.containsForwardDecls)),t.exports.length>0&&n.set("exports",Ur(t.exports,t.containsForwardDecls));else if(t.selectorScopeMode===Xs.SideEffect){let i=JE(t);i!==null&&e.push(i)}t.schemas!==null&&t.schemas.length>0&&n.set("schemas",ie(t.schemas.map(i=>i.value))),t.id!==null&&(n.set("id",t.id),e.push(P(f.registerNgModuleType).callFn([t.type.value,t.id]).toStmt()));let r=P(f.defineNgModule).callFn([n.toLiteralMap()],void 0,!0),s=QE(t);return{expression:r,type:s,statements:e}}function XE(t){let e=new Er;return e.set("type",new G(t.type)),t.bootstrap!==void 0&&e.set("bootstrap",new G(t.bootstrap)),t.declarations!==void 0&&e.set("declarations",new G(t.declarations)),t.imports!==void 0&&e.set("imports",new G(t.imports)),t.exports!==void 0&&e.set("exports",new G(t.exports)),t.schemas!==void 0&&e.set("schemas",new G(t.schemas)),t.id!==void 0&&e.set("id",new G(t.id)),P(f.defineNgModule).callFn([e.toLiteralMap()])}function QE(t){if(t.kind===wn.Local)return new lt(t.type.value);let{type:e,declarations:n,exports:r,imports:s,includeImportTypes:i,publicDeclarationTypes:o}=t;return new lt(P(f.NgModuleDeclaration,[new lt(e.type),o===null?Fl(n):ZE(o),i?Fl(s):pn,Fl(r)]))}function JE(t){let e=new Er;if(t.kind===wn.Global?t.declarations.length>0&&e.set("declarations",Ur(t.declarations,t.containsForwardDecls)):t.declarationsExpression&&e.set("declarations",t.declarationsExpression),t.kind===wn.Global?t.imports.length>0&&e.set("imports",Ur(t.imports,t.containsForwardDecls)):t.importsExpression&&e.set("imports",t.importsExpression),t.kind===wn.Global?t.exports.length>0&&e.set("exports",Ur(t.exports,t.containsForwardDecls)):t.exportsExpression&&e.set("exports",t.exportsExpression),t.kind===wn.Local&&t.bootstrapExpression&&e.set("bootstrap",t.bootstrapExpression),Object.keys(e.values).length===0)return null;let n=new tt(P(f.setNgModuleScope),[t.type.value,e.toLiteralMap()]),r=pE(n),s=new xn([],[r.toStmt()]);return new tt(s,[]).toStmt()}function Fl(t){let e=t.map(n=>si(n.type));return t.length>0?Ve(ie(e)):pn}function ZE(t){let e=t.map(n=>si(n));return t.length>0?Ve(ie(e)):pn}function Oc(t){var s;let e=[];e.push({key:"name",value:v((s=t.pipeName)!=null?s:t.name),quoted:!1}),e.push({key:"type",value:t.type.value,quoted:!1}),e.push({key:"pure",value:v(t.pure),quoted:!1}),t.isStandalone===!1&&e.push({key:"standalone",value:v(!1),quoted:!1});let n=P(f.definePipe).callFn([Qe(e)],void 0,!0),r=eT(t);return{expression:n,type:r,statements:[]}}function eT(t){return new lt(P(f.PipeDeclaration,[ol(t.type.type,t.typeArgumentCount),new lt(new Ie(t.pipeName)),new lt(new Ie(t.isStandalone))]))}var wr;(function(t){t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule"})(wr||(wr={}));var tT=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),nT=["@media","@supports","@document","@layer","@container","@scope","@starting-style"],Fc=class{constructor(){a(this,"_animationDeclarationKeyframesRe",/(^|\s+|,)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g);a(this,"_safeSelector");a(this,"_shouldScopeIndicator")}shimCssText(e,n,r=""){let s=[];e=e.replace(mT,l=>{var c;if(l.match(gT))s.push(l);else{let p=l.match(dT);s.push(((c=p==null?void 0:p.join(""))!=null?c:"")+`
`)}return Fu}),e=this._insertDirectives(e);let i=this._scopeCssText(e,n,r),o=0;return i.replace(yT,()=>s[o++])}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,n){let r=new Set,s=Ho(e,i=>this._scopeLocalKeyframeDeclarations(i,n,r));return Ho(s,i=>this._scopeAnimationRule(i,n,r))}_scopeLocalKeyframeDeclarations(e,n,r){return fe(w({},e),{selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(s,i,o,l,c)=>(r.add(Ih(l,o)),`${i}${o}${n}_${l}${o}${c}`))})}_scopeAnimationKeyframe(e,n,r){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(s,i,o,l,c)=>(l=`${r.has(Ih(l,o))?n+"_":""}${l}`,`${i}${o}${l}${o}${c}`))}_scopeAnimationRule(e,n,r){let s=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation\s*:\s*),*([^;]+)/g,(i,o,l)=>o+l.replace(this._animationDeclarationKeyframesRe,(c,p,u="",d,m)=>d?`${p}${this._scopeAnimationKeyframe(`${u}${d}${u}`,n,r)}`:tT.has(m)?c:`${p}${this._scopeAnimationKeyframe(m,n,r)}`));return s=s.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(i,o,l)=>`${o}${l.split(",").map(c=>this._scopeAnimationKeyframe(c,n,r)).join(",")}`),fe(w({},e),{content:s})}_insertPolyfillDirectivesInCssText(e){return e.replace(sT,function(...n){return n[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(iT,(...n)=>{let r=n[0].replace(n[1],"").replace(n[2],"");return n[4]+r})}_scopeCssText(e,n,r){let s=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),n&&(e=this._scopeKeyframesRelatedCss(e,n),e=this._scopeSelectors(e,n,r)),e=e+`
`+s,e.trim()}_extractUnscopedRulesFromCssText(e){let n="",r;for(Ah.lastIndex=0;(r=Ah.exec(e))!==null;){let s=r[0].replace(r[2],"").replace(r[1],r[4]);n+=s+`

`}return n}_convertColonHost(e){return e.replace(oT,(n,r,s)=>{if(r){let i=[],o=r.split(",").map(l=>l.trim());for(let l of o){if(!l)break;let c=er+l.replace(Na,"")+s;i.push(c)}return i.join(",")}else return er+s})}_convertColonHostContext(e){let n=e.length,r=0,s=0,i="";for(let o=0;o<n;o++){let l=e[o];if(l===","&&r===0){i+=this._convertColonHostContextInSelectorPart(e.slice(s,o))+",",s=o+1;continue}if(o===n-1){i+=this._convertColonHostContextInSelectorPart(e.slice(s));break}l==="("?r++:l===")"&&r--}return i}_convertColonHostContextInSelectorPart(e){return e.replace(aT,(n,r)=>{var o;let s=[[]],i;for(;i=lT.exec(n);){let l=((o=i[1])!=null?o:"").trim().split(",").map(p=>p.trim()).filter(p=>p!==""),c=s.length;DT(s,l.length);for(let p=0;p<l.length;p++)for(let u=0;u<c;u++)s[u+p*c].push(l[p]);n=i[2]}return s.map(l=>IT(l,n,r)).join(", ")})}_convertShadowDOMSelectors(e){return uT.reduce((n,r)=>n.replace(r," "),e)}_scopeSelectors(e,n,r){return Ho(e,s=>{let i=s.selector,o=s.content;return s.selector[0]!=="@"?i=this._scopeSelector({selector:i,scopeSelector:n,hostSelector:r,isParentSelector:!0}):nT.some(l=>s.selector.startsWith(l))?o=this._scopeSelectors(s.content,n,r):(s.selector.startsWith("@font-face")||s.selector.startsWith("@page"))&&(o=this._stripScopingSelectors(s.content)),new oo(i,o)})}_stripScopingSelectors(e){return Ho(e,n=>{let r=n.selector.replace(Nh," ").replace(Bl," ");return new oo(r,n.content)})}_scopeSelector({selector:e,scopeSelector:n,hostSelector:r,isParentSelector:s=!1}){let i=/ ?,(?!(?:[^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\))) ?/;return e.split(i).map(o=>o.split(Nh)).map(o=>{let[l,...c]=o;return[(u=>this._selectorNeedsScoping(u,n)?this._applySelectorScope({selector:u,scopeSelector:n,hostSelector:r,isParentSelector:s}):u)(l),...c].join(" ")}).join(", ")}_selectorNeedsScoping(e,n){return!this._makeScopeMatcher(n).test(e)}_makeScopeMatcher(e){let n=/\[/g,r=/\]/g;return e=e.replace(n,"\\[").replace(r,"\\]"),new RegExp("^("+e+")"+pT,"m")}_applySimpleSelectorScope(e,n,r){if(bs.lastIndex=0,bs.test(e)){let s=`[${r}]`,i=e;for(;i.match(Bl);)i=i.replace(Bl,(o,l)=>l.replace(/([^:\)]*)(:*)(.*)/,(c,p,u,d)=>p+s+u+d));return i.replace(bs,s)}return n+" "+e}_applySelectorScope({selector:e,scopeSelector:n,hostSelector:r,isParentSelector:s}){var T;let i=/\[is=([^\]]*)\]/g;n=n.replace(i,(N,...D)=>D[0]);let o=`[${n}]`,l=N=>{let D=N.trim();if(!D)return N;if(N.includes(er)){if(D=this._applySimpleSelectorScope(N,n,r),!N.match(cT)){let[b,U,O,re]=D.match(/([^:]*)(:*)([\s\S]*)/);D=U+o+O+re}}else{let b=N.replace(bs,"");if(b.length>0){let U=b.match(/([^:]*)(:*)([\s\S]*)/);U&&(D=U[1]+o+U[2]+U[3])}}return D},c=N=>{let D="",b=[],U;for(;(U=Si.exec(N))!==null;){let O=1,re=Si.lastIndex;for(;re<N.length;){let ne=N[re];if(re++,ne==="("){O++;continue}if(ne===")"){if(O--,O===0)break;continue}}b.push(`${U[0]}${N.slice(Si.lastIndex,re)}`),Si.lastIndex=re}return b.join("")===N?D=b.map(O=>{var Ge;let[re]=(Ge=O.match(Si))!=null?Ge:[],ne=O.slice(re==null?void 0:re.length,-1);ne.includes(er)&&(this._shouldScopeIndicator=!0);let He=this._scopeSelector({selector:ne,scopeSelector:n,hostSelector:r});return`${re}${He})`}).join(""):(this._shouldScopeIndicator=this._shouldScopeIndicator||N.includes(er),D=this._shouldScopeIndicator?l(N):N),D};s&&(this._safeSelector=new Bc(e),e=this._safeSelector.content());let p="",u=0,d,m=/( |>|\+|~(?!=))(?!([^)(]*(?:\([^)(]*(?:\([^)(]*(?:\([^)(]*\)[^)(]*)*\)[^)(]*)*\)[^)(]*)*\)))\s*/g,g=e.includes(er);for((s||this._shouldScopeIndicator)&&(this._shouldScopeIndicator=!g);(d=m.exec(e))!==null;){let N=d[1],D=e.slice(u,d.index);if(D.match(/__esc-ph-(\d+)__/)&&((T=e[d.index+1])!=null&&T.match(/[a-fA-F\d]/)))continue;let b=c(D);p+=`${b} ${N} `,u=m.lastIndex}let S=e.substring(u);return p+=c(S),this._safeSelector.restore(p)}_insertPolyfillHostInCssText(e){return e.replace(fT,Md).replace(hT,Na)}},Bc=class{constructor(e){a(this,"placeholders",[]);a(this,"index",0);a(this,"_content");e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=e.replace(/(\\.)/g,(n,r)=>{let s=`__esc-ph-${this.index}__`;return this.placeholders.push(r),this.index++,s}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(n,r,s)=>{let i=`__ph-${this.index}__`;return this.placeholders.push(s),this.index++,r+i})}restore(e){return e.replace(/__(?:ph|esc-ph)-(\d+)__/g,(n,r)=>this.placeholders[+r])}content(){return this._content}_escapeRegexMatches(e,n){return e.replace(n,(r,s)=>{let i=`__ph-${this.index}__`;return this.placeholders.push(s),this.index++,i})}},rT="(:(where|is)\\()?",Si=/:(where|is)\(/gi,sT=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,iT=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Ah=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Na="-shadowcsshost",Md="-shadowcsscontext",Od="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))",oT=new RegExp(Na+Od+"?([^,{]*)","gim"),Fd=Md+Od+"?([^{]*)",aT=new RegExp(`${rT}(${Fd})`,"gim"),lT=new RegExp(Fd,"im"),er=Na+"-no-combinator",cT=new RegExp(`${er}(?![^(]*\\))`,"g"),Bl=/-shadowcsshost-no-combinator([^\s,]*)/,uT=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Nh=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,pT="([>\\s~+[.,{:][\\s\\S]*)?$",bs=/-shadowcsshost/gim,hT=/:host/gim,fT=/:host-context/gim,dT=/\r?\n/g,mT=/\/\*[\s\S]*?\*\//g,gT=/\/\*\s*#\s*source(Mapping)?URL=/g,Fu="%COMMENT%",yT=new RegExp(Fu,"g"),$l="%BLOCK%",vT=new RegExp(`(\\s*(?:${Fu}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),ST=new Map([["{","}"]]),Bd="%COMMA_IN_PLACEHOLDER%",$d="%SEMI_IN_PLACEHOLDER%",Ud="%COLON_IN_PLACEHOLDER%",ET=new RegExp(Bd,"g"),TT=new RegExp($d,"g"),wT=new RegExp(Ud,"g"),oo=class{constructor(e,n){a(this,"selector");a(this,"content");this.selector=e,this.content=n}};function Ho(t,e){let n=AT(t),r=xT(n,ST,$l),s=0,i=r.escapedString.replace(vT,(...o)=>{let l=o[2],c="",p=o[4],u="";p&&p.startsWith("{"+$l)&&(c=r.blocks[s++],p=p.substring($l.length+1),u="{");let d=e(new oo(l,c));return`${o[1]}${d.selector}${o[3]}${u}${d.content}${p}`});return NT(i)}var $c=class{constructor(e,n){a(this,"escapedString");a(this,"blocks");this.escapedString=e,this.blocks=n}};function xT(t,e,n){let r=[],s=[],i=0,o=0,l=-1,c,p;for(let u=0;u<t.length;u++){let d=t[u];d==="\\"?u++:d===p?(i--,i===0&&(s.push(t.substring(l,u)),r.push(n),o=u,l=-1,c=p=void 0)):d===c?i++:i===0&&e.has(d)&&(c=d,p=e.get(d),i=1,l=u+1,r.push(t.substring(o,l)))}return l!==-1?(s.push(t.substring(l)),r.push(n)):r.push(t.substring(o)),new $c(r.join(""),s)}var CT={";":$d,",":Bd,":":Ud};function AT(t){let e=t,n=null;for(let r=0;r<e.length;r++){let s=e[r];if(s==="\\")r++;else if(n!==null)if(s===n)n=null;else{let i=CT[s];i&&(e=`${e.substr(0,r)}${i}${e.substr(r+1)}`,r+=i.length-1)}else(s==="'"||s==='"')&&(n=s)}return e}function NT(t){let e=t.replace(ET,",");return e=e.replace(TT,";"),e=e.replace(wT,":"),e}function Ih(t,e){return e?t.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):t}function IT(t,e,n=""){let r=er;bs.lastIndex=0;let s=bs.test(e);if(t.length===0)return r+e;let i=[t.pop()||""];for(;t.length>0;){let o=i.length,l=t.pop();for(let c=0;c<o;c++){let p=i[c];i[o*2+c]=p+" "+l,i[o+c]=l+" "+p,i[c]=l+p}}return i.map(o=>s?`${n}${o}${e}`:`${n}${o}${r}${e}, ${n}${o} ${r}${e}`).join(",")}function DT(t,e){let n=t.length;for(let r=1;r<e;r++)for(let s=0;s<n;s++)t[s+r*n]=t[s].slice(0)}var h;(function(t){t[t.ListEnd=0]="ListEnd",t[t.Statement=1]="Statement",t[t.Variable=2]="Variable",t[t.ElementStart=3]="ElementStart",t[t.Element=4]="Element",t[t.Template=5]="Template",t[t.ElementEnd=6]="ElementEnd",t[t.ContainerStart=7]="ContainerStart",t[t.Container=8]="Container",t[t.ContainerEnd=9]="ContainerEnd",t[t.DisableBindings=10]="DisableBindings",t[t.ConditionalCreate=11]="ConditionalCreate",t[t.ConditionalBranchCreate=12]="ConditionalBranchCreate",t[t.Conditional=13]="Conditional",t[t.EnableBindings=14]="EnableBindings",t[t.Text=15]="Text",t[t.Listener=16]="Listener",t[t.InterpolateText=17]="InterpolateText",t[t.Binding=18]="Binding",t[t.Property=19]="Property",t[t.StyleProp=20]="StyleProp",t[t.ClassProp=21]="ClassProp",t[t.StyleMap=22]="StyleMap",t[t.ClassMap=23]="ClassMap",t[t.Advance=24]="Advance",t[t.Pipe=25]="Pipe",t[t.Attribute=26]="Attribute",t[t.ExtractedAttribute=27]="ExtractedAttribute",t[t.Defer=28]="Defer",t[t.DeferOn=29]="DeferOn",t[t.DeferWhen=30]="DeferWhen",t[t.I18nMessage=31]="I18nMessage",t[t.DomProperty=32]="DomProperty",t[t.Namespace=33]="Namespace",t[t.ProjectionDef=34]="ProjectionDef",t[t.Projection=35]="Projection",t[t.RepeaterCreate=36]="RepeaterCreate",t[t.Repeater=37]="Repeater",t[t.TwoWayProperty=38]="TwoWayProperty",t[t.TwoWayListener=39]="TwoWayListener",t[t.DeclareLet=40]="DeclareLet",t[t.StoreLet=41]="StoreLet",t[t.I18nStart=42]="I18nStart",t[t.I18n=43]="I18n",t[t.I18nEnd=44]="I18nEnd",t[t.I18nExpression=45]="I18nExpression",t[t.I18nApply=46]="I18nApply",t[t.IcuStart=47]="IcuStart",t[t.IcuEnd=48]="IcuEnd",t[t.IcuPlaceholder=49]="IcuPlaceholder",t[t.I18nContext=50]="I18nContext",t[t.I18nAttributes=51]="I18nAttributes",t[t.SourceLocation=52]="SourceLocation",t[t.Animation=53]="Animation",t[t.AnimationString=54]="AnimationString",t[t.AnimationBinding=55]="AnimationBinding",t[t.AnimationListener=56]="AnimationListener"})(h||(h={}));var $;(function(t){t[t.LexicalRead=0]="LexicalRead",t[t.Context=1]="Context",t[t.TrackContext=2]="TrackContext",t[t.ReadVariable=3]="ReadVariable",t[t.NextContext=4]="NextContext",t[t.Reference=5]="Reference",t[t.StoreLet=6]="StoreLet",t[t.ContextLetReference=7]="ContextLetReference",t[t.GetCurrentView=8]="GetCurrentView",t[t.RestoreView=9]="RestoreView",t[t.ResetView=10]="ResetView",t[t.PureFunctionExpr=11]="PureFunctionExpr",t[t.PureFunctionParameterExpr=12]="PureFunctionParameterExpr",t[t.PipeBinding=13]="PipeBinding",t[t.PipeBindingVariadic=14]="PipeBindingVariadic",t[t.SafePropertyRead=15]="SafePropertyRead",t[t.SafeKeyedRead=16]="SafeKeyedRead",t[t.SafeInvokeFunction=17]="SafeInvokeFunction",t[t.SafeTernaryExpr=18]="SafeTernaryExpr",t[t.EmptyExpr=19]="EmptyExpr",t[t.AssignTemporaryExpr=20]="AssignTemporaryExpr",t[t.ReadTemporaryExpr=21]="ReadTemporaryExpr",t[t.SlotLiteralExpr=22]="SlotLiteralExpr",t[t.ConditionalCase=23]="ConditionalCase",t[t.ConstCollected=24]="ConstCollected",t[t.TwoWayBindingSet=25]="TwoWayBindingSet"})($||($={}));var Rt;(function(t){t[t.None=0]="None",t[t.AlwaysInline=1]="AlwaysInline"})(Rt||(Rt={}));var Be;(function(t){t[t.Context=0]="Context",t[t.Identifier=1]="Identifier",t[t.SavedView=2]="SavedView",t[t.Alias=3]="Alias"})(Be||(Be={}));var Nt;(function(t){t[t.Normal=0]="Normal",t[t.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder"})(Nt||(Nt={}));var R;(function(t){t[t.Attribute=0]="Attribute",t[t.ClassName=1]="ClassName",t[t.StyleProperty=2]="StyleProperty",t[t.Property=3]="Property",t[t.Template=4]="Template",t[t.I18n=5]="I18n",t[t.LegacyAnimation=6]="LegacyAnimation",t[t.TwoWayProperty=7]="TwoWayProperty",t[t.Animation=8]="Animation"})(R||(R={}));var Qs;(function(t){t[t.Creation=0]="Creation",t[t.Postproccessing=1]="Postproccessing"})(Qs||(Qs={}));var os;(function(t){t[t.I18nText=0]="I18nText",t[t.I18nAttribute=1]="I18nAttribute"})(os||(os={}));var le;(function(t){t[t.None=0]="None",t[t.ElementTag=1]="ElementTag",t[t.TemplateTag=2]="TemplateTag",t[t.OpenTag=4]="OpenTag",t[t.CloseTag=8]="CloseTag",t[t.ExpressionIndex=16]="ExpressionIndex"})(le||(le={}));var Xe;(function(t){t[t.HTML=0]="HTML",t[t.SVG=1]="SVG",t[t.Math=2]="Math"})(Xe||(Xe={}));var ae;(function(t){t[t.Idle=0]="Idle",t[t.Immediate=1]="Immediate",t[t.Timer=2]="Timer",t[t.Hover=3]="Hover",t[t.Interaction=4]="Interaction",t[t.Viewport=5]="Viewport",t[t.Never=6]="Never"})(ae||(ae={}));var or;(function(t){t[t.RootI18n=0]="RootI18n",t[t.Icu=1]="Icu",t[t.Attr=2]="Attr"})(or||(or={}));var ut;(function(t){t[t.NgTemplate=0]="NgTemplate",t[t.Structural=1]="Structural",t[t.Block=2]="Block"})(ut||(ut={}));var Vd=Symbol("ConsumesSlot"),Bu=Symbol("DependsOnSlotContext"),ai=Symbol("ConsumesVars"),cl=Symbol("UsesVarOffset"),Zt={[Vd]:!0,numSlotsUsed:1},Ot={[Bu]:!0},It={[ai]:!0};function li(t){return t[Vd]===!0}function ao(t){return t[Bu]===!0}function Ul(t){return t[ai]===!0}function Dh(t){return t[cl]===!0}function Jt(t){return w({kind:h.Statement,statement:t},q)}function rr(t,e,n,r){return w({kind:h.Variable,xref:t,variable:e,initializer:n,flags:r},q)}var q={debugListId:null,prev:null,next:null};function bT(t,e,n){return w(w(w({kind:h.InterpolateText,target:t,interpolation:e,sourceSpan:n},Ot),It),q)}var Ae=class{constructor(e,n,r){a(this,"strings");a(this,"expressions");a(this,"i18nPlaceholders");if(this.strings=e,this.expressions=n,this.i18nPlaceholders=r,r.length!==0&&r.length!==n.length)throw new Error(`Expected ${n.length} placeholders to match interpolation expression count, but got ${r.length}`)}};function as(t,e,n,r,s,i,o,l,c,p,u){return w({kind:h.Binding,bindingKind:e,target:t,name:n,expression:r,unit:s,securityContext:i,isTextAttribute:o,isStructuralTemplateAttribute:l,templateKind:c,i18nContext:null,i18nMessage:p,sourceSpan:u},q)}function _T(t,e,n,r,s,i,o,l,c,p){return w(w(w({kind:h.Property,target:t,name:e,expression:n,bindingKind:r,securityContext:s,sanitizer:null,isStructuralTemplateAttribute:i,templateKind:o,i18nContext:l,i18nMessage:c,sourceSpan:p},Ot),It),q)}function kT(t,e,n,r,s,i,o,l,c){return w(w(w({kind:h.TwoWayProperty,target:t,name:e,expression:n,securityContext:r,sanitizer:null,isStructuralTemplateAttribute:s,templateKind:i,i18nContext:o,i18nMessage:l,sourceSpan:c},Ot),It),q)}function RT(t,e,n,r,s){return w(w(w({kind:h.StyleProp,target:t,name:e,expression:n,unit:r,sourceSpan:s},Ot),It),q)}function PT(t,e,n,r){return w(w(w({kind:h.ClassProp,target:t,name:e,expression:n,sourceSpan:r},Ot),It),q)}function LT(t,e,n){return w(w(w({kind:h.StyleMap,target:t,expression:e,sourceSpan:n},Ot),It),q)}function MT(t,e,n){return w(w(w({kind:h.ClassMap,target:t,expression:e,sourceSpan:n},Ot),It),q)}function OT(t,e,n,r,s,i,o,l,c,p){return w(w(w({kind:h.Attribute,target:t,namespace:e,name:n,expression:r,securityContext:s,sanitizer:null,isTextAttribute:i,isStructuralTemplateAttribute:o,templateKind:l,i18nContext:null,i18nMessage:c,sourceSpan:p},Ot),It),q)}function FT(t,e){return w({kind:h.Advance,delta:t,sourceSpan:e},q)}function Hd(t,e,n,r){return w(w(w({kind:h.Conditional,target:t,test:e,conditions:n,processed:null,sourceSpan:r,contextValue:null},q),Ot),It)}function BT(t,e,n,r){return w(w({kind:h.Repeater,target:t,targetSlot:e,collection:n,sourceSpan:r},q),Ot)}function bh(t,e,n,r,s,i,o){return w({kind:h.AnimationBinding,name:t,target:e,animationKind:n,expression:r,i18nMessage:null,securityContext:s,sanitizer:null,sourceSpan:i,animationBindingKind:o},q)}function $T(t,e,n,r){return w(w(w({kind:h.DeferWhen,target:t,expr:e,modifier:n,sourceSpan:r},q),Ot),It)}function Gd(t,e,n,r,s,i,o,l,c,p,u){return w(w(w({kind:h.I18nExpression,context:t,target:e,i18nOwner:n,handle:r,expression:s,icuPlaceholder:i,i18nPlaceholder:o,resolutionTime:l,usage:c,name:p,sourceSpan:u},q),It),Ot)}function UT(t,e,n){return w({kind:h.I18nApply,owner:t,handle:e,sourceSpan:n},q)}function VT(t,e,n,r){return w(w(w({kind:h.StoreLet,target:t,declaredName:e,value:n,sourceSpan:r},Ot),It),q)}function Dn(t){return t instanceof ce}var ce=class extends oe{constructor(e=null){super(null,e)}},Ke=class t extends ce{constructor(n){super();a(this,"name");a(this,"kind",$.LexicalRead);this.name=n}visitExpression(n,r){}isEquivalent(n){return this.name===n.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.name)}},Ia=class t extends ce{constructor(n,r,s){super();a(this,"target");a(this,"targetSlot");a(this,"offset");a(this,"kind",$.Reference);this.target=n,this.targetSlot=r,this.offset=s}visitExpression(){}isEquivalent(n){return n instanceof t&&n.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.target,this.targetSlot,this.offset)}},Gf,qf,Wf,lo=class t extends(Wf=ce,qf=ai,Gf=Bu,Wf){constructor(n,r,s){super();a(this,"target");a(this,"value");a(this,"sourceSpan");a(this,"kind",$.StoreLet);a(this,qf,!0);a(this,Gf,!0);this.target=n,this.value=r,this.sourceSpan=s}visitExpression(){}isEquivalent(n){return n instanceof t&&n.target===this.target&&n.value.isEquivalent(this.value)}isConstant(){return!1}transformInternalExpressions(n,r){this.value=k(this.value,n,r)}clone(){return new t(this.target,this.value,this.sourceSpan)}},co=class t extends ce{constructor(n,r){super();a(this,"target");a(this,"targetSlot");a(this,"kind",$.ContextLetReference);this.target=n,this.targetSlot=r}visitExpression(){}isEquivalent(n){return n instanceof t&&n.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.target,this.targetSlot)}},xr=class t extends ce{constructor(n){super();a(this,"view");a(this,"kind",$.Context);this.view=n}visitExpression(){}isEquivalent(n){return n instanceof t&&n.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},Uc=class t extends ce{constructor(n){super();a(this,"view");a(this,"kind",$.TrackContext);this.view=n}visitExpression(){}isEquivalent(n){return n instanceof t&&n.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},Da=class t extends ce{constructor(){super();a(this,"kind",$.NextContext);a(this,"steps",1)}visitExpression(){}isEquivalent(n){return n instanceof t&&n.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){let n=new t;return n.steps=this.steps,n}},Vc=class t extends ce{constructor(){super();a(this,"kind",$.GetCurrentView)}visitExpression(){}isEquivalent(n){return n instanceof t}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t}},ba=class t extends ce{constructor(n){super();a(this,"view");a(this,"kind",$.RestoreView);this.view=n}visitExpression(n,r){typeof this.view!="number"&&this.view.visitExpression(n,r)}isEquivalent(n){return!(n instanceof t)||typeof n.view!=typeof this.view?!1:typeof this.view=="number"?this.view===n.view:this.view.isEquivalent(n.view)}isConstant(){return!1}transformInternalExpressions(n,r){typeof this.view!="number"&&(this.view=k(this.view,n,r))}clone(){return new t(this.view instanceof oe?this.view.clone():this.view)}},Hc=class t extends ce{constructor(n){super();a(this,"expr");a(this,"kind",$.ResetView);this.expr=n}visitExpression(n,r){this.expr.visitExpression(n,r)}isEquivalent(n){return n instanceof t&&this.expr.isEquivalent(n.expr)}isConstant(){return!1}transformInternalExpressions(n,r){this.expr=k(this.expr,n,r)}clone(){return new t(this.expr.clone())}},_a=class t extends ce{constructor(n,r){super();a(this,"target");a(this,"value");a(this,"kind",$.TwoWayBindingSet);this.target=n,this.value=r}visitExpression(n,r){this.target.visitExpression(n,r),this.value.visitExpression(n,r)}isEquivalent(n){return this.target.isEquivalent(n.target)&&this.value.isEquivalent(n.value)}isConstant(){return!1}transformInternalExpressions(n,r){this.target=k(this.target,n,r),this.value=k(this.value,n,r)}clone(){return new t(this.target,this.value)}},$n=class t extends ce{constructor(n){super();a(this,"xref");a(this,"kind",$.ReadVariable);a(this,"name",null);this.xref=n}visitExpression(){}isEquivalent(n){return n instanceof t&&n.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){let n=new t(this.xref);return n.name=this.name,n}},jf,Kf,zf,ls=class t extends(zf=ce,Kf=ai,jf=cl,zf){constructor(n,r){super();a(this,"kind",$.PureFunctionExpr);a(this,Kf,!0);a(this,jf,!0);a(this,"varOffset",null);a(this,"body");a(this,"args");a(this,"fn",null);this.body=n,this.args=r}visitExpression(n,r){var s;(s=this.body)==null||s.visitExpression(n,r);for(let i of this.args)i.visitExpression(n,r)}isEquivalent(n){return!(n instanceof t)||n.args.length!==this.args.length?!1:n.body!==null&&this.body!==null&&n.body.isEquivalent(this.body)&&n.args.every((r,s)=>r.isEquivalent(this.args[s]))}isConstant(){return!1}transformInternalExpressions(n,r){this.body!==null?this.body=k(this.body,n,r|se.InChildOperation):this.fn!==null&&(this.fn=k(this.fn,n,r));for(let s=0;s<this.args.length;s++)this.args[s]=k(this.args[s],n,r)}clone(){var r,s,i,o;let n=new t((s=(r=this.body)==null?void 0:r.clone())!=null?s:null,this.args.map(l=>l.clone()));return n.fn=(o=(i=this.fn)==null?void 0:i.clone())!=null?o:null,n.varOffset=this.varOffset,n}},Js=class t extends ce{constructor(n){super();a(this,"index");a(this,"kind",$.PureFunctionParameterExpr);this.index=n}visitExpression(){}isEquivalent(n){return n instanceof t&&n.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new t(this.index)}},Yf,Xf,Qf,cs=class t extends(Qf=ce,Xf=ai,Yf=cl,Qf){constructor(n,r,s,i){super();a(this,"target");a(this,"targetSlot");a(this,"name");a(this,"args");a(this,"kind",$.PipeBinding);a(this,Xf,!0);a(this,Yf,!0);a(this,"varOffset",null);this.target=n,this.targetSlot=r,this.name=s,this.args=i}visitExpression(n,r){for(let s of this.args)s.visitExpression(n,r)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(n,r){for(let s=0;s<this.args.length;s++)this.args[s]=k(this.args[s],n,r)}clone(){let n=new t(this.target,this.targetSlot,this.name,this.args.map(r=>r.clone()));return n.varOffset=this.varOffset,n}},Jf,Zf,ed,uo=class t extends(ed=ce,Zf=ai,Jf=cl,ed){constructor(n,r,s,i,o){super();a(this,"target");a(this,"targetSlot");a(this,"name");a(this,"args");a(this,"numArgs");a(this,"kind",$.PipeBindingVariadic);a(this,Zf,!0);a(this,Jf,!0);a(this,"varOffset",null);this.target=n,this.targetSlot=r,this.name=s,this.args=i,this.numArgs=o}visitExpression(n,r){this.args.visitExpression(n,r)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(n,r){this.args=k(this.args,n,r)}clone(){let n=new t(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return n.varOffset=this.varOffset,n}},Zs=class t extends ce{constructor(n,r){super();a(this,"receiver");a(this,"name");a(this,"kind",$.SafePropertyRead);this.receiver=n,this.name=r}get index(){return this.name}visitExpression(n,r){this.receiver.visitExpression(n,r)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(n,r){this.receiver=k(this.receiver,n,r)}clone(){return new t(this.receiver.clone(),this.name)}},ei=class t extends ce{constructor(n,r,s){super(s);a(this,"receiver");a(this,"index");a(this,"kind",$.SafeKeyedRead);this.receiver=n,this.index=r}visitExpression(n,r){this.receiver.visitExpression(n,r),this.index.visitExpression(n,r)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(n,r){this.receiver=k(this.receiver,n,r),this.index=k(this.index,n,r)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.sourceSpan)}},us=class t extends ce{constructor(n,r){super();a(this,"receiver");a(this,"args");a(this,"kind",$.SafeInvokeFunction);this.receiver=n,this.args=r}visitExpression(n,r){this.receiver.visitExpression(n,r);for(let s of this.args)s.visitExpression(n,r)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(n,r){this.receiver=k(this.receiver,n,r);for(let s=0;s<this.args.length;s++)this.args[s]=k(this.args[s],n,r)}clone(){return new t(this.receiver.clone(),this.args.map(n=>n.clone()))}},ti=class t extends ce{constructor(n,r){super();a(this,"guard");a(this,"expr");a(this,"kind",$.SafeTernaryExpr);this.guard=n,this.expr=r}visitExpression(n,r){this.guard.visitExpression(n,r),this.expr.visitExpression(n,r)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(n,r){this.guard=k(this.guard,n,r),this.expr=k(this.expr,n,r)}clone(){return new t(this.guard.clone(),this.expr.clone())}},po=class t extends ce{constructor(){super(...arguments);a(this,"kind",$.EmptyExpr)}visitExpression(n,r){}isEquivalent(n){return n instanceof t}isConstant(){return!0}clone(){return new t}transformInternalExpressions(){}},bn=class t extends ce{constructor(n,r){super();a(this,"expr");a(this,"xref");a(this,"kind",$.AssignTemporaryExpr);a(this,"name",null);this.expr=n,this.xref=r}visitExpression(n,r){this.expr.visitExpression(n,r)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(n,r){this.expr=k(this.expr,n,r)}clone(){let n=new t(this.expr.clone(),this.xref);return n.name=this.name,n}},Cr=class t extends ce{constructor(n){super();a(this,"xref");a(this,"kind",$.ReadTemporaryExpr);a(this,"name",null);this.xref=n}visitExpression(n,r){}isEquivalent(){return this.xref===this.xref}isConstant(){return!1}transformInternalExpressions(n,r){}clone(){let n=new t(this.xref);return n.name=this.name,n}},ka=class t extends ce{constructor(n){super();a(this,"slot");a(this,"kind",$.SlotLiteralExpr);this.slot=n}visitExpression(n,r){}isEquivalent(n){return n instanceof t&&n.slot===this.slot}isConstant(){return!0}clone(){return new t(this.slot)}transformInternalExpressions(){}},Ra=class t extends ce{constructor(n,r,s,i=null){super();a(this,"expr");a(this,"target");a(this,"targetSlot");a(this,"alias");a(this,"kind",$.ConditionalCase);this.expr=n,this.target=r,this.targetSlot=s,this.alias=i}visitExpression(n,r){this.expr!==null&&this.expr.visitExpression(n,r)}isEquivalent(n){return n instanceof t&&n.expr===this.expr}isConstant(){return!0}clone(){return new t(this.expr,this.target,this.targetSlot)}transformInternalExpressions(n,r){this.expr!==null&&(this.expr=k(this.expr,n,r))}},ho=class t extends ce{constructor(n){super();a(this,"expr");a(this,"kind",$.ConstCollected);this.expr=n}transformInternalExpressions(n,r){this.expr=n(this.expr,r)}visitExpression(n,r){this.expr.visitExpression(n,r)}isEquivalent(n){return n instanceof t?this.expr.isEquivalent(n.expr):!1}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr)}};function je(t,e){Le(t,(n,r)=>(e(n,r),n),se.None)}var se;(function(t){t[t.None=0]="None",t[t.InChildOperation=1]="InChildOperation"})(se||(se={}));function Vl(t,e,n){for(let r=0;r<t.expressions.length;r++)t.expressions[r]=k(t.expressions[r],e,n)}function Le(t,e,n){switch(t.kind){case h.StyleProp:case h.StyleMap:case h.ClassProp:case h.ClassMap:case h.AnimationString:case h.AnimationBinding:case h.Binding:t.expression instanceof Ae?Vl(t.expression,e,n):t.expression=k(t.expression,e,n);break;case h.Property:case h.DomProperty:case h.Attribute:t.expression instanceof Ae?Vl(t.expression,e,n):t.expression=k(t.expression,e,n),t.sanitizer=t.sanitizer&&k(t.sanitizer,e,n);break;case h.TwoWayProperty:t.expression=k(t.expression,e,n),t.sanitizer=t.sanitizer&&k(t.sanitizer,e,n);break;case h.I18nExpression:t.expression=k(t.expression,e,n);break;case h.InterpolateText:Vl(t.interpolation,e,n);break;case h.Statement:Pa(t.statement,e,n);break;case h.Variable:t.initializer=k(t.initializer,e,n);break;case h.Conditional:for(let r of t.conditions)r.expr!==null&&(r.expr=k(r.expr,e,n));t.processed!==null&&(t.processed=k(t.processed,e,n)),t.contextValue!==null&&(t.contextValue=k(t.contextValue,e,n));break;case h.Animation:case h.AnimationListener:case h.Listener:case h.TwoWayListener:for(let r of t.handlerOps)Le(r,e,n|se.InChildOperation);break;case h.ExtractedAttribute:t.expression=t.expression&&k(t.expression,e,n),t.trustedValueFn=t.trustedValueFn&&k(t.trustedValueFn,e,n);break;case h.RepeaterCreate:if(t.trackByOps===null)t.track=k(t.track,e,n);else for(let r of t.trackByOps)Le(r,e,n|se.InChildOperation);t.trackByFn!==null&&(t.trackByFn=k(t.trackByFn,e,n));break;case h.Repeater:t.collection=k(t.collection,e,n);break;case h.Defer:t.loadingConfig!==null&&(t.loadingConfig=k(t.loadingConfig,e,n)),t.placeholderConfig!==null&&(t.placeholderConfig=k(t.placeholderConfig,e,n)),t.resolverFn!==null&&(t.resolverFn=k(t.resolverFn,e,n));break;case h.I18nMessage:for(let[r,s]of t.params)t.params.set(r,k(s,e,n));for(let[r,s]of t.postprocessingParams)t.postprocessingParams.set(r,k(s,e,n));break;case h.DeferWhen:t.expr=k(t.expr,e,n);break;case h.StoreLet:t.value=k(t.value,e,n);break;case h.Advance:case h.Container:case h.ContainerEnd:case h.ContainerStart:case h.DeferOn:case h.DisableBindings:case h.Element:case h.ElementEnd:case h.ElementStart:case h.EnableBindings:case h.I18n:case h.I18nApply:case h.I18nContext:case h.I18nEnd:case h.I18nStart:case h.IcuEnd:case h.IcuStart:case h.Namespace:case h.Pipe:case h.Projection:case h.ProjectionDef:case h.Template:case h.Text:case h.I18nAttributes:case h.IcuPlaceholder:case h.DeclareLet:case h.SourceLocation:case h.ConditionalCreate:case h.ConditionalBranchCreate:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${h[t.kind]}`)}}function k(t,e,n){if(t instanceof ce)t.transformInternalExpressions(e,n);else if(t instanceof te)t.lhs=k(t.lhs,e,n),t.rhs=k(t.rhs,e,n);else if(t instanceof Vn)t.expr=k(t.expr,e,n);else if(t instanceof ht)t.receiver=k(t.receiver,e,n);else if(t instanceof An)t.receiver=k(t.receiver,e,n),t.index=k(t.index,e,n);else if(t instanceof tt){t.fn=k(t.fn,e,n);for(let r=0;r<t.args.length;r++)t.args[r]=k(t.args[r],e,n)}else if(t instanceof xt)for(let r=0;r<t.entries.length;r++)t.entries[r]=k(t.entries[r],e,n);else if(t instanceof fn)for(let r=0;r<t.entries.length;r++)t.entries[r].value=k(t.entries[r].value,e,n);else if(t instanceof hn)t.condition=k(t.condition,e,n),t.trueCase=k(t.trueCase,e,n),t.falseCase!==null&&(t.falseCase=k(t.falseCase,e,n));else if(t instanceof zr)t.expr=k(t.expr,e,n);else if(t instanceof Pi)t.expr=k(t.expr,e,n);else if(t instanceof Mi)for(let r=0;r<t.expressions.length;r++)t.expressions[r]=k(t.expressions[r],e,n);else if(t instanceof Gs)t.condition=k(t.condition,e,n);else if(t instanceof Us)t.tag=k(t.tag,e,n),t.template.expressions=t.template.expressions.map(r=>k(r,e,n));else if(t instanceof Un)if(Array.isArray(t.body))for(let r=0;r<t.body.length;r++)Pa(t.body[r],e,n);else t.body=k(t.body,e,n);else if(!(t instanceof G)){if(t instanceof Hs)for(let r=0;r<t.expressions.length;r++)t.expressions[r]=k(t.expressions[r],e,n);else if(t instanceof jt)t.expr=k(t.expr,e,n);else if(!(t instanceof Pt||t instanceof qe||t instanceof Ie))throw new Error(`Unhandled expression kind: ${t.constructor.name}`)}return e(t,n)}function Pa(t,e,n){if(t instanceof Lt)t.expr=k(t.expr,e,n);else if(t instanceof Ue)t.value=k(t.value,e,n);else if(t instanceof Pe)t.value!==void 0&&(t.value=k(t.value,e,n));else if(t instanceof $i){t.condition=k(t.condition,e,n);for(let r of t.trueCase)Pa(r,e,n);for(let r of t.falseCase)Pa(r,e,n)}else throw new Error(`Unhandled statement kind: ${t.constructor.name}`)}function qd(t){return t instanceof Ie&&typeof t.value=="string"}var ue=class ue{constructor(){a(this,"debugListId",ue.nextListId++);a(this,"head",{kind:h.ListEnd,next:null,prev:null,debugListId:this.debugListId});a(this,"tail",{kind:h.ListEnd,next:null,prev:null,debugListId:this.debugListId});this.head.next=this.tail,this.tail.prev=this.head}push(e){if(Array.isArray(e)){for(let r of e)this.push(r);return}ue.assertIsNotEnd(e),ue.assertIsUnowned(e),e.debugListId=this.debugListId;let n=this.tail.prev;e.prev=n,n.next=e,e.next=this.tail,this.tail.prev=e}prepend(e){if(e.length===0)return;for(let s of e)ue.assertIsNotEnd(s),ue.assertIsUnowned(s),s.debugListId=this.debugListId;let n=this.head.next,r=this.head;for(let s of e)r.next=s,s.prev=r,r=s;r.next=n,n.prev=r}*[Symbol.iterator](){let e=this.head.next;for(;e!==this.tail;){ue.assertIsOwned(e,this.debugListId);let n=e.next;yield e,e=n}}*reversed(){let e=this.tail.prev;for(;e!==this.head;){ue.assertIsOwned(e,this.debugListId);let n=e.prev;yield e,e=n}}static replace(e,n){ue.assertIsNotEnd(e),ue.assertIsNotEnd(n),ue.assertIsOwned(e),ue.assertIsUnowned(n),n.debugListId=e.debugListId,e.prev!==null&&(e.prev.next=n,n.prev=e.prev),e.next!==null&&(e.next.prev=n,n.next=e.next),e.debugListId=null,e.prev=null,e.next=null}static replaceWithMany(e,n){if(n.length===0){ue.remove(e);return}ue.assertIsNotEnd(e),ue.assertIsOwned(e);let r=e.debugListId;e.debugListId=null;for(let p of n)ue.assertIsNotEnd(p),ue.assertIsUnowned(p);let{prev:s,next:i}=e;e.prev=null,e.next=null;let o=s;for(let p of n)ue.assertIsUnowned(p),p.debugListId=r,o.next=p,p.prev=o,p.next=null,o=p;let l=n[0],c=o;s!==null&&(s.next=l,l.prev=s),i!==null&&(i.prev=c,c.next=i)}static remove(e){ue.assertIsNotEnd(e),ue.assertIsOwned(e),e.prev.next=e.next,e.next.prev=e.prev,e.debugListId=null,e.prev=null,e.next=null}static insertBefore(e,n){if(Array.isArray(e)){for(let r of e)ue.insertBefore(r,n);return}if(ue.assertIsOwned(n),n.prev===null)throw new Error("AssertionError: illegal operation on list start");ue.assertIsNotEnd(e),ue.assertIsUnowned(e),e.debugListId=n.debugListId,e.prev=null,n.prev.next=e,e.prev=n.prev,e.next=n,n.prev=e}static insertAfter(e,n){if(ue.assertIsOwned(n),n.next===null)throw new Error("AssertionError: illegal operation on list end");ue.assertIsNotEnd(e),ue.assertIsUnowned(e),e.debugListId=n.debugListId,n.next.prev=e,e.next=n.next,e.prev=n,n.next=e}static assertIsUnowned(e){if(e.debugListId!==null)throw new Error(`AssertionError: illegal operation on owned node: ${h[e.kind]}`)}static assertIsOwned(e,n){if(e.debugListId===null)throw new Error(`AssertionError: illegal operation on unowned node: ${h[e.kind]}`);if(n!==void 0&&e.debugListId!==n)throw new Error(`AssertionError: node belongs to the wrong list (expected ${n}, actual ${e.debugListId})`)}static assertIsNotEnd(e){if(e.kind===h.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}};a(ue,"nextListId",0);var x=ue,Je=class{constructor(){a(this,"slot",null)}},HT=new Set([h.Element,h.ElementStart,h.Container,h.ContainerStart,h.Template,h.RepeaterCreate,h.ConditionalCreate,h.ConditionalBranchCreate]);function jn(t){return HT.has(t.kind)}function GT(t,e,n,r,s,i){return w(w({kind:h.ElementStart,xref:e,tag:t,handle:new Je,attributes:null,localRefs:[],nonBindable:!1,namespace:n,i18nPlaceholder:r,startSourceSpan:s,wholeSourceSpan:i},Zt),q)}function Wd(t,e,n,r,s,i,o,l){return w(w({kind:h.Template,xref:t,templateKind:e,attributes:null,tag:n,handle:new Je,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:s,i18nPlaceholder:i,startSourceSpan:o,wholeSourceSpan:l},Zt),q)}function jd(t,e,n,r,s,i,o,l){return w(w({kind:h.ConditionalCreate,xref:t,templateKind:e,attributes:null,tag:n,handle:new Je,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:s,i18nPlaceholder:i,startSourceSpan:o,wholeSourceSpan:l},Zt),q)}function Kd(t,e,n,r,s,i,o,l){return w(w({kind:h.ConditionalBranchCreate,xref:t,templateKind:e,attributes:null,tag:n,handle:new Je,functionNameSuffix:r,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:s,i18nPlaceholder:i,startSourceSpan:o,wholeSourceSpan:l},Zt),q)}function qT(t,e,n,r,s,i,o,l,c,p){return fe(w(w(w({kind:h.RepeaterCreate,attributes:null,xref:t,handle:new Je,emptyView:e,track:r,trackByFn:null,trackByOps:null,tag:n,emptyTag:i,emptyAttributes:null,functionNameSuffix:"For",namespace:Xe.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames:s,usesComponentInstance:!1,i18nPlaceholder:o,emptyI18nPlaceholder:l,startSourceSpan:c,wholeSourceSpan:p},Zt),q),It),{numSlotsUsed:e===null?2:3})}function WT(t,e){return w({kind:h.ElementEnd,xref:t,sourceSpan:e},q)}function jT(t){return w({kind:h.DisableBindings,xref:t},q)}function KT(t){return w({kind:h.EnableBindings,xref:t},q)}function zd(t,e,n,r){return w(w({kind:h.Text,xref:t,handle:new Je,initialValue:e,icuPlaceholder:n,sourceSpan:r},Zt),q)}function zT(t,e,n,r,s,i){return w({kind:h.AnimationString,name:t,target:e,animationKind:n,expression:r,i18nMessage:null,securityContext:s,sanitizer:null,sourceSpan:i},q)}function YT(t,e,n,r,s,i){let o=new x;return o.push(r),w({kind:h.Animation,name:t,target:e,animationKind:n,handlerOps:o,handlerFnName:null,i18nMessage:null,securityContext:s,sanitizer:null,sourceSpan:i},q)}function $u(t,e,n,r,s,i,o,l,c){let p=new x;return p.push(s),w({kind:h.Listener,target:t,targetSlot:e,tag:r,hostListener:l,name:n,handlerOps:p,handlerFnName:null,consumesDollarEvent:!1,isLegacyAnimationListener:i!==null,legacyAnimationPhase:i,eventTarget:o,sourceSpan:c},q)}function Yd(t,e,n,r,s,i,o,l,c){let p=new x;return p.push(s),w({kind:h.AnimationListener,target:t,targetSlot:e,tag:r,hostListener:l,name:n,animationKind:i,handlerOps:p,handlerFnName:null,consumesDollarEvent:!1,eventTarget:o,sourceSpan:c},q)}function Xd(t,e,n,r,s,i){let o=new x;return o.push(s),w({kind:h.TwoWayListener,target:t,targetSlot:e,tag:r,name:n,handlerOps:o,handlerFnName:null,sourceSpan:i},q)}function Qd(t,e,n){return w(w({kind:h.Pipe,xref:t,handle:e,name:n},q),Zt)}function XT(t){return w({kind:h.Namespace,active:t},q)}function QT(t){return w({kind:h.ProjectionDef,def:t},q)}function JT(t,e,n,r,s){return fe(w(w({kind:h.Projection,xref:t,handle:new Je,selector:e,i18nPlaceholder:n,fallbackView:r,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan:s},q),Zt),{numSlotsUsed:r===null?1:2})}function Ht(t,e,n,r,s,i,o,l){return w({kind:h.ExtractedAttribute,target:t,bindingKind:e,namespace:n,name:r,expression:s,i18nContext:i,i18nMessage:o,securityContext:l,trustedValueFn:null},q)}function ZT(t,e,n,r,s,i){return fe(w(w({kind:h.Defer,xref:t,handle:new Je,mainView:e,mainSlot:n,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,ownResolverFn:r,resolverFn:s,flags:null,sourceSpan:i},q),Zt),{numSlotsUsed:2})}function Zn(t,e,n,r){return w({kind:h.DeferOn,defer:t,trigger:e,modifier:n,sourceSpan:r},q)}function ew(t,e,n){return w(w({kind:h.DeclareLet,xref:t,declaredName:e,sourceSpan:n,handle:new Je},Zt),q)}function tw(t,e,n,r,s,i,o,l){return w({kind:h.I18nMessage,xref:t,i18nContext:e,i18nBlock:n,message:r,messagePlaceholder:s,params:i,postprocessingParams:o,needsPostprocessing:l,subMessages:[]},q)}function ul(t,e,n,r){return w(w({kind:h.I18nStart,xref:t,handle:new Je,root:n!=null?n:t,message:e,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan:r},q),Zt)}function pl(t,e){return w({kind:h.I18nEnd,xref:t,sourceSpan:e},q)}function nw(t,e,n,r){return w({kind:h.IcuStart,xref:t,message:e,messagePlaceholder:n,context:null,sourceSpan:r},q)}function rw(t){return w({kind:h.IcuEnd,xref:t},q)}function sw(t,e,n){return w({kind:h.IcuPlaceholder,xref:t,name:e,strings:n,expressionPlaceholders:[]},q)}function Hl(t,e,n,r,s){if(n===null&&t!==or.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return w({kind:h.I18nContext,contextKind:t,xref:e,i18nBlock:n,message:r,sourceSpan:s,params:new Map,postprocessingParams:new Map},q)}function Jd(t,e,n){return w(w({kind:h.I18nAttributes,xref:t,handle:e,target:n,i18nAttributesConfig:null},q),Zt)}function iw(t,e){return w({kind:h.SourceLocation,templatePath:t,locations:e},q)}function ow(t,e,n,r,s,i){return w(w({kind:h.DomProperty,name:t,expression:e,bindingKind:n,i18nContext:r,securityContext:s,sanitizer:null,sourceSpan:i},It),q)}var Zd="CTX_REF_MARKER",_;(function(t){t[t.Tmpl=0]="Tmpl",t[t.Host=1]="Host",t[t.Both=2]="Both"})(_||(_={}));var yt;(function(t){t[t.Full=0]="Full",t[t.DomOnly=1]="DomOnly"})(yt||(yt={}));var La=class{constructor(e,n,r,s){a(this,"componentName");a(this,"pool");a(this,"compatibility");a(this,"mode");a(this,"kind",_.Both);a(this,"nextXrefId",0);this.componentName=e,this.pool=n,this.compatibility=r,this.mode=s}allocateXrefId(){return this.nextXrefId++}},fo=class extends La{constructor(n,r,s,i,o,l,c,p,u,d){super(n,r,s,i);a(this,"relativeContextFilePath");a(this,"i18nUseExternalIds");a(this,"deferMeta");a(this,"allDeferrableDepsFn");a(this,"relativeTemplatePath");a(this,"enableDebugLocations");a(this,"kind",_.Tmpl);a(this,"fnSuffix","Template");a(this,"root");a(this,"views",new Map);a(this,"contentSelectors",null);a(this,"consts",[]);a(this,"constsInitializers",[]);this.relativeContextFilePath=o,this.i18nUseExternalIds=l,this.deferMeta=c,this.allDeferrableDepsFn=p,this.relativeTemplatePath=u,this.enableDebugLocations=d,this.root=new Gt(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}allocateView(n){let r=new Gt(this,this.allocateXrefId(),n);return this.views.set(r.xref,r),r}get units(){return this.views.values()}addConst(n,r){for(let i=0;i<this.consts.length;i++)if(this.consts[i].isEquivalent(n))return i;let s=this.consts.length;return this.consts.push(n),r&&this.constsInitializers.push(...r),s}},Ma=class{constructor(e){a(this,"xref");a(this,"create",new x);a(this,"update",new x);a(this,"fnName",null);a(this,"vars",null);this.xref=e}*ops(){for(let e of this.create)if(yield e,e.kind===h.Listener||e.kind===h.Animation||e.kind===h.AnimationListener||e.kind===h.TwoWayListener)for(let n of e.handlerOps)yield n;else if(e.kind===h.RepeaterCreate&&e.trackByOps!==null)for(let n of e.trackByOps)yield n;for(let e of this.update)yield e}},Gt=class extends Ma{constructor(n,r,s){super(r);a(this,"job");a(this,"parent");a(this,"contextVariables",new Map);a(this,"aliases",new Set);a(this,"decls",null);this.job=n,this.parent=s}},Oa=class extends La{constructor(n,r,s,i){super(n,r,s,i);a(this,"kind",_.Host);a(this,"fnSuffix","HostBindings");a(this,"root");this.root=new Gc(this)}get units(){return[this.root]}},Gc=class extends Ma{constructor(n){super(0);a(this,"job");a(this,"attributes",null);this.job=n}};function aw(t){for(let e of t.units)for(let n of e.ops())Le(n,lw,se.None)}function lw(t){if(t instanceof tt&&t.fn instanceof Ke&&t.fn.name==="$any"){if(t.args.length!==1)throw new Error("The $any builtin function expects exactly one argument.");return t.args[0]}return t}function cw(t){let e=new Map;for(let n of t.units)for(let r of n.create)r.kind===h.I18nContext&&e.set(r.xref,r);for(let n of t.units)for(let r of n.update)r.kind===h.I18nExpression&&uw(e,r)&&x.insertAfter(UT(r.i18nOwner,r.handle,null),r)}function uw(t,e){var s;if(((s=e.next)==null?void 0:s.kind)!==h.I18nExpression)return!0;let n=t.get(e.context),r=t.get(e.next.context);if(n===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(r===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return n.i18nBlock!==null?n.i18nBlock!==r.i18nBlock:e.i18nOwner!==e.next.i18nOwner}function pw(t){for(let e of t.units){let n=e.update.head,r=[],s=null;for(let i of e.create){if(i.kind===h.I18nStart)s={blockXref:i.xref,lastSlotConsumer:i.xref};else if(i.kind===h.I18nEnd){for(let o of r)o.target=s.lastSlotConsumer,x.insertBefore(o,n);r.length=0,s=null}if(li(i))for(s!==null&&(s.lastSlotConsumer=i.xref);n.next!==null;){if(s!==null&&n.kind===h.I18nExpression&&n.usage===os.I18nText&&n.i18nOwner===s.blockXref){let l=n;n=n.next,x.remove(l),r.push(l);continue}let o=!1;if(ao(n)&&n.target!==i.xref?o=!0:(n.kind===h.Statement||n.kind===h.Variable)&&je(n,l=>{!o&&ao(l)&&l.target!==i.xref&&(o=!0)}),o)break;n=n.next}}}}function hw(t){if(!(!t.enableDebugLocations||t.relativeTemplatePath===null))for(let e of t.units){let n=[];for(let r of e.create)if(r.kind===h.ElementStart||r.kind===h.Element){let s=r.startSourceSpan.start;n.push({targetSlot:r.handle,offset:s.offset,line:s.line,column:s.col})}n.length>0&&e.create.push(iw(t.relativeTemplatePath,n))}}function Uu(t){let e=new Map;for(let n of t.create)li(n)&&(e.set(n.xref,n),n.kind===h.RepeaterCreate&&n.emptyView!==null&&e.set(n.emptyView,n));return e}function fw(t){for(let e of t.units){let n=Uu(e);for(let r of e.ops())switch(r.kind){case h.Attribute:dw(e,r,n);break;case h.Property:if(r.bindingKind!==R.LegacyAnimation&&r.bindingKind!==R.Animation){let s;r.i18nMessage!==null&&r.templateKind===null?s=R.I18n:r.isStructuralTemplateAttribute?s=R.Template:s=R.Property,x.insertBefore(Ht(r.target,s,null,r.name,null,null,null,r.securityContext),As(n,r.target))}break;case h.TwoWayProperty:x.insertBefore(Ht(r.target,R.TwoWayProperty,null,r.name,null,null,null,r.securityContext),As(n,r.target));break;case h.StyleProp:case h.ClassProp:e.job.compatibility===Nt.TemplateDefinitionBuilder&&r.expression instanceof po&&x.insertBefore(Ht(r.target,R.Property,null,r.name,null,null,null,pe.STYLE),As(n,r.target));break;case h.Listener:if(!r.isLegacyAnimationListener){let s=Ht(r.target,R.Property,null,r.name,null,null,null,pe.NONE);if(t.kind===_.Host){if(t.compatibility)break;e.create.push(s)}else x.insertBefore(s,As(n,r.target))}break;case h.TwoWayListener:if(t.kind!==_.Host){let s=Ht(r.target,R.Property,null,r.name,null,null,null,pe.NONE);x.insertBefore(s,As(n,r.target))}break}}}function As(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function dw(t,e,n){if(e.expression instanceof Ae)return;let r=e.isTextAttribute||e.expression.isConstant();if(t.job.compatibility===Nt.TemplateDefinitionBuilder&&r&&(r=e.isTextAttribute),r){let s=Ht(e.target,e.isStructuralTemplateAttribute?R.Template:R.Attribute,e.namespace,e.name,e.expression,e.i18nContext,e.i18nMessage,e.securityContext);if(t.job.kind===_.Host)t.create.push(s);else{let i=As(n,e.target);x.insertBefore(s,i)}x.remove(e)}}function mw(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function gw(t){let e=new Map;for(let n of t.units)for(let r of n.create)jn(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.ops())if(r.kind===h.Binding)switch(r.bindingKind){case R.Attribute:if(r.name==="ngNonBindable"){x.remove(r);let s=mw(e,r.target);s.nonBindable=!0}else if(r.name.startsWith("animate."))x.replace(r,bh(r.name,r.target,r.name==="animate.enter"?"enter":"leave",r.expression,r.securityContext,r.sourceSpan,0));else{let[s,i]=dn(r.name);x.replace(r,OT(r.target,s,i,r.expression,r.securityContext,r.isTextAttribute,r.isStructuralTemplateAttribute,r.templateKind,r.i18nMessage,r.sourceSpan))}break;case R.Animation:x.replace(r,bh(r.name,r.target,r.name==="animate.enter"?"enter":"leave",r.expression,r.securityContext,r.sourceSpan,1));break;case R.Property:case R.LegacyAnimation:t.kind===_.Host?x.replace(r,ow(r.name,r.expression,r.bindingKind,r.i18nContext,r.securityContext,r.sourceSpan)):x.replace(r,_T(r.target,r.name,r.expression,r.bindingKind,r.securityContext,r.isStructuralTemplateAttribute,r.templateKind,r.i18nContext,r.i18nMessage,r.sourceSpan));break;case R.TwoWayProperty:if(!(r.expression instanceof oe))throw new Error(`Expected value of two-way property binding "${r.name}" to be an expression`);x.replace(r,kT(r.target,r.name,r.expression,r.securityContext,r.isStructuralTemplateAttribute,r.templateKind,r.i18nContext,r.i18nMessage,r.sourceSpan));break;case R.I18n:case R.ClassName:case R.StyleProperty:throw new Error(`Unhandled binding of kind ${R[r.bindingKind]}`)}}var _h=new Map([[f.ariaProperty,f.ariaProperty],[f.attribute,f.attribute],[f.classProp,f.classProp],[f.element,f.element],[f.elementContainer,f.elementContainer],[f.elementContainerEnd,f.elementContainerEnd],[f.elementContainerStart,f.elementContainerStart],[f.elementEnd,f.elementEnd],[f.elementStart,f.elementStart],[f.domProperty,f.domProperty],[f.i18nExp,f.i18nExp],[f.listener,f.listener],[f.listener,f.listener],[f.property,f.property],[f.styleProp,f.styleProp],[f.syntheticHostListener,f.syntheticHostListener],[f.syntheticHostProperty,f.syntheticHostProperty],[f.templateCreate,f.templateCreate],[f.twoWayProperty,f.twoWayProperty],[f.twoWayListener,f.twoWayListener],[f.declareLet,f.declareLet],[f.conditionalCreate,f.conditionalBranchCreate],[f.conditionalBranchCreate,f.conditionalBranchCreate],[f.domElement,f.domElement],[f.domElementStart,f.domElementStart],[f.domElementEnd,f.domElementEnd],[f.domElementContainer,f.domElementContainer],[f.domElementContainerStart,f.domElementContainerStart],[f.domElementContainerEnd,f.domElementContainerEnd],[f.domListener,f.domListener],[f.domTemplate,f.domTemplate],[f.animationEnter,f.animationEnter],[f.animationLeave,f.animationLeave],[f.animationEnterListener,f.animationEnterListener],[f.animationLeaveListener,f.animationLeaveListener]]),yw=256;function vw(t){for(let e of t.units)kh(e.create),kh(e.update)}function kh(t){let e=null;for(let n of t){if(n.kind!==h.Statement||!(n.statement instanceof Lt)){e=null;continue}if(!(n.statement.expr instanceof tt)||!(n.statement.expr.fn instanceof qe)){e=null;continue}let r=n.statement.expr.fn.value;if(!_h.has(r)){e=null;continue}if(e!==null&&_h.get(e.instruction)===r&&e.length<yw){let s=e.expression.callFn(n.statement.expr.args,n.statement.expr.sourceSpan,n.statement.expr.pure);e.expression=s,e.op.statement=s.toStmt(),e.length++,x.remove(n)}else e={op:n,instruction:r,expression:n.statement.expr,length:1}}}function Sw(t){for(let e of t.units)for(let n of e.update)(n.kind===h.Attribute||n.kind===h.StyleProp||n.kind==h.StyleMap||n.kind===h.ClassMap)&&n.expression instanceof Ae&&n.expression.strings.length===2&&n.expression.strings.every(s=>s==="")&&(n.expression=n.expression.expressions[0])}function Ew(t){for(let e of t.units)for(let n of e.ops()){if(n.kind!==h.Conditional)continue;let r,s=n.conditions.findIndex(l=>l.expr===null);if(s>=0){let l=n.conditions.splice(s,1)[0].targetSlot;r=new ka(l)}else r=v(-1);let i=n.test==null?null:new bn(n.test,t.allocateXrefId()),o=null;for(let l=n.conditions.length-1;l>=0;l--){let c=n.conditions[l];if(c.expr!==null){if(i!==null){let p=l===0?i:new Cr(i.xref);c.expr=new te(E.Identical,p,c.expr)}else c.alias!==null&&(o!=null||(o=t.allocateXrefId()),c.expr=new bn(c.expr,o),n.contextValue=new Cr(o));r=new hn(c.expr,new ka(c.targetSlot),r)}}n.processed=r,n.conditions=[]}}var Tw=new Map([["&&",E.And],[">",E.Bigger],[">=",E.BiggerEquals],["|",E.BitwiseOr],["&",E.BitwiseAnd],["/",E.Divide],["=",E.Assign],["==",E.Equals],["===",E.Identical],["<",E.Lower],["<=",E.LowerEquals],["-",E.Minus],["%",E.Modulo],["**",E.Exponentiation],["*",E.Multiply],["!=",E.NotEquals],["!==",E.NotIdentical],["??",E.NullishCoalesce],["||",E.Or],["+",E.Plus],["in",E.In],["+=",E.AdditionAssignment],["-=",E.SubtractionAssignment],["*=",E.MultiplicationAssignment],["/=",E.DivisionAssignment],["%=",E.RemainderAssignment],["**=",E.ExponentiationAssignment],["&&=",E.AndAssignment],["||=",E.OrAssignment],["??=",E.NullishCoalesceAssignment]]);function em(t){var n;let e=new Map([["svg",Xe.SVG],["math",Xe.Math]]);return t===null?Xe.HTML:(n=e.get(t))!=null?n:Xe.HTML}function ww(t){let e=new Map([["svg",Xe.SVG],["math",Xe.Math]]);for(let[n,r]of e.entries())if(r===t)return n;return null}function xw(t,e){return e===Xe.HTML?t:`:${ww(e)}:${t}`}function ni(t){return Array.isArray(t)?ie(t.map(ni)):v(t)}function Cw(t){let e=new Map;for(let n of t.units)for(let r of n.create)if(r.kind===h.ExtractedAttribute){let s=e.get(r.target)||new qc(t.compatibility);e.set(r.target,s),s.add(r.bindingKind,r.name,r.expression,r.namespace,r.trustedValueFn),x.remove(r)}if(t instanceof fo)for(let n of t.units)for(let r of n.create)if(r.kind==h.Projection){let s=e.get(r.xref);if(s!==void 0){let i=Wc(s);i.entries.length>0&&(r.attributes=i)}}else jn(r)&&(r.attributes=Rh(t,e,r.xref),r.kind===h.RepeaterCreate&&r.emptyView!==null&&(r.emptyAttributes=Rh(t,e,r.emptyView)));else if(t instanceof Oa)for(let[n,r]of e.entries()){if(n!==t.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");let s=Wc(r);s.entries.length>0&&(t.root.attributes=s)}}function Rh(t,e,n){let r=e.get(n);if(r!==void 0){let s=Wc(r);if(s.entries.length>0)return t.addConst(s)}return null}var Ss=Object.freeze([]),qc=class{constructor(e){a(this,"compatibility");a(this,"known",new Map);a(this,"byKind",new Map);a(this,"propertyBindings",null);a(this,"projectAs",null);this.compatibility=e}get attributes(){var e;return(e=this.byKind.get(R.Attribute))!=null?e:Ss}get classes(){var e;return(e=this.byKind.get(R.ClassName))!=null?e:Ss}get styles(){var e;return(e=this.byKind.get(R.StyleProperty))!=null?e:Ss}get bindings(){var e;return(e=this.propertyBindings)!=null?e:Ss}get template(){var e;return(e=this.byKind.get(R.Template))!=null?e:Ss}get i18n(){var e;return(e=this.byKind.get(R.I18n))!=null?e:Ss}isKnown(e,n){var s;let r=(s=this.known.get(e))!=null?s:new Set;return this.known.set(e,r),r.has(n)?!0:(r.add(n),!1)}add(e,n,r,s,i){var c;if(!(this.compatibility===Nt.TemplateDefinitionBuilder&&(e===R.Attribute||e===R.ClassName||e===R.StyleProperty))&&this.isKnown(e,n))return;if(n==="ngProjectAs"){if(r===null||!(r instanceof Ie)||r.value==null||typeof((c=r.value)==null?void 0:c.toString())!="string")throw Error("ngProjectAs must have a string literal value");this.projectAs=r.value.toString()}let l=this.arrayFor(e);if(l.push(...Aw(s,n)),e===R.Attribute||e===R.StyleProperty){if(r===null)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(i!==null){if(!qd(r))throw Error("AssertionError: extracted attribute value should be string literal");l.push(ud(i,new Hs([new Li(r.value)],[]),void 0,r.sourceSpan))}else l.push(r)}}arrayFor(e){var n;return e===R.Property||e===R.TwoWayProperty?((n=this.propertyBindings)!=null||(this.propertyBindings=[]),this.propertyBindings):(this.byKind.has(e)||this.byKind.set(e,[]),this.byKind.get(e))}};function Aw(t,e){let n=v(e);return t?[v(0),v(t),n]:[n]}function Wc({attributes:t,bindings:e,classes:n,i18n:r,projectAs:s,styles:i,template:o}){let l=[...t];if(s!==null){let c=Du(s)[0];l.push(v(5),ni(c))}return n.length>0&&l.push(v(1),...n),i.length>0&&l.push(v(2),...i),e.length>0&&l.push(v(3),...e),o.length>0&&l.push(v(4),...o),r.length>0&&l.push(v(6),...r),ie(l)}function Nw(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function Iw(t){let e=new Map;for(let n of t.units)for(let r of n.create)jn(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.ops())if(r.kind===h.AnimationBinding){let s=Dw(r);t.kind===_.Host?n.create.push(s):x.insertAfter(s,Nw(e,r.target)),x.remove(r)}}function Dw(t){if(t.animationBindingKind===0)return zT(t.name,t.target,t.name==="animate.enter"?"enter":"leave",t.expression,t.securityContext,t.sourceSpan);{let e=t.expression;return YT(t.name,t.target,t.name==="animate.enter"?"enter":"leave",[Jt(new Ue(e,e.sourceSpan))],t.securityContext,t.sourceSpan)}}function bw(t){let e=new Map;for(let n of t.units){for(let r of n.create)r.kind===h.I18nAttributes&&e.set(r.target,r);for(let r of n.update)switch(r.kind){case h.Property:case h.Attribute:if(r.i18nContext===null||!(r.expression instanceof Ae))continue;let s=e.get(r.target);if(s===void 0)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(s.target!==r.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");let i=[];for(let o=0;o<r.expression.expressions.length;o++){let l=r.expression.expressions[o];if(r.expression.i18nPlaceholders.length!==r.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${r.expression.i18nPlaceholders.length} placeholders and ${r.expression.expressions.length} expressions`);i.push(Gd(r.i18nContext,s.target,s.xref,s.handle,l,null,r.expression.i18nPlaceholders[o],Qs.Creation,os.I18nAttribute,r.name,r.sourceSpan))}x.replaceWithMany(r,i);break}}}function _w(t){let e=new Map;for(let s of t.units)for(let i of s.ops())switch(i.kind){case h.Binding:case h.Property:case h.Attribute:case h.ExtractedAttribute:if(i.i18nMessage===null)continue;if(!e.has(i.i18nMessage)){let o=Hl(or.Attr,t.allocateXrefId(),null,i.i18nMessage,null);s.create.push(o),e.set(i.i18nMessage,o.xref)}i.i18nContext=e.get(i.i18nMessage);break}let n=new Map;for(let s of t.units)for(let i of s.create)switch(i.kind){case h.I18nStart:if(i.xref===i.root){let o=Hl(or.RootI18n,t.allocateXrefId(),i.xref,i.message,null);s.create.push(o),i.context=o.xref,n.set(i.xref,o)}break}for(let s of t.units)for(let i of s.create)if(i.kind===h.I18nStart&&i.xref!==i.root){let o=n.get(i.root);if(o===void 0)throw Error("AssertionError: Root i18n block i18n context should have been created.");i.context=o.xref,n.set(i.xref,o)}let r=null;for(let s of t.units)for(let i of s.create)switch(i.kind){case h.I18nStart:r=i;break;case h.I18nEnd:r=null;break;case h.IcuStart:if(r===null)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(i.message.id!==r.message.id){let o=Hl(or.Icu,t.allocateXrefId(),r.root,i.message,null);s.create.push(o),i.context=o.xref}else i.context=r.context,n.get(r.xref).contextKind=or.Icu;break}}function kw(t){let e=new Map;for(let n of t.units)for(let r of n.update.reversed())if(r.kind===h.Binding&&r.isTextAttribute){let s=e.get(r.target)||new Set;s.has(r.name)&&t.compatibility===Nt.TemplateDefinitionBuilder&&(r.name==="style"||r.name==="class")&&x.remove(r),s.add(r.name),e.set(r.target,s)}}function Rw(t){for(let e of t.units)for(let n of e.create)n.kind===h.Defer&&(n.placeholderMinimumTime!==null&&(n.placeholderConfig=new ho(ni([n.placeholderMinimumTime]))),(n.loadingMinimumTime!==null||n.loadingAfterTime!==null)&&(n.loadingConfig=new ho(ni([n.loadingMinimumTime,n.loadingAfterTime]))))}function Pw(t){let e=new Map;function n(s){if(e.has(s.xref))return e.get(s.xref);let i=new Lw;for(let o of s.create)if(!(!jn(o)||o.localRefs===null)){if(!Array.isArray(o.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(let l of o.localRefs)l.target===""&&i.targets.set(l.name,{xref:o.xref,slot:o.handle})}return e.set(s.xref,i),i}function r(s,i,o){switch(i.trigger.kind){case ae.Idle:case ae.Never:case ae.Immediate:case ae.Timer:return;case ae.Hover:case ae.Interaction:case ae.Viewport:if(i.trigger.targetName===null){if(o===null)throw new Error("defer on trigger with no target name must have a placeholder block");let p=t.views.get(o);if(p==null)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(let u of p.create)if(li(u)&&(jn(u)||u.kind===h.Projection)){i.trigger.targetXref=u.xref,i.trigger.targetView=o,i.trigger.targetSlotViewSteps=-1,i.trigger.targetSlot=u.handle;return}return}let l=o!==null?t.views.get(o):s,c=o!==null?-1:0;for(;l!==null;){let p=n(l);if(p.targets.has(i.trigger.targetName)){let{xref:u,slot:d}=p.targets.get(i.trigger.targetName);i.trigger.targetXref=u,i.trigger.targetView=l.xref,i.trigger.targetSlotViewSteps=c,i.trigger.targetSlot=d;return}l=l.parent!==null?t.views.get(l.parent):null,c++}break;default:throw new Error(`Trigger kind ${i.trigger.kind} not handled`)}}for(let s of t.units){let i=new Map;for(let o of s.create)switch(o.kind){case h.Defer:i.set(o.xref,o);break;case h.DeferOn:let l=i.get(o.defer);r(s,o,o.modifier==="hydrate"?l.mainView:l.placeholderView);break}}}var Lw=class{constructor(){a(this,"targets",new Map)}},Mw=new Map([[h.ElementEnd,[h.ElementStart,h.Element]],[h.ContainerEnd,[h.ContainerStart,h.Container]],[h.I18nEnd,[h.I18nStart,h.I18n]]]),Ow=new Set([h.Pipe]);function Fw(t){for(let e of t.units)for(let n of e.create){let r=Mw.get(n.kind);if(r===void 0)continue;let[s,i]=r,o=n.prev;for(;o!==null&&Ow.has(o.kind);)o=o.prev;o!==null&&o.kind===s&&(o.kind=i,x.remove(n))}}function Bw(t){for(let e of t.units)for(let n of e.ops())Le(n,r=>qw(r,{job:t}),se.None),Le(n,Ww,se.None)}function _t(t){return t instanceof Vn?_t(t.expr):t instanceof te?_t(t.lhs)||_t(t.rhs):t instanceof hn?t.falseCase&&_t(t.falseCase)?!0:_t(t.condition)||_t(t.trueCase):t instanceof Gs?_t(t.condition):t instanceof bn?_t(t.expr):t instanceof ht?_t(t.receiver):t instanceof An?_t(t.receiver)||_t(t.index):t instanceof jt?_t(t.expr):t instanceof tt||t instanceof xt||t instanceof fn||t instanceof us||t instanceof cs}function $w(t){let e=new Set;return k(t,n=>(n instanceof bn&&e.add(n.xref),n),se.None),e}function Uw(t,e,n){return k(t,r=>{if(r instanceof bn&&e.has(r.xref)){let s=new Cr(r.xref);return n.job.compatibility===Nt.TemplateDefinitionBuilder?new bn(s,s.xref):s}return r},se.None),t}function Es(t,e,n){let r;if(_t(t)){let s=n.job.allocateXrefId();r=[new bn(t,s),new Cr(s)]}else r=[t,t.clone()],Uw(r[1],$w(r[0]),n);return new ti(r[0],e(r[1]))}function Vw(t){return t instanceof Zs||t instanceof ei||t instanceof us}function Hw(t){return t instanceof ht||t instanceof An||t instanceof tt}function tm(t){return Vw(t)||Hw(t)}function Gw(t){if(tm(t)&&t.receiver instanceof ti){let e=t.receiver;for(;e.expr instanceof ti;)e=e.expr;return e}return null}function qw(t,e){if(!tm(t))return t;let n=Gw(t);if(n){if(t instanceof tt)return n.expr=n.expr.callFn(t.args),t.receiver;if(t instanceof ht)return n.expr=n.expr.prop(t.name),t.receiver;if(t instanceof An)return n.expr=n.expr.key(t.index),t.receiver;if(t instanceof us)return n.expr=Es(n.expr,r=>r.callFn(t.args),e),t.receiver;if(t instanceof Zs)return n.expr=Es(n.expr,r=>r.prop(t.name),e),t.receiver;if(t instanceof ei)return n.expr=Es(n.expr,r=>r.key(t.index),e),t.receiver}else{if(t instanceof us)return Es(t.receiver,r=>r.callFn(t.args),e);if(t instanceof Zs)return Es(t.receiver,r=>r.prop(t.name),e);if(t instanceof ei)return Es(t.receiver,r=>r.key(t.index),e)}return t}function Ww(t){return t instanceof ti?new jt(new hn(new te(E.Equals,t.guard,Xr),Xr,t.expr)):t}var Ph="\uFFFD",jw="#",Kw="*",zw="/",Yw=":",Xw="[",Qw="]",Jw="|";function Zw(t){let e=new Map,n=new Map,r=new Map;for(let i of t.units)for(let o of i.create)switch(o.kind){case h.I18nContext:let l=ex(t,o);i.create.push(l),e.set(o.xref,l),r.set(o.xref,o);break;case h.I18nStart:n.set(o.xref,o);break}let s=null;for(let i of t.units)for(let o of i.create)switch(o.kind){case h.IcuStart:s=o,x.remove(o);let l=r.get(o.context);if(l.contextKind!==or.Icu)continue;let c=n.get(l.i18nBlock);if(c.context===l.xref)continue;let p=n.get(c.root),u=e.get(p.context);if(u===void 0)throw Error("AssertionError: ICU sub-message should belong to a root message.");let d=e.get(l.xref);d.messagePlaceholder=o.messagePlaceholder,u.subMessages.push(d.xref);break;case h.IcuEnd:s=null,x.remove(o);break;case h.IcuPlaceholder:if(s===null||s.context==null)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");e.get(s.context).postprocessingParams.set(o.name,v(tx(o))),x.remove(o);break}}function ex(t,e,n){let r=Lh(e.params),s=Lh(e.postprocessingParams),i=[...e.params.values()].some(o=>o.length>1);return tw(t.allocateXrefId(),e.xref,e.i18nBlock,e.message,null,r,s,i)}function tx(t){if(t.strings.length!==t.expressionPlaceholders.length+1)throw Error(`AssertionError: Invalid ICU placeholder with ${t.strings.length} strings and ${t.expressionPlaceholders.length} expressions`);let e=t.expressionPlaceholders.map(_s);return t.strings.flatMap((n,r)=>[n,e[r]||""]).join("")}function Lh(t){let e=new Map;for(let[n,r]of t){let s=nx(r);s!==null&&e.set(n,v(s))}return e}function nx(t){if(t.length===0)return null;let e=t.map(n=>_s(n));return e.length===1?e[0]:`${Xw}${e.join(Jw)}${Qw}`}function _s(t){if(t.flags&le.ElementTag&&t.flags&le.TemplateTag){if(typeof t.value!="object")throw Error("AssertionError: Expected i18n param value to have an element and template slot");let s=_s(fe(w({},t),{value:t.value.element,flags:t.flags&~le.TemplateTag})),i=_s(fe(w({},t),{value:t.value.template,flags:t.flags&~le.ElementTag}));return t.flags&le.OpenTag&&t.flags&le.CloseTag?`${i}${s}${i}`:t.flags&le.CloseTag?`${s}${i}`:`${i}${s}`}if(t.flags&le.OpenTag&&t.flags&le.CloseTag)return`${_s(fe(w({},t),{flags:t.flags&~le.CloseTag}))}${_s(fe(w({},t),{flags:t.flags&~le.OpenTag}))}`;if(t.flags===le.None)return`${t.value}`;let e="",n="";t.flags&le.ElementTag?e=jw:t.flags&le.TemplateTag&&(e=Kw),e!==""&&(n=t.flags&le.CloseTag?zw:"");let r=t.subTemplateIndex===null?"":`${Yw}${t.subTemplateIndex}`;return`${Ph}${n}${e}${t.value}${r}${Ph}`}function rx(t){for(let e of t.units){let n=new Map;for(let s of e.create){if(li(s)){if(s.handle.slot===null)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls")}else continue;n.set(s.xref,s.handle.slot)}let r=0;for(let s of e.update){let i=null;if(ao(s)?i=s:je(s,l=>{i===null&&ao(l)&&(i=l)}),i===null)continue;if(!n.has(i.target))throw new Error(`AssertionError: reference to unknown slot for target ${i.target}`);let o=n.get(i.target);if(r!==o){let l=o-r;if(l<0)throw new Error("AssertionError: slot counter should never need to move backwards");x.insertBefore(FT(l,i.sourceSpan),s),r=o}}}}function sx(t){for(let e of t.units)for(let n of e.update){if(n.kind!==h.StoreLet)continue;let r={kind:Be.Identifier,name:null,identifier:n.declaredName,local:!0};x.replace(n,rr(t.allocateXrefId(),r,new lo(n.target,n.value,n.sourceSpan),Rt.None))}}function ix(t){let e=t.compatibility===Nt.TemplateDefinitionBuilder,n=[],r=0;for(let s of t.units)for(let i of s.create)i.kind===h.Projection&&(n.push(i.selector),i.projectionSlotIndex=r++);if(n.length>0){let s=null;if(n.length>1||n[0]!=="*"){let i=n.map(o=>o==="*"?o:Du(o));s=t.pool.getConstLiteral(ni(i),e)}t.contentSelectors=t.pool.getConstLiteral(ni(n),e),t.root.create.prepend([QT(s)])}}function ox(t){xi(t.root,null)}function xi(t,e){let n=ax(t,e);for(let r of t.create)switch(r.kind){case h.ConditionalCreate:case h.ConditionalBranchCreate:case h.Template:xi(t.job.views.get(r.xref),n);break;case h.Projection:r.fallbackView!==null&&xi(t.job.views.get(r.fallbackView),n);break;case h.RepeaterCreate:xi(t.job.views.get(r.xref),n),r.emptyView&&xi(t.job.views.get(r.emptyView),n),r.trackByOps!==null&&r.trackByOps.prepend(sa(t,n,!1));break;case h.Animation:case h.AnimationListener:case h.Listener:case h.TwoWayListener:r.handlerOps.prepend(sa(t,n,!0));break}t.update.prepend(sa(t,n,!1))}function ax(t,e){let n={view:t.xref,viewContextVariable:{kind:Be.Context,name:null,view:t.xref},contextVariables:new Map,aliases:t.aliases,references:[],letDeclarations:[],parent:e};for(let r of t.contextVariables.keys())n.contextVariables.set(r,{kind:Be.Identifier,name:null,identifier:r,local:!1});for(let r of t.create)switch(r.kind){case h.ElementStart:case h.ConditionalCreate:case h.ConditionalBranchCreate:case h.Template:if(!Array.isArray(r.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let s=0;s<r.localRefs.length;s++)n.references.push({name:r.localRefs[s].name,targetId:r.xref,targetSlot:r.handle,offset:s,variable:{kind:Be.Identifier,name:null,identifier:r.localRefs[s].name,local:!1}});break;case h.DeclareLet:n.letDeclarations.push({targetId:r.xref,targetSlot:r.handle,variable:{kind:Be.Identifier,name:null,identifier:r.declaredName,local:!1}});break}return n}function sa(t,e,n){let r=[];e.view!==t.xref&&r.push(rr(t.job.allocateXrefId(),e.viewContextVariable,new Da,Rt.None));let s=t.job.views.get(e.view);for(let[i,o]of s.contextVariables){let l=new xr(e.view),c=o===Zd?l:new ht(l,o);r.push(rr(t.job.allocateXrefId(),e.contextVariables.get(i),c,Rt.None))}for(let i of s.aliases)r.push(rr(t.job.allocateXrefId(),i,i.expression.clone(),Rt.AlwaysInline));for(let i of e.references)r.push(rr(t.job.allocateXrefId(),i.variable,new Ia(i.targetId,i.targetSlot,i.offset),Rt.None));if(e.view!==t.xref||n)for(let i of e.letDeclarations)r.push(rr(t.job.allocateXrefId(),i.variable,new co(i.targetId,i.targetSlot),Rt.None));return e.parent!==null&&r.push(...sa(t,e.parent,!1)),r}function lx(t){for(let e of t.units)for(let n of e.ops())Le(n,r=>r instanceof ho?v(t.addConst(r.expr)):r,se.None)}var Mh="style.",Oh="class.",cx="style!",Fh="class!",Bh="!important";function ux(t){for(let e of t.root.update)if(e.kind===h.Binding&&e.bindingKind===R.Property)if(e.name.endsWith(Bh)&&(e.name=e.name.substring(0,e.name.length-Bh.length)),e.name.startsWith(Mh)){e.bindingKind=R.StyleProperty,e.name=e.name.substring(Mh.length),px(e.name)||(e.name=hx(e.name));let{property:n,suffix:r}=Gl(e.name);e.name=n,e.unit=r}else e.name.startsWith(cx)?(e.bindingKind=R.StyleProperty,e.name="style"):e.name.startsWith(Oh)?(e.bindingKind=R.ClassName,e.name=Gl(e.name.substring(Oh.length)).property):e.name.startsWith(Fh)&&(e.bindingKind=R.ClassName,e.name=Gl(e.name.substring(Fh.length)).property)}function px(t){return t.startsWith("--")}function hx(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function Gl(t){let e=t.indexOf("!important");e!==-1&&(t=e>0?t.substring(0,e):"");let n=null,r=t,s=t.lastIndexOf(".");return s>0&&(n=t.slice(s+1),r=t.substring(0,s)),{property:r,suffix:n}}function jc(t,e=!1){return Qe(Object.keys(t).map(n=>({key:n,quoted:e,value:t[n]})))}var Kc=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(s=>`${s} {${e.cases[s].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}formatPh(e){return`{${Ao(e,!1)}}`}},fx=new Kc;function nm(t){return t.visit(fx)}var Kn=class{constructor(e,n){a(this,"sourceSpan");a(this,"i18n");this.sourceSpan=e,this.i18n=n}},ps=class extends Kn{constructor(n,r,s,i){super(r,i);a(this,"value");a(this,"tokens");this.value=n,this.tokens=s}visit(n,r){return n.visitText(this,r)}},qr=class extends Kn{constructor(n,r,s,i,o,l){super(i,l);a(this,"switchValue");a(this,"type");a(this,"cases");a(this,"switchValueSourceSpan");this.switchValue=n,this.type=r,this.cases=s,this.switchValueSourceSpan=o}visit(n,r){return n.visitExpansion(this,r)}},Fa=class{constructor(e,n,r,s,i){a(this,"value");a(this,"expression");a(this,"sourceSpan");a(this,"valueSourceSpan");a(this,"expSourceSpan");this.value=e,this.expression=n,this.sourceSpan=r,this.valueSourceSpan=s,this.expSourceSpan=i}visit(e,n){return e.visitExpansionCase(this,n)}},zc=class extends Kn{constructor(n,r,s,i,o,l,c){super(s,c);a(this,"name");a(this,"value");a(this,"keySpan");a(this,"valueSpan");a(this,"valueTokens");this.name=n,this.value=r,this.keySpan=i,this.valueSpan=o,this.valueTokens=l}visit(n,r){return n.visitAttribute(this,r)}},$t=class extends Kn{constructor(n,r,s,i,o,l,c,p=null,u,d){super(l,d);a(this,"name");a(this,"attrs");a(this,"directives");a(this,"children");a(this,"isSelfClosing");a(this,"startSourceSpan");a(this,"endSourceSpan");a(this,"isVoid");this.name=n,this.attrs=r,this.directives=s,this.children=i,this.isSelfClosing=o,this.startSourceSpan=c,this.endSourceSpan=p,this.isVoid=u}visit(n,r){return n.visitElement(this,r)}},mo=class{constructor(e,n){a(this,"value");a(this,"sourceSpan");this.value=e,this.sourceSpan=n}visit(e,n){return e.visitComment(this,n)}},Ut=class extends Kn{constructor(n,r,s,i,o,l,c=null,p){super(i,p);a(this,"name");a(this,"parameters");a(this,"children");a(this,"nameSpan");a(this,"startSourceSpan");a(this,"endSourceSpan");this.name=n,this.parameters=r,this.children=s,this.nameSpan=o,this.startSourceSpan=l,this.endSourceSpan=c}visit(n,r){return n.visitBlock(this,r)}},vt=class extends Kn{constructor(n,r,s,i,o,l,c,p,u,d=null,m){super(p,m);a(this,"componentName");a(this,"tagName");a(this,"fullName");a(this,"attrs");a(this,"directives");a(this,"children");a(this,"isSelfClosing");a(this,"startSourceSpan");a(this,"endSourceSpan");this.componentName=n,this.tagName=r,this.fullName=s,this.attrs=i,this.directives=o,this.children=l,this.isSelfClosing=c,this.startSourceSpan=u,this.endSourceSpan=d}visit(n,r){return n.visitComponent(this,r)}},Yc=class{constructor(e,n,r,s,i=null){a(this,"name");a(this,"attrs");a(this,"sourceSpan");a(this,"startSourceSpan");a(this,"endSourceSpan");this.name=e,this.attrs=n,this.sourceSpan=r,this.startSourceSpan=s,this.endSourceSpan=i}visit(e,n){return e.visitDirective(this,n)}},Ba=class{constructor(e,n){a(this,"expression");a(this,"sourceSpan");this.expression=e,this.sourceSpan=n}visit(e,n){return e.visitBlockParameter(this,n)}},$a=class{constructor(e,n,r,s,i){a(this,"name");a(this,"value");a(this,"sourceSpan");a(this,"nameSpan");a(this,"valueSpan");this.name=e,this.value=n,this.sourceSpan=r,this.nameSpan=s,this.valueSpan=i}visit(e,n){return e.visitLetDeclaration(this,n)}};function me(t,e,n=null){let r=[],s=t.visit?i=>t.visit(i,n)||i.visit(t,n):i=>i.visit(t,n);return e.forEach(i=>{let o=s(i);o&&r.push(o)}),r}var go={AElig:"\xC6",AMP:"&",amp:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xC5",angst:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212C",Bscr:"\u212C",bernou:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",breve:"\u02D8",Bumpeq:"\u224E",HumpDownHump:"\u224E",bump:"\u224E",CHcy:"\u0427",COPY:"\xA9",copy:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212D",Cfr:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",cedil:"\xB8",CenterDot:"\xB7",centerdot:"\xB7",middot:"\xB7",Chi:"\u03A7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201D",rdquo:"\u201D",rdquor:"\u201D",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2A74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222F",DoubleContourIntegral:"\u222F",ContourIntegral:"\u222E",conint:"\u222E",oint:"\u222E",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",asympeq:"\u224D",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",DoubleLeftTee:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",acute:"\xB4",DiacriticalDot:"\u02D9",dot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",dblac:"\u02DD",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02DC",tilde:"\u02DC",Diamond:"\u22C4",diam:"\u22C4",diamond:"\u22C4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DoubleDot:"\xA8",die:"\xA8",uml:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21D3",Downarrow:"\u21D3",dArr:"\u21D3",DoubleLeftArrow:"\u21D0",Leftarrow:"\u21D0",lArr:"\u21D0",DoubleLeftRightArrow:"\u21D4",Leftrightarrow:"\u21D4",hArr:"\u21D4",iff:"\u21D4",DoubleLongLeftArrow:"\u27F8",Longleftarrow:"\u27F8",xlArr:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",Longleftrightarrow:"\u27FA",xhArr:"\u27FA",DoubleLongRightArrow:"\u27F9",Longrightarrow:"\u27F9",xrArr:"\u27F9",DoubleRightArrow:"\u21D2",Implies:"\u21D2",Rightarrow:"\u21D2",rArr:"\u21D2",DoubleRightTee:"\u22A8",vDash:"\u22A8",DoubleUpArrow:"\u21D1",Uparrow:"\u21D1",uArr:"\u21D1",DoubleUpDownArrow:"\u21D5",Updownarrow:"\u21D5",vArr:"\u21D5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",duarr:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",leftharpoondown:"\u21BD",lhard:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",rhard:"\u21C1",rightharpoondown:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",top:"\u22A4",DownTeeArrow:"\u21A7",mapstodown:"\u21A7",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21CC",rightleftharpoons:"\u21CC",rlhar:"\u21CC",Escr:"\u2130",expectation:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",blacksquare:"\u25AA",squarf:"\u25AA",squf:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",ggg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22DB",gel:"\u22DB",gtreqless:"\u22DB",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2A7E",geqslant:"\u2A7E",ges:"\u2A7E",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",NestedGreaterGreater:"\u226B",gg:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",caron:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",Poincareplane:"\u210C",HilbertSpace:"\u210B",Hscr:"\u210B",hamilt:"\u210B",Hopf:"\u210D",quaternions:"\u210D",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224F",bumpe:"\u224F",bumpeq:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xCC",Imacr:"\u012A",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222C",Integral:"\u222B",int:"\u222B",Intersection:"\u22C2",bigcap:"\u22C2",xcap:"\u22C2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219E",twoheadleftarrow:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",lang:"\u27E8",langle:"\u27E8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21E4",larrb:"\u21E4",LeftArrowRightArrow:"\u21C6",leftrightarrows:"\u21C6",lrarr:"\u21C6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27E6",lobrk:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",dharl:"\u21C3",downharpoonleft:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",lfloor:"\u230A",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",dashv:"\u22A3",LeftTeeArrow:"\u21A4",mapstoleft:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",vartriangleleft:"\u22B2",vltri:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",ltrie:"\u22B4",trianglelefteq:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",uharl:"\u21BF",upharpoonleft:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",leftharpoonup:"\u21BC",lharu:"\u21BC",LeftVectorBar:"\u2952",LessEqualGreater:"\u22DA",leg:"\u22DA",lesseqgtr:"\u22DA",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",leqslant:"\u2A7D",les:"\u2A7D",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",lAarr:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",longleftarrow:"\u27F5",xlarr:"\u27F5",LongLeftRightArrow:"\u27F7",longleftrightarrow:"\u27F7",xharr:"\u27F7",LongRightArrow:"\u27F6",longrightarrow:"\u27F6",xrarr:"\u27F6",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21B0",lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",NestedLessLess:"\u226A",ll:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1D544}",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",ZeroWidthSpace:"\u200B",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nbsp:"\xA0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226F",ngt:"\u226F",ngtr:"\u226F",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",nGtv:"\u226B\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224E\u0338",nbump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",nbumpe:"\u224F\u0338",NotLeftTriangle:"\u22EA",nltri:"\u22EA",ntriangleleft:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",nltrie:"\u22EC",ntrianglelefteq:"\u22EC",NotLess:"\u226E",nless:"\u226E",nlt:"\u226E",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226A\u0338",nLtv:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",npre:"\u2AAF\u0338",npreceq:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",nprcue:"\u22E0",NotReverseElement:"\u220C",notni:"\u220C",notniva:"\u220C",NotRightTriangle:"\u22EB",nrtri:"\u22EB",ntriangleright:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",nrtrie:"\u22ED",ntrianglerighteq:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",nsqsube:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",nsqsupe:"\u22E3",NotSubset:"\u2282\u20D2",nsubset:"\u2282\u20D2",vnsub:"\u2282\u20D2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",nsce:"\u2AB0\u0338",nsucceq:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",nsccue:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",nsupset:"\u2283\u20D2",vnsup:"\u2283\u20D2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",ohm:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",ldquo:"\u201C",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",oline:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",tbrk:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",part:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",plusmn:"\xB1",pm:"\xB1",Popf:"\u2119",primes:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",pr:"\u227A",prec:"\u227A",PrecedesEqual:"\u2AAF",pre:"\u2AAF",preceq:"\u2AAF",PrecedesSlantEqual:"\u227C",prcue:"\u227C",preccurlyeq:"\u227C",PrecedesTilde:"\u227E",precsim:"\u227E",prsim:"\u227E",Prime:"\u2033",Product:"\u220F",prod:"\u220F",Proportional:"\u221D",prop:"\u221D",propto:"\u221D",varpropto:"\u221D",vprop:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',quot:'"',Qfr:"\u{1D514}",Qopf:"\u211A",rationals:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xAE",circledR:"\xAE",reg:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",twoheadrightarrow:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",Rfr:"\u211C",real:"\u211C",realpart:"\u211C",ReverseElement:"\u220B",SuchThat:"\u220B",ni:"\u220B",niv:"\u220B",ReverseEquilibrium:"\u21CB",leftrightharpoons:"\u21CB",lrhar:"\u21CB",ReverseUpEquilibrium:"\u296F",duhar:"\u296F",Rho:"\u03A1",RightAngleBracket:"\u27E9",rang:"\u27E9",rangle:"\u27E9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21E5",rarrb:"\u21E5",RightArrowLeftArrow:"\u21C4",rightleftarrows:"\u21C4",rlarr:"\u21C4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27E7",robrk:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",dharr:"\u21C2",downharpoonright:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rfloor:"\u230B",RightTee:"\u22A2",vdash:"\u22A2",RightTeeArrow:"\u21A6",map:"\u21A6",mapsto:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",vartriangleright:"\u22B3",vrtri:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",rtrie:"\u22B5",trianglerighteq:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",uharr:"\u21BE",upharpoonright:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",rharu:"\u21C0",rightharpoonup:"\u21C0",RightVectorBar:"\u2953",Ropf:"\u211D",reals:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",rAarr:"\u21DB",Rscr:"\u211B",realine:"\u211B",Rsh:"\u21B1",rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",radic:"\u221A",Square:"\u25A1",squ:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228F",sqsub:"\u228F",sqsubset:"\u228F",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",sstarf:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227B",sc:"\u227B",succ:"\u227B",SucceedsEqual:"\u2AB0",sce:"\u2AB0",succeq:"\u2AB0",SucceedsSlantEqual:"\u227D",sccue:"\u227D",succcurlyeq:"\u227D",SucceedsTilde:"\u227F",scsim:"\u227F",succsim:"\u227F",Sum:"\u2211",sum:"\u2211",Sup:"\u22D1",Supset:"\u22D1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xDE",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223C",sim:"\u223C",thicksim:"\u223C",thksim:"\u223C",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",tdot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",lowbar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",bbrk:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",bigcup:"\u22C3",xcup:"\u22C3",UnionPlus:"\u228E",uplus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",udarr:"\u21C5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296E",udhar:"\u296E",UpTee:"\u22A5",bot:"\u22A5",bottom:"\u22A5",perp:"\u22A5",UpTeeArrow:"\u21A5",mapstoup:"\u21A5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",bigvee:"\u22C1",xvee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200A",hairsp:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",bigwedge:"\u22C0",xwedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",mstpos:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acy:"\u0430",aelig:"\xE6",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",and:"\u2227",wedge:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",angle:"\u2220",ange:"\u29A4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",approxeq:"\u224A",apid:"\u224B",apos:"'",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",midast:"*",atilde:"\xE3",auml:"\xE4",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",bcong:"\u224C",backepsilon:"\u03F6",bepsi:"\u03F6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223D",bsim:"\u223D",backsimeq:"\u22CD",bsime:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23B6",bcy:"\u0431",bdquo:"\u201E",ldquor:"\u201E",bemptyv:"\u29B0",beta:"\u03B2",beth:"\u2136",between:"\u226C",twixt:"\u226C",bfr:"\u{1D51F}",bigcirc:"\u25EF",xcirc:"\u25EF",bigodot:"\u2A00",xodot:"\u2A00",bigoplus:"\u2A01",xoplus:"\u2A01",bigotimes:"\u2A02",xotime:"\u2A02",bigsqcup:"\u2A06",xsqcup:"\u2A06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25BD",xdtri:"\u25BD",bigtriangleup:"\u25B3",xutri:"\u25B3",biguplus:"\u2A04",xuplus:"\u2A04",bkarow:"\u290D",rbarr:"\u290D",blacklozenge:"\u29EB",lozf:"\u29EB",blacktriangle:"\u25B4",utrif:"\u25B4",blacktriangledown:"\u25BE",dtrif:"\u25BE",blacktriangleleft:"\u25C2",ltrif:"\u25C2",blacktriangleright:"\u25B8",rtrif:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",minusb:"\u229F",boxplus:"\u229E",plusb:"\u229E",boxtimes:"\u22A0",timesb:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2AAE",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cemptyv:"\u29B2",cent:"\xA2",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21BA",olarr:"\u21BA",circlearrowright:"\u21BB",orarr:"\u21BB",circledS:"\u24C8",oS:"\u24C8",circledast:"\u229B",oast:"\u229B",circledcirc:"\u229A",ocir:"\u229A",circleddash:"\u229D",odash:"\u229D",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2A6D",copf:"\u{1D554}",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",curlyeqprec:"\u22DE",cuesc:"\u22DF",curlyeqsucc:"\u22DF",cularr:"\u21B6",curvearrowleft:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curvearrowright:"\u21B7",curarrm:"\u293C",curlyvee:"\u22CE",cuvee:"\u22CE",curlywedge:"\u22CF",cuwed:"\u22CF",curren:"\xA4",cwint:"\u2231",cylcty:"\u232D",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290F",rBarr:"\u290F",dcaron:"\u010F",dcy:"\u0434",ddarr:"\u21CA",downdownarrows:"\u21CA",ddotseq:"\u2A77",eDDot:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03DD",gammad:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",llcorner:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22A1",sdotb:"\u22A1",drcorn:"\u231F",lrcorner:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",triangledown:"\u25BF",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xEA",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044D",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",eqslantgtr:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",eqslantless:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",straightepsilon:"\u03F5",varepsilon:"\u03F5",equals:"=",equest:"\u225F",questeq:"\u225F",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212F",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",fork:"\u22D4",pitchfork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",half:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1D4BB}",gEl:"\u2A8C",gtreqqless:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gap:"\u2A86",gtrapprox:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gnsim:"\u22E7",gopf:"\u{1D558}",gscr:"\u210A",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtrdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrarr:"\u2978",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hardcy:"\u044A",harrcir:"\u2948",harrw:"\u21AD",leftrightsquigarrow:"\u21AD",hbar:"\u210F",hslash:"\u210F",planck:"\u210F",plankv:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",larrhk:"\u21A9",hookrightarrow:"\u21AA",rarrhk:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xED",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",ifr:"\u{1D526}",igrave:"\xEC",iiiint:"\u2A0C",qint:"\u2A0C",iiint:"\u222D",tint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",imath:"\u0131",inodot:"\u0131",imof:"\u22B7",imped:"\u01B5",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",intcal:"\u22BA",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iquest:"\xBF",iscr:"\u{1D4BE}",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",varkappa:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAtail:"\u291B",lBarr:"\u290E",lEg:"\u2A8B",lesseqqgtr:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lambda:"\u03BB",langd:"\u2991",lap:"\u2A85",lessapprox:"\u2A85",laquo:"\xAB",larrbfs:"\u291F",larrfs:"\u291D",larrlp:"\u21AB",looparrowleft:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",leftarrowtail:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lcy:"\u043B",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21C7",llarr:"\u21C7",leftthreetimes:"\u22CB",lthree:"\u22CB",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessdot:"\u22D6",ltdot:"\u22D6",lfisht:"\u297C",lfr:"\u{1D529}",lgE:"\u2A91",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",longmapsto:"\u27FC",xmap:"\u27FC",looparrowright:"\u21AC",rarrlp:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",loz:"\u25CA",lozenge:"\u25CA",lpar:"(",lparlt:"\u2993",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsime:"\u2A8D",lsimg:"\u2A8F",lsquor:"\u201A",sbquo:"\u201A",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",triangleleft:"\u25C3",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",strns:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midcir:"\u2AF0",minus:"\u2212",minusdu:"\u2A2A",mlcp:"\u2ADB",models:"\u22A7",mopf:"\u{1D55E}",mscr:"\u{1D4C2}",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nLeftarrow:"\u21CD",nlArr:"\u21CD",nLeftrightarrow:"\u21CE",nhArr:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nRightarrow:"\u21CF",nrArr:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nacute:"\u0144",nang:"\u2220\u20D2",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",natur:"\u266E",natural:"\u266E",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",neArr:"\u21D7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1D52B}",nharr:"\u21AE",nleftrightarrow:"\u21AE",nhpar:"\u2AF2",nis:"\u22FC",nisd:"\u22FA",njcy:"\u045A",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219A",nleftarrow:"\u219A",nldr:"\u2025",nopf:"\u{1D55F}",not:"\xAC",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinvb:"\u22F7",notinvc:"\u22F6",notnivb:"\u22FE",notnivc:"\u22FD",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",nrarr:"\u219B",nrightarrow:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nscr:"\u{1D4C3}",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsubseteqq:"\u2AC5\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupseteqq:"\u2AC6\u0338",ntilde:"\xF1",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xF3",ocirc:"\xF4",ocy:"\u043E",odblac:"\u0151",odiv:"\u2A38",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",olcir:"\u29BE",olcross:"\u29BB",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",or:"\u2228",vee:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",para:"\xB6",parsim:"\u2AF3",parsl:"\u2AFD",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",straightphi:"\u03D5",varphi:"\u03D5",phone:"\u260E",pi:"\u03C0",piv:"\u03D6",varpi:"\u03D6",planckh:"\u210E",plus:"+",plusacir:"\u2A23",pluscir:"\u2A22",plusdu:"\u2A25",pluse:"\u2A72",plussim:"\u2A26",plustwo:"\u2A27",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",prE:"\u2AB3",prap:"\u2AB7",precapprox:"\u2AB7",precnapprox:"\u2AB9",prnap:"\u2AB9",precneqq:"\u2AB5",prnE:"\u2AB5",precnsim:"\u22E8",prnsim:"\u22E8",prime:"\u2032",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quatint:"\u2A16",quest:"?",rAtail:"\u291C",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",raemptyv:"\u29B3",rangd:"\u2992",range:"\u29A5",raquo:"\xBB",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rightarrowtail:"\u21A3",rarrw:"\u219D",rightsquigarrow:"\u219D",ratail:"\u291A",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21B3",rect:"\u25AD",rfisht:"\u297D",rfr:"\u{1D52F}",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",varrho:"\u03F1",rightrightarrows:"\u21C9",rrarr:"\u21C9",rightthreetimes:"\u22CC",rthree:"\u22CC",ring:"\u02DA",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rsaquo:"\u203A",rscr:"\u{1D4C7}",rtimes:"\u22CA",rtri:"\u25B9",triangleright:"\u25B9",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",scE:"\u2AB4",scap:"\u2AB8",succapprox:"\u2AB8",scaron:"\u0161",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",succneqq:"\u2AB6",scnap:"\u2ABA",succnapprox:"\u2ABA",scnsim:"\u22E9",succnsim:"\u22E9",scpolint:"\u2A13",scy:"\u0441",sdot:"\u22C5",sdote:"\u2A66",seArr:"\u21D8",sect:"\xA7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1D530}",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",varsigma:"\u03C2",simdot:"\u2A6A",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",smashp:"\u2A33",smeparsl:"\u29E4",smile:"\u2323",ssmile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\uFE00",sqcups:"\u2294\uFE00",sscr:"\u{1D4C8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2AC5",subseteqq:"\u2AC5",subdot:"\u2ABD",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subsetneqq:"\u2ACB",subne:"\u228A",subsetneq:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supE:"\u2AC6",supseteqq:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supsetneqq:"\u2ACC",supne:"\u228B",supsetneq:"\u228B",supplus:"\u2AC0",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1D531}",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",vartheta:"\u03D1",thorn:"\xFE",times:"\xD7",timesbar:"\u2A31",timesd:"\u2A30",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tprime:"\u2034",triangle:"\u25B5",utri:"\u25B5",triangleq:"\u225C",trie:"\u225C",tridot:"\u25EC",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",uHar:"\u2963",uacute:"\xFA",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uogon:"\u0173",uopf:"\u{1D566}",upsi:"\u03C5",upsilon:"\u03C5",upuparrows:"\u21C8",uuarr:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",uuml:"\xFC",uwangle:"\u29A7",vBar:"\u2AE8",vBarv:"\u2AE9",vangrt:"\u299C",varsubsetneq:"\u228A\uFE00",vsubne:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",vsubnE:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",vsupne:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vsupnE:"\u2ACC\uFE00",vcy:"\u0432",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",vfr:"\u{1D533}",vopf:"\u{1D567}",vscr:"\u{1D4CB}",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wscr:"\u{1D4CC}",xfr:"\u{1D535}",xi:"\u03BE",xnis:"\u22FB",xopf:"\u{1D569}",xscr:"\u{1D4CD}",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"},rm="\uE500";go.ngsp=rm;var Xc=class{constructor(e,n,r){a(this,"tokens");a(this,"errors");a(this,"nonNormalizedIcuExpressions");this.tokens=e,this.errors=n,this.nonNormalizedIcuExpressions=r}};function dx(t,e,n,r={}){let s=new Qc(new Tr(t,e),n,r);return s.tokenize(),new Xc(Cx(s.tokens),s.errors,s.nonNormalizedIcuExpressions)}var mx=/\r\n?/g;function Ts(t){return`Unexpected character "${t===ze?"EOF":String.fromCharCode(t)}"`}function $h(t){return`Unknown entity "${t}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function gx(t,e){return`Unable to parse entity "${e}" - ${t} character reference entities must end with ";"`}var Ua;(function(t){t.HEX="hexadecimal",t.DEC="decimal"})(Ua||(Ua={}));var yx=["@if","@else","@for","@switch","@case","@default","@empty","@defer","@placeholder","@loading","@error"],Qc=class{constructor(e,n,r){a(this,"_getTagDefinition");a(this,"_cursor");a(this,"_tokenizeIcu");a(this,"_interpolationConfig");a(this,"_leadingTriviaCodePoints");a(this,"_currentTokenStart",null);a(this,"_currentTokenType",null);a(this,"_expansionCaseStack",[]);a(this,"_openDirectiveCount",0);a(this,"_inInterpolation",!1);a(this,"_preserveLineEndings");a(this,"_i18nNormalizeLineEndingsInICUs");a(this,"_tokenizeBlocks");a(this,"_tokenizeLet");a(this,"_selectorlessEnabled");a(this,"tokens",[]);a(this,"errors",[]);a(this,"nonNormalizedIcuExpressions",[]);var i,o,l;this._getTagDefinition=n,this._tokenizeIcu=r.tokenizeExpansionForms||!1,this._interpolationConfig=r.interpolationConfig||Vt,this._leadingTriviaCodePoints=r.leadingTriviaChars&&r.leadingTriviaChars.map(c=>c.codePointAt(0)||0);let s=r.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=r.escapedString?new Jc(e,s):new Va(e,s),this._preserveLineEndings=r.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=r.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=(i=r.tokenizeBlocks)!=null?i:!0,this._tokenizeLet=(o=r.tokenizeLet)!=null?o:!0,this._selectorlessEnabled=(l=r.selectorlessEnabled)!=null?l:!1;try{this._cursor.init()}catch(c){this.handleError(c)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(mx,`
`)}tokenize(){for(;this._cursor.peek()!==ze;){let e=this._cursor.clone();try{this._attemptCharCode(Fs)?this._attemptCharCode(bc)?this._attemptCharCode(cr)?this._consumeCdata(e):this._attemptCharCode(Ca)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(rn)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeLet&&this._cursor.peek()===vs&&!this._inInterpolation&&this._isLetStart()?this._consumeLetDeclaration(e):this._tokenizeBlocks&&this._isBlockStart()?this._consumeBlockStart(e):this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansionCase()&&!this._isInExpansionForm()&&this._attemptCharCode(Et)?this._consumeBlockEnd(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(n){this.handleError(n)}}this._beginToken(41),this._endToken([])}_getBlockName(){let e=!1,n=this._cursor.clone();return this._attemptCharCodeUntilFn(r=>io(r)?!e:xx(r)?(e=!0,!1):!0),this._cursor.getChars(n).trim()}_consumeBlockStart(e){this._requireCharCode(vs),this._beginToken(24,e);let n=this._endToken([this._getBlockName()]);if(this._cursor.peek()===ln)if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(ve),this._attemptCharCode(it))this._attemptCharCodeUntilFn(ve);else{n.type=28;return}this._attemptCharCode(an)?(this._beginToken(25),this._endToken([])):n.type=28}_consumeBlockEnd(e){this._beginToken(26,e),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn(Vh);this._cursor.peek()!==it&&this._cursor.peek()!==ze;){this._beginToken(27);let e=this._cursor.clone(),n=null,r=0;for(;this._cursor.peek()!==kt&&this._cursor.peek()!==ze||n!==null;){let s=this._cursor.peek();if(s===Bs)this._cursor.advance();else if(s===n)n=null;else if(n===null&&Ni(s))n=s;else if(s===ln&&n===null)r++;else if(s===it&&n===null){if(r===0)break;r>0&&r--}this._cursor.advance()}this._endToken([this._cursor.getChars(e)]),this._attemptCharCodeUntilFn(Vh)}}_consumeLetDeclaration(e){if(this._requireStr("@let"),this._beginToken(29,e),io(this._cursor.peek()))this._attemptCharCodeUntilFn(ve);else{let s=this._endToken([this._cursor.getChars(e)]);s.type=32;return}let n=this._endToken([this._getLetDeclarationName()]);if(this._attemptCharCodeUntilFn(ve),!this._attemptCharCode(Ze)){n.type=32;return}this._attemptCharCodeUntilFn(s=>ve(s)&&!Aa(s)),this._consumeLetDeclarationValue(),this._cursor.peek()===kt?(this._beginToken(31),this._endToken([]),this._cursor.advance()):(n.type=32,n.sourceSpan=this._cursor.getSpan(e))}_getLetDeclarationName(){let e=this._cursor.clone(),n=!1;return this._attemptCharCodeUntilFn(r=>Ys(r)||r===ll||r===Dr||n&&sn(r)?(n=!0,!1):!0),this._cursor.getChars(e).trim()}_consumeLetDeclarationValue(){let e=this._cursor.clone();for(this._beginToken(30,e);this._cursor.peek()!==ze;){let n=this._cursor.peek();if(n===kt)break;Ni(n)&&(this._cursor.advance(),this._attemptCharCodeUntilFn(r=>r===Bs?(this._cursor.advance(),!1):r===n)),this._cursor.advance()}this._endToken([this._cursor.getChars(e)])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(Tx(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===Et){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,n=this._cursor.clone()){this._currentTokenStart=n,this._currentTokenType=e}_endToken(e,n){if(this._currentTokenStart===null)throw new V(this._cursor.getSpan(n),"Programming error - attempted to end a token when there was no start to the token");if(this._currentTokenType===null)throw new V(this._cursor.getSpan(this._currentTokenStart),"Programming error - attempted to end a token which has no token type");let r={type:this._currentTokenType,parts:e,sourceSpan:(n!=null?n:this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(r),this._currentTokenStart=null,this._currentTokenType=null,r}_createError(e,n){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let r=new V(n,e);return this._currentTokenStart=null,this._currentTokenType=null,r}handleError(e){if(e instanceof yo&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof V)this.errors.push(e);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return wx(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let n=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(Ts(this._cursor.peek()),this._cursor.getSpan(n))}_attemptStr(e){let n=e.length;if(this._cursor.charsLeft()<n)return!1;let r=this._cursor.clone();for(let s=0;s<n;s++)if(!this._attemptCharCode(e.charCodeAt(s)))return this._cursor=r,!1;return!0}_attemptStrCaseInsensitive(e){for(let n=0;n<e.length;n++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(n)))return!1;return!0}_requireStr(e){let n=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(Ts(this._cursor.peek()),this._cursor.getSpan(n))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,n){let r=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(r)<n)throw this._createError(Ts(this._cursor.peek()),this._cursor.getSpan(r))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_peekStr(e){let n=e.length;if(this._cursor.charsLeft()<n)return!1;let r=this._cursor.clone();for(let s=0;s<n;s++){if(r.peek()!==e.charCodeAt(s))return!1;r.advance()}return!0}_isBlockStart(){return this._cursor.peek()===vs&&yx.some(e=>this._peekStr(e))}_isLetStart(){return this._cursor.peek()===vs&&this._peekStr("@let")}_consumeEntity(e){this._beginToken(9);let n=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(Cd)){let r=this._attemptCharCode(Rd)||this._attemptCharCode(BE),s=this._cursor.clone();if(this._attemptCharCodeUntilFn(Sx),this._cursor.peek()!=kt){this._cursor.advance();let o=r?Ua.HEX:Ua.DEC;throw this._createError(gx(o,this._cursor.getChars(n)),this._cursor.getSpan())}let i=this._cursor.getChars(s);this._cursor.advance();try{let o=parseInt(i,r?16:10);this._endToken([String.fromCharCode(o),this._cursor.getChars(n)])}catch(o){throw this._createError($h(this._cursor.getChars(n)),this._cursor.getSpan())}}else{let r=this._cursor.clone();if(this._attemptCharCodeUntilFn(Ex),this._cursor.peek()!=kt)this._beginToken(e,n),this._cursor=r,this._endToken(["&"]);else{let s=this._cursor.getChars(r);this._cursor.advance();let i=go.hasOwnProperty(s)&&go[s];if(!i)throw this._createError($h(s),this._cursor.getSpan(n));this._endToken([i,`&${s};`])}}}_consumeRawText(e,n){this._beginToken(e?6:7);let r=[];for(;;){let s=this._cursor.clone(),i=n();if(this._cursor=s,i)break;e&&this._cursor.peek()===xa?(this._endToken([this._processCarriageReturns(r.join(""))]),r.length=0,this._consumeEntity(6),this._beginToken(6)):r.push(this._readChar())}this._endToken([this._processCarriageReturns(r.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(Ca),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);let n=this._cursor.clone();this._attemptUntilChar(Bt);let r=this._cursor.getChars(n);this._cursor.advance(),this._endToken([r])}_consumePrefixAndName(e){let n=this._cursor.clone(),r="";for(;this._cursor.peek()!==Pn&&!vx(this._cursor.peek());)this._cursor.advance();let s;this._cursor.peek()===Pn?(r=this._cursor.getChars(n),this._cursor.advance(),s=this._cursor.clone()):s=n,this._requireCharCodeUntilFn(e,r===""?0:1);let i=this._cursor.getChars(s);return[r,i]}_consumeTagOpen(e){let n,r,s,i;try{if(this._selectorlessEnabled&&Go(this._cursor.peek()))i=this._consumeComponentOpenStart(e),[s,r,n]=i.parts,r&&(s+=`:${r}`),n&&(s+=`:${n}`),this._attemptCharCodeUntilFn(ve);else{if(!Ys(this._cursor.peek()))throw this._createError(Ts(this._cursor.peek()),this._cursor.getSpan(e));i=this._consumeTagOpenStart(e),r=i.parts[0],n=s=i.parts[1],this._attemptCharCodeUntilFn(ve)}for(;!Gh(this._cursor.peek());)if(this._selectorlessEnabled&&this._cursor.peek()===vs){let l=this._cursor.clone(),c=l.clone();c.advance(),Go(c.peek())&&this._consumeDirective(l,c)}else this._consumeAttribute();i.type===33?this._consumeComponentOpenEnd():this._consumeTagOpenEnd()}catch(l){if(l instanceof V){i?i.type=i.type===33?37:4:(this._beginToken(5,e),this._endToken(["<"]));return}throw l}let o=this._getTagDefinition(n).getContentType(r);o===on.RAW_TEXT?this._consumeRawTextWithTagClose(i,s,!1):o===on.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(i,s,!0)}_consumeRawTextWithTagClose(e,n,r){this._consumeRawText(r,()=>!this._attemptCharCode(Fs)||!this._attemptCharCode(rn)||(this._attemptCharCodeUntilFn(ve),!this._attemptStrCaseInsensitive(n))?!1:(this._attemptCharCodeUntilFn(ve),this._attemptCharCode(Bt))),this._beginToken(e.type===33?36:3),this._requireCharCodeUntilFn(s=>s===Bt,3),this._cursor.advance(),this._endToken(e.parts)}_consumeTagOpenStart(e){this._beginToken(0,e);let n=this._consumePrefixAndName(Or);return this._endToken(n)}_consumeComponentOpenStart(e){this._beginToken(33,e);let n=this._consumeComponentName();return this._endToken(n)}_consumeComponentName(){let e=this._cursor.clone();for(;Hh(this._cursor.peek());)this._cursor.advance();let n=this._cursor.getChars(e),r="",s="";return this._cursor.peek()===Pn&&(this._cursor.advance(),[r,s]=this._consumePrefixAndName(Or)),[n,r,s]}_consumeAttribute(){this._consumeAttributeName(),this._attemptCharCodeUntilFn(ve),this._attemptCharCode(Ze)&&(this._attemptCharCodeUntilFn(ve),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(ve)}_consumeAttributeName(){let e=this._cursor.peek();if(e===so||e===ro)throw this._createError(Ts(e),this._cursor.getSpan());this._beginToken(14);let n;if(this._openDirectiveCount>0){let s=0;n=i=>{if(this._openDirectiveCount>0){if(i===ln)s++;else if(i===it){if(s===0)return!0;s--}}return Or(i)}}else if(e===cr){let s=0;n=i=>(i===cr?s++:i===Vr&&s--,s<=0?Or(i):Aa(i))}else n=Or;let r=this._consumePrefixAndName(n);this._endToken(r)}_consumeAttributeValue(){if(this._cursor.peek()===so||this._cursor.peek()===ro){let e=this._cursor.peek();this._consumeQuote(e);let n=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,n,n),this._consumeQuote(e)}else{let e=()=>Or(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(rn)?2:1;this._beginToken(e),this._requireCharCode(Bt),this._endToken([])}_consumeComponentOpenEnd(){let e=this._attemptCharCode(rn)?35:34;this._beginToken(e),this._requireCharCode(Bt),this._endToken([])}_consumeTagClose(e){if(this._selectorlessEnabled){let r=e.clone();for(;r.peek()!==Bt&&!Go(r.peek());)r.advance();if(Go(r.peek())){this._beginToken(36,e);let s=this._consumeComponentName();this._attemptCharCodeUntilFn(ve),this._requireCharCode(Bt),this._endToken(s);return}}this._beginToken(3,e),this._attemptCharCodeUntilFn(ve);let n=this._consumePrefixAndName(Or);this._attemptCharCodeUntilFn(ve),this._requireCharCode(Bt),this._endToken(n)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(an),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);let e=this._readUntil(qt),n=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([n]);else{let s=this._endToken([e]);n!==e&&this.nonNormalizedIcuExpressions.push(s)}this._requireCharCode(qt),this._attemptCharCodeUntilFn(ve),this._beginToken(7);let r=this._readUntil(qt);this._endToken([r]),this._requireCharCode(qt),this._attemptCharCodeUntilFn(ve)}_consumeExpansionCaseStart(){this._beginToken(20);let e=this._readUntil(an).trim();this._endToken([e]),this._attemptCharCodeUntilFn(ve),this._beginToken(21),this._requireCharCode(an),this._endToken([]),this._attemptCharCodeUntilFn(ve),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(Et),this._endToken([]),this._attemptCharCodeUntilFn(ve),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(Et),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,n,r,s){this._beginToken(e);let i=[];for(;!r();){let o=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(i.join(""))],o),i.length=0,this._consumeInterpolation(n,o,s),this._beginToken(e)):this._cursor.peek()===xa?(this._endToken([this._processCarriageReturns(i.join(""))]),i.length=0,this._consumeEntity(e),this._beginToken(e)):i.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(i.join(""))])}_consumeInterpolation(e,n,r){let s=[];this._beginToken(e,n),s.push(this._interpolationConfig.start);let i=this._cursor.clone(),o=null,l=!1;for(;this._cursor.peek()!==ze&&(r===null||!r());){let c=this._cursor.clone();if(this._isTagStart()){this._cursor=c,s.push(this._getProcessedChars(i,c)),this._endToken(s);return}if(o===null)if(this._attemptStr(this._interpolationConfig.end)){s.push(this._getProcessedChars(i,c)),s.push(this._interpolationConfig.end),this._endToken(s);return}else this._attemptStr("//")&&(l=!0);let p=this._cursor.peek();this._cursor.advance(),p===Bs?this._cursor.advance():p===o?o=null:!l&&o===null&&Ni(p)&&(o=p)}s.push(this._getProcessedChars(i,this._cursor)),this._endToken(s)}_consumeDirective(e,n){for(this._requireCharCode(vs),this._cursor.advance();Hh(this._cursor.peek());)this._cursor.advance();this._beginToken(38,e);let r=this._cursor.getChars(n);if(this._endToken([r]),this._attemptCharCodeUntilFn(ve),this._cursor.peek()===ln){for(this._openDirectiveCount++,this._beginToken(39),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(ve);!Gh(this._cursor.peek())&&this._cursor.peek()!==it;)this._consumeAttribute();if(this._attemptCharCodeUntilFn(ve),this._openDirectiveCount--,this._cursor.peek()!==it){if(this._cursor.peek()===Bt||this._cursor.peek()===rn)return;throw this._createError(Ts(this._cursor.peek()),this._cursor.getSpan(e))}this._beginToken(40),this._cursor.advance(),this._endToken([]),this._attemptCharCodeUntilFn(ve)}}_getProcessedChars(e,n){return this._processCarriageReturns(n.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===ze||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===Et&&this._isInExpansionCase())||this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansion()&&(this._isBlockStart()||this._isLetStart()||this._cursor.peek()===Et))}_isTagStart(){if(this._cursor.peek()===Fs){let e=this._cursor.clone();e.advance();let n=e.peek();if(ss<=n&&n<=No||Ir<=n&&n<=oi||n===rn||n===bc)return!0}return!1}_readUntil(e){let n=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(n)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===21}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===19}isExpansionFormStart(){if(this._cursor.peek()!==an)return!1;if(this._interpolationConfig){let e=this._cursor.clone(),n=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!n}return!0}};function ve(t){return!io(t)||t===ze}function Or(t){return io(t)||t===Bt||t===Fs||t===rn||t===so||t===ro||t===Ze||t===ze}function vx(t){return(t<ss||No<t)&&(t<Ir||oi<t)&&(t<Mu||t>Nd)}function Sx(t){return t===kt||t===ze||!HE(t)}function Ex(t){return t===kt||t===ze||!Ys(t)}function Tx(t){return t!==Et}function wx(t,e){return Uh(t)===Uh(e)}function Uh(t){return t>=ss&&t<=No?t-ss+Ir:t}function xx(t){return Ys(t)||sn(t)||t===Dr}function Vh(t){return t!==kt&&ve(t)}function Go(t){return t===Dr||t>=Ir&&t<=oi}function Hh(t){return Ys(t)||sn(t)||t===Dr}function Gh(t){return t===rn||t===Bt||t===Fs||t===ze}function Cx(t){let e=[],n;for(let r=0;r<t.length;r++){let s=t[r];n&&n.type===5&&s.type===5||n&&n.type===16&&s.type===16?(n.parts[0]+=s.parts[0],n.sourceSpan.end=s.sourceSpan.end):(n=s,e.push(n))}return e}var Va=class t{constructor(e,n){a(this,"state");a(this,"file");a(this,"input");a(this,"end");if(e instanceof t){this.file=e.file,this.input=e.input,this.end=e.end;let r=e.state;this.state={peek:r.peek,offset:r.offset,line:r.line,column:r.column}}else{if(!n)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=n.endPos,this.state={peek:-1,offset:n.startPos,line:n.startLine,column:n.startCol}}}clone(){return new t(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,n){e=e||this;let r=e;if(n)for(;this.diff(e)>0&&n.indexOf(e.peek())!==-1;)r===e&&(e=e.clone()),e.advance();let s=this.locationFromCursor(e),i=this.locationFromCursor(this),o=r!==e?this.locationFromCursor(r):s;return new H(s,i,o)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new yo('Unexpected character "EOF"',this);let n=this.charAt(e.offset);n===Gr?(e.line++,e.column=0):Aa(n)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?ze:this.charAt(e.offset)}locationFromCursor(e){return new is(e.file,e.state.offset,e.state.line,e.state.column)}},Jc=class t extends Va{constructor(n,r){var e=(...LM)=>(super(...LM),a(this,"internalState"),this);n instanceof t?(e(n),this.internalState=w({},n.internalState)):(e(n,r),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new t(this)}getChars(n){let r=n.clone(),s="";for(;r.internalState.offset<this.internalState.offset;)s+=String.fromCodePoint(r.peek()),r.advance();return s}processEscapeSequence(){let n=()=>this.internalState.peek;if(n()===Bs)if(this.internalState=w({},this.state),this.advanceState(this.internalState),n()===Id)this.state.peek=Gr;else if(n()===Dd)this.state.peek=Lu;else if(n()===kd)this.state.peek=Td;else if(n()===bd)this.state.peek=Pu;else if(n()===UE)this.state.peek=PE;else if(n()===Ou)this.state.peek=wd;else if(n()===_d)if(this.advanceState(this.internalState),n()===an){this.advanceState(this.internalState);let r=this.clone(),s=0;for(;n()!==Et;)this.advanceState(this.internalState),s++;this.state.peek=this.decodeHexDigits(r,s)}else{let r=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(r,4)}else if(n()===Rd){this.advanceState(this.internalState);let r=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(r,2)}else if(wh(n())){let r="",s=0,i=this.clone();for(;wh(n())&&s<3;)i=this.clone(),r+=String.fromCodePoint(n()),this.advanceState(this.internalState),s++;this.state.peek=parseInt(r,8),this.internalState=i.internalState}else Aa(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(n,r){let s=this.input.slice(n.internalState.offset,n.internalState.offset+r),i=parseInt(s,16);if(isNaN(i))throw n.state=n.internalState,new yo("Invalid hexadecimal escape sequence",n);return i}},yo=class extends Error{constructor(n,r){super(n);a(this,"msg");a(this,"cursor");this.msg=n,this.cursor=r,Object.setPrototypeOf(this,new.target.prototype)}},_e=class t extends V{constructor(n,r,s){super(r,s);a(this,"elementName");this.elementName=n}static create(n,r,s){return new t(n,r,s)}},Ha=class{constructor(e,n){a(this,"rootNodes");a(this,"errors");this.rootNodes=e,this.errors=n}},Ax=class{constructor(e){a(this,"getTagDefinition");this.getTagDefinition=e}parse(e,n,r){let s=dx(e,n,this.getTagDefinition,r),i=new Zc(s.tokens,this.getTagDefinition);return i.build(),new Ha(i.rootNodes,[...s.errors,...i.errors])}},Zc=class t{constructor(e,n){a(this,"tokens");a(this,"tagDefinitionResolver");a(this,"_index",-1);a(this,"_peek");a(this,"_containerStack",[]);a(this,"rootNodes",[]);a(this,"errors",[]);this.tokens=e,this.tagDefinitionResolver=n,this._advance()}build(){for(;this._peek.type!==41;)this._peek.type===0||this._peek.type===4?this._consumeElementStartTag(this._advance()):this._peek.type===3?this._consumeElementEndTag(this._advance()):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===19?this._consumeExpansion(this._advance()):this._peek.type===24?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):this._peek.type===26?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):this._peek.type===28?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):this._peek.type===29?(this._closeVoidElement(),this._consumeLet(this._advance())):this._peek.type===32?(this._closeVoidElement(),this._consumeIncompleteLet(this._advance())):this._peek.type===33||this._peek.type===37?this._consumeComponentStartTag(this._advance()):this._peek.type===36?this._consumeComponentEndTag(this._advance()):this._advance();for(let e of this._containerStack)e instanceof Ut&&this.errors.push(_e.create(e.name,e.sourceSpan,`Unclosed block "${e.name}"`))}_advance(){let e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){let n=this._advanceIf(7),r=this._advanceIf(11),s=n!=null?n.parts[0].trim():null,i=r==null?e.sourceSpan:new H(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new mo(s,i))}_consumeExpansion(e){let n=this._advance(),r=this._advance(),s=[];for(;this._peek.type===20;){let o=this._parseExpansionCase();if(!o)return;s.push(o)}if(this._peek.type!==23){this.errors.push(_e.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let i=new H(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new qr(n.parts[0],r.parts[0],s,i,n.sourceSpan)),this._advance()}_parseExpansionCase(){let e=this._advance();if(this._peek.type!==21)return this.errors.push(_e.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let n=this._advance(),r=this._collectExpansionExpTokens(n);if(!r)return null;let s=this._advance();r.push({type:41,parts:[],sourceSpan:s.sourceSpan});let i=new t(r,this.tagDefinitionResolver);if(i.build(),i.errors.length>0)return this.errors=this.errors.concat(i.errors),null;let o=new H(e.sourceSpan.start,s.sourceSpan.end,e.sourceSpan.fullStart),l=new H(n.sourceSpan.start,s.sourceSpan.end,n.sourceSpan.fullStart);return new Fa(e.parts[0],i.rootNodes,o,e.sourceSpan,l)}_collectExpansionExpTokens(e){let n=[],r=[21];for(;;){if((this._peek.type===19||this._peek.type===21)&&r.push(this._peek.type),this._peek.type===22)if(qh(r,21)){if(r.pop(),r.length===0)return n}else return this.errors.push(_e.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===23)if(qh(r,19))r.pop();else return this.errors.push(_e.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===41)return this.errors.push(_e.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.push(this._advance())}}_consumeText(e){var i;let n=[e],r=e.sourceSpan,s=e.parts[0];if(s.length>0&&s[0]===`
`){let o=this._getContainer();o!=null&&o.children.length===0&&((i=this._getTagDefinition(o))!=null&&i.ignoreFirstLf)&&(s=s.substring(1),n[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[s]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)e=this._advance(),n.push(e),e.type===8?s+=e.parts.join("").replace(/&([^;]+);/g,Wh):e.type===9?s+=e.parts[0]:s+=e.parts.join("");if(s.length>0){let o=e.sourceSpan;this._addToParent(new ps(s,new H(r.start,o.end,r.fullStart,r.details),n))}}_closeVoidElement(){var n;let e=this._getContainer();e!==null&&((n=this._getTagDefinition(e))!=null&&n.isVoid)&&this._containerStack.pop()}_consumeElementStartTag(e){var g,S;let n=[],r=[];this._consumeAttributesAndDirectives(n,r);let s=this._getElementFullName(e,this._getClosestElementLikeParent()),i=this._getTagDefinition(s),o=!1;this._peek.type===2?(this._advance(),o=!0,i!=null&&i.canSelfClose||Tc(s)!==null||i!=null&&i.isVoid||this.errors.push(_e.create(s,e.sourceSpan,`Only void, custom and foreign elements can be self closed "${e.parts[1]}"`))):this._peek.type===1&&(this._advance(),o=!1);let l=this._peek.sourceSpan.fullStart,c=new H(e.sourceSpan.start,l,e.sourceSpan.fullStart),p=new H(e.sourceSpan.start,l,e.sourceSpan.fullStart),u=new $t(s,n,r,[],o,c,p,void 0,(g=i==null?void 0:i.isVoid)!=null?g:!1),d=this._getContainer(),m=d!==null&&!!((S=this._getTagDefinition(d))!=null&&S.isClosedByChild(u.name));this._pushContainer(u,m),o?this._popContainer(s,$t,c):e.type===4&&(this._popContainer(s,$t,null),this.errors.push(_e.create(s,c,`Opening tag "${s}" not terminated.`)))}_consumeComponentStartTag(e){var T;let n=e.parts[0],r=[],s=[];this._consumeAttributesAndDirectives(r,s);let i=this._getClosestElementLikeParent(),o=this._getComponentTagName(e,i),l=this._getComponentFullName(e,i),c=this._peek.type===35;this._advance();let p=this._peek.sourceSpan.fullStart,u=new H(e.sourceSpan.start,p,e.sourceSpan.fullStart),d=new H(e.sourceSpan.start,p,e.sourceSpan.fullStart),m=new vt(n,o,l,r,s,[],c,u,d,void 0),g=this._getContainer(),S=g!==null&&m.tagName!==null&&!!((T=this._getTagDefinition(g))!=null&&T.isClosedByChild(m.tagName));this._pushContainer(m,S),c?this._popContainer(l,vt,u):e.type===37&&(this._popContainer(l,vt,null),this.errors.push(_e.create(l,u,`Opening tag "${l}" not terminated.`)))}_consumeAttributesAndDirectives(e,n){for(;this._peek.type===14||this._peek.type===38;)this._peek.type===38?n.push(this._consumeDirective(this._peek)):e.push(this._consumeAttr(this._advance()))}_consumeComponentEndTag(e){let n=this._getComponentFullName(e,this._getClosestElementLikeParent());if(!this._popContainer(n,vt,e.sourceSpan)){let r=this._containerStack[this._containerStack.length-1],s;r instanceof vt&&r.componentName===e.parts[0]?s=`, did you mean "${r.fullName}"?`:s=". It may happen when the tag has already been closed by another tag.";let i=`Unexpected closing tag "${n}"${s}`;this.errors.push(_e.create(n,e.sourceSpan,i))}}_getTagDefinition(e){return typeof e=="string"?this.tagDefinitionResolver(e):e instanceof $t?this.tagDefinitionResolver(e.name):e instanceof vt&&e.tagName!==null?this.tagDefinitionResolver(e.tagName):null}_pushContainer(e,n){n&&this._containerStack.pop(),this._addToParent(e),this._containerStack.push(e)}_consumeElementEndTag(e){var r;let n=this._getElementFullName(e,this._getClosestElementLikeParent());if((r=this._getTagDefinition(n))!=null&&r.isVoid)this.errors.push(_e.create(n,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popContainer(n,$t,e.sourceSpan)){let s=`Unexpected closing tag "${n}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(_e.create(n,e.sourceSpan,s))}}_popContainer(e,n,r){var i;let s=!1;for(let o=this._containerStack.length-1;o>=0;o--){let l=this._containerStack[o];if(((l instanceof vt?l.fullName:l.name)===e||e===null)&&l instanceof n)return l.endSourceSpan=r,l.sourceSpan.end=r!==null?r.end:l.sourceSpan.end,this._containerStack.splice(o,this._containerStack.length-o),!s;(l instanceof Ut||!((i=this._getTagDefinition(l))!=null&&i.closedByParent))&&(s=!0)}return!1}_consumeAttr(e){let n=ra(e.parts[0],e.parts[1]),r=e.sourceSpan.end;this._peek.type===15&&this._advance();let s="",i=[],o,l;if(this._peek.type===16)for(o=this._peek.sourceSpan,l=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let u=this._advance();i.push(u),u.type===17?s+=u.parts.join("").replace(/&([^;]+);/g,Wh):u.type===9?s+=u.parts[0]:s+=u.parts.join(""),l=r=u.sourceSpan.end}this._peek.type===15&&(r=this._advance().sourceSpan.end);let p=o&&l&&new H(o.start,l,o.fullStart);return new zc(n,s,new H(e.sourceSpan.start,r,e.sourceSpan.fullStart),e.sourceSpan,p,i.length>0?i:void 0,void 0)}_consumeDirective(e){let n=[],r=e.sourceSpan.end,s=null;if(this._advance(),this._peek.type===39){for(r=this._peek.sourceSpan.end,this._advance();this._peek.type===14;)n.push(this._consumeAttr(this._advance()));this._peek.type===40?(s=this._peek.sourceSpan,this._advance()):this.errors.push(_e.create(null,e.sourceSpan,"Unterminated directive definition"))}let i=new H(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new H(i.start,s===null?e.sourceSpan.end:s.end,i.fullStart);return new Yc(e.parts[0],n,o,i,s)}_consumeBlockOpen(e){let n=[];for(;this._peek.type===27;){let l=this._advance();n.push(new Ba(l.parts[0],l.sourceSpan))}this._peek.type===25&&this._advance();let r=this._peek.sourceSpan.fullStart,s=new H(e.sourceSpan.start,r,e.sourceSpan.fullStart),i=new H(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new Ut(e.parts[0],n,[],s,e.sourceSpan,i);this._pushContainer(o,!1)}_consumeBlockClose(e){this._popContainer(null,Ut,e.sourceSpan)||this.errors.push(_e.create(null,e.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(e){let n=[];for(;this._peek.type===27;){let l=this._advance();n.push(new Ba(l.parts[0],l.sourceSpan))}let r=this._peek.sourceSpan.fullStart,s=new H(e.sourceSpan.start,r,e.sourceSpan.fullStart),i=new H(e.sourceSpan.start,r,e.sourceSpan.fullStart),o=new Ut(e.parts[0],n,[],s,e.sourceSpan,i);this._pushContainer(o,!1),this._popContainer(null,Ut,null),this.errors.push(_e.create(e.parts[0],s,`Incomplete block "${e.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_consumeLet(e){let n=e.parts[0],r,s;if(this._peek.type!==30){this.errors.push(_e.create(e.parts[0],e.sourceSpan,`Invalid @let declaration "${n}". Declaration must have a value.`));return}else r=this._advance();if(this._peek.type!==31){this.errors.push(_e.create(e.parts[0],e.sourceSpan,`Unterminated @let declaration "${n}". Declaration must be terminated with a semicolon.`));return}else s=this._advance();let i=s.sourceSpan.fullStart,o=new H(e.sourceSpan.start,i,e.sourceSpan.fullStart),l=e.sourceSpan.toString().lastIndexOf(n),c=e.sourceSpan.start.moveBy(l),p=new H(c,e.sourceSpan.end),u=new $a(n,r.parts[0],o,p,r.sourceSpan);this._addToParent(u)}_consumeIncompleteLet(e){var s;let n=(s=e.parts[0])!=null?s:"",r=n?` "${n}"`:"";if(n.length>0){let i=e.sourceSpan.toString().lastIndexOf(n),o=e.sourceSpan.start.moveBy(i),l=new H(o,e.sourceSpan.end),c=new H(e.sourceSpan.start,e.sourceSpan.start.moveBy(0)),p=new $a(n,"",e.sourceSpan,l,c);this._addToParent(p)}this.errors.push(_e.create(e.parts[0],e.sourceSpan,`Incomplete @let declaration${r}. @let declarations must be written as \`@let <name> = <value>;\``))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestElementLikeParent(){for(let e=this._containerStack.length-1;e>-1;e--){let n=this._containerStack[e];if(n instanceof $t||n instanceof vt)return n}return null}_addToParent(e){let n=this._getContainer();n===null?this.rootNodes.push(e):n.children.push(e)}_getElementFullName(e,n){let r=this._getPrefix(e,n);return ra(r,e.parts[1])}_getComponentFullName(e,n){let r=e.parts[0],s=this._getComponentTagName(e,n);return s===null?r:s.startsWith(":")?r+s:`${r}:${s}`}_getComponentTagName(e,n){let r=this._getPrefix(e,n),s=e.parts[2];return!r&&!s?null:!r&&s?s:ra(r,s||"ng-component")}_getPrefix(e,n){var i;let r,s;if(e.type===33||e.type===37||e.type===36?(r=e.parts[1],s=e.parts[2]):(r=e.parts[0],s=e.parts[1]),r=r||((i=this._getTagDefinition(s))==null?void 0:i.implicitNamespacePrefix)||"",!r&&n){let o=n instanceof $t?n.name:n.tagName;if(o!==null){let l=dn(o)[1],c=this._getTagDefinition(l);c!==null&&!c.preventNamespaceInheritance&&(r=Tc(o))}}return r}};function qh(t,e){return t.length>0&&t[t.length-1]===e}function Wh(t,e){return go[e]!==void 0?go[e]||t:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):t}var sm="ngPreserveWhitespaces",jh=new Set(["pre","template","textarea","script","style"]),im=` \f
\r	\v\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`,Nx=new RegExp(`[^${im}]`),Ix=new RegExp(`[${im}]{2,}`,"g");function Kh(t){return t.some(e=>e.name===sm)}function om(t){return t.replace(new RegExp(rm,"g")," ")}var Ga=class{constructor(e,n,r=!0){a(this,"preserveSignificantWhitespace");a(this,"originalNodeMap");a(this,"requireContext");a(this,"icuExpansionDepth",0);this.preserveSignificantWhitespace=e,this.originalNodeMap=n,this.requireContext=r}visitElement(e,n){var s,i;if(jh.has(e.name)||Kh(e.attrs)){let o=new $t(e.name,Sn(this,e.attrs),Sn(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n);return(s=this.originalNodeMap)==null||s.set(o,e),o}let r=new $t(e.name,e.attrs,e.directives,Sn(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n);return(i=this.originalNodeMap)==null||i.set(r,e),r}visitAttribute(e,n){return e.name!==sm?e:null}visitText(e,n){var o;let r=e.value.match(Nx),s=n&&(n.prev instanceof qr||n.next instanceof qr);if(this.icuExpansionDepth>0&&this.preserveSignificantWhitespace)return e;if(r||s){let l=e.tokens.map(d=>d.type===5?kx(d):d);if(!this.preserveSignificantWhitespace&&l.length>0){let d=l[0];l.splice(0,1,Dx(d,n));let m=l[l.length-1];l.splice(l.length-1,1,bx(m,n))}let c=lm(e.value),p=this.preserveSignificantWhitespace?c:_x(c,n),u=new ps(p,e.sourceSpan,l,e.i18n);return(o=this.originalNodeMap)==null||o.set(u,e),u}return null}visitComment(e,n){return e}visitExpansion(e,n){var s;this.icuExpansionDepth++;let r;try{r=new qr(e.switchValue,e.type,Sn(this,e.cases),e.sourceSpan,e.switchValueSourceSpan,e.i18n)}finally{this.icuExpansionDepth--}return(s=this.originalNodeMap)==null||s.set(r,e),r}visitExpansionCase(e,n){var s;let r=new Fa(e.value,Sn(this,e.expression),e.sourceSpan,e.valueSourceSpan,e.expSourceSpan);return(s=this.originalNodeMap)==null||s.set(r,e),r}visitBlock(e,n){var s;let r=new Ut(e.name,e.parameters,Sn(this,e.children),e.sourceSpan,e.nameSpan,e.startSourceSpan,e.endSourceSpan);return(s=this.originalNodeMap)==null||s.set(r,e),r}visitBlockParameter(e,n){return e}visitLetDeclaration(e,n){return e}visitComponent(e,n){var s,i;if(e.tagName&&jh.has(e.tagName)||Kh(e.attrs)){let o=new vt(e.componentName,e.tagName,e.fullName,Sn(this,e.attrs),Sn(this,e.directives),e.children,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return(s=this.originalNodeMap)==null||s.set(o,e),o}let r=new vt(e.componentName,e.tagName,e.fullName,e.attrs,e.directives,Sn(this,e.children),e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return(i=this.originalNodeMap)==null||i.set(r,e),r}visitDirective(e,n){return e}visit(e,n){if(this.requireContext&&!n)throw new Error("WhitespaceVisitor requires context. Visit via `visitAllWithSiblings` to get this context.");return!1}};function Dx(t,e){return t.type!==5||!!(e!=null&&e.prev)?t:am(t,r=>r.trimStart())}function bx(t,e){return t.type!==5||!!(e!=null&&e.next)?t:am(t,r=>r.trimEnd())}function _x(t,e){let n=!(e!=null&&e.prev),r=!(e!=null&&e.next),s=n?t.trimStart():t;return r?s.trimEnd():s}function kx({type:t,parts:e,sourceSpan:n}){return{type:t,parts:[lm(e[0])],sourceSpan:n}}function am({type:t,parts:e,sourceSpan:n},r){return{type:t,parts:[r(e[0])],sourceSpan:n}}function lm(t){return om(t).replace(Ix," ")}function Sn(t,e){let n=[];return e.forEach((r,s)=>{let i={prev:e[s-1],next:e[s+1]},o=r.visit(t,i);o&&n.push(o)}),n}var K;(function(t){t[t.Character=0]="Character",t[t.Identifier=1]="Identifier",t[t.PrivateIdentifier=2]="PrivateIdentifier",t[t.Keyword=3]="Keyword",t[t.String=4]="String",t[t.Operator=5]="Operator",t[t.Number=6]="Number",t[t.Error=7]="Error"})(K||(K={}));var ur;(function(t){t[t.Plain=0]="Plain",t[t.TemplateLiteralPart=1]="TemplateLiteralPart",t[t.TemplateLiteralEnd=2]="TemplateLiteralEnd"})(ur||(ur={}));var Rx=["var","let","as","null","undefined","true","false","if","else","this","typeof","void","in"],vo=class{tokenize(e){return new eu(e).scan()}},gn=class{constructor(e,n,r,s,i){a(this,"index");a(this,"end");a(this,"type");a(this,"numValue");a(this,"strValue");this.index=e,this.end=n,this.type=r,this.numValue=s,this.strValue=i}isCharacter(e){return this.type===K.Character&&this.numValue===e}isNumber(){return this.type===K.Number}isString(){return this.type===K.String}isOperator(e){return this.type===K.Operator&&this.strValue===e}isIdentifier(){return this.type===K.Identifier}isPrivateIdentifier(){return this.type===K.PrivateIdentifier}isKeyword(){return this.type===K.Keyword}isKeywordLet(){return this.type===K.Keyword&&this.strValue==="let"}isKeywordAs(){return this.type===K.Keyword&&this.strValue==="as"}isKeywordNull(){return this.type===K.Keyword&&this.strValue==="null"}isKeywordUndefined(){return this.type===K.Keyword&&this.strValue==="undefined"}isKeywordTrue(){return this.type===K.Keyword&&this.strValue==="true"}isKeywordFalse(){return this.type===K.Keyword&&this.strValue==="false"}isKeywordThis(){return this.type===K.Keyword&&this.strValue==="this"}isKeywordTypeof(){return this.type===K.Keyword&&this.strValue==="typeof"}isKeywordVoid(){return this.type===K.Keyword&&this.strValue==="void"}isKeywordIn(){return this.type===K.Keyword&&this.strValue==="in"}isError(){return this.type===K.Error}toNumber(){return this.type===K.Number?this.numValue:-1}isTemplateLiteralPart(){return this.isString()&&this.kind===ur.TemplateLiteralPart}isTemplateLiteralEnd(){return this.isString()&&this.kind===ur.TemplateLiteralEnd}isTemplateLiteralInterpolationStart(){return this.isOperator("${")}isTemplateLiteralInterpolationEnd(){return this.isOperator("}")}toString(){switch(this.type){case K.Character:case K.Identifier:case K.Keyword:case K.Operator:case K.PrivateIdentifier:case K.String:case K.Error:return this.strValue;case K.Number:return this.numValue.toString();default:return null}}},Ii=class extends gn{constructor(n,r,s,i){super(n,r,K.String,0,s);a(this,"kind");this.kind=i}};function qo(t,e,n){return new gn(t,e,K.Character,n,String.fromCharCode(n))}function Px(t,e,n){return new gn(t,e,K.Identifier,0,n)}function Lx(t,e,n){return new gn(t,e,K.PrivateIdentifier,0,n)}function Mx(t,e,n){return new gn(t,e,K.Keyword,0,n)}function ws(t,e,n){return new gn(t,e,K.Operator,0,n)}function Ox(t,e,n){return new gn(t,e,K.Number,n,"")}function Fx(t,e,n){return new gn(t,e,K.Error,0,n)}var Wo=new gn(-1,-1,K.Character,0,""),eu=class{constructor(e){a(this,"input");a(this,"tokens",[]);a(this,"length");a(this,"peek",0);a(this,"index",-1);a(this,"braceStack",[]);this.input=e,this.length=e.length,this.advance()}scan(){let e=this.scanToken();for(;e!==null;)this.tokens.push(e),e=this.scanToken();return this.tokens}advance(){this.peek=++this.index>=this.length?ze:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,n=this.length,r=this.peek,s=this.index;for(;r<=xd;)if(++s>=n){r=ze;break}else r=e.charCodeAt(s);if(this.peek=r,this.index=s,s>=n)return null;if(zh(r))return this.scanIdentifier();if(sn(r))return this.scanNumber(s);let i=s;switch(r){case wi:return this.advance(),sn(this.peek)?this.scanNumber(i):qo(i,this.index,wi);case ln:case it:case cr:case Vr:case qt:case Pn:case kt:return this.scanCharacter(i,r);case an:return this.scanOpenBrace(i,r);case Et:return this.scanCloseBrace(i,r);case so:case ro:return this.scanString();case _c:return this.advance(),this.scanTemplateLiteralPart(i);case Cd:return this.scanPrivateIdentifier();case Ad:return this.scanComplexOperator(i,"+",Ze,"=");case Ca:return this.scanComplexOperator(i,"-",Ze,"=");case rn:return this.scanComplexOperator(i,"/",Ze,"=");case LE:return this.scanComplexOperator(i,"%",Ze,"=");case $E:return this.scanOperator(i,"^");case Sh:return this.scanStar(i);case Eh:return this.scanQuestion(i);case Fs:case Bt:return this.scanComplexOperator(i,String.fromCharCode(r),Ze,"=");case bc:case Ze:return this.scanComplexOperator(i,String.fromCharCode(r),Ze,"=",Ze,"=");case xa:return this.scanComplexOperator(i,"&",xa,"&",Ze,"=");case Th:return this.scanComplexOperator(i,"|",Th,"|",Ze,"=");case Pd:for(;io(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(r)}]`,0)}scanCharacter(e,n){return this.advance(),qo(e,this.index,n)}scanOperator(e,n){return this.advance(),ws(e,this.index,n)}scanOpenBrace(e,n){return this.braceStack.push("expression"),this.advance(),qo(e,this.index,n)}scanCloseBrace(e,n){return this.advance(),this.braceStack.pop()==="interpolation"?(this.tokens.push(ws(e,this.index,"}")),this.scanTemplateLiteralPart(this.index)):qo(e,this.index,n)}scanComplexOperator(e,n,r,s,i,o){this.advance();let l=n;return this.peek==r&&(this.advance(),l+=s),i!=null&&this.peek==i&&(this.advance(),l+=o),ws(e,this.index,l)}scanIdentifier(){let e=this.index;for(this.advance();Yh(this.peek);)this.advance();let n=this.input.substring(e,this.index);return Rx.indexOf(n)>-1?Mx(e,this.index,n):Px(e,this.index,n)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!zh(this.peek))return this.error("Invalid character [#]",-1);for(;Yh(this.peek);)this.advance();let n=this.input.substring(e,this.index);return Lx(e,this.index,n)}scanNumber(e){let n=this.index===e,r=!1;for(this.advance();;){if(!sn(this.peek))if(this.peek===Dr){if(!sn(this.input.charCodeAt(this.index-1))||!sn(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);r=!0}else if(this.peek===wi)n=!1;else if(Bx(this.peek)){if(this.advance(),$x(this.peek)&&this.advance(),!sn(this.peek))return this.error("Invalid exponent",-1);n=!1}else break;this.advance()}let s=this.input.substring(e,this.index);r&&(s=s.replace(/_/g,""));let i=n?Vx(s):parseFloat(s);return Ox(e,this.index,i)}scanString(){let e=this.index,n=this.peek;this.advance();let r="",s=this.index,i=this.input;for(;this.peek!=n;)if(this.peek==Bs){let l=this.scanStringBackslash(r,s);if(typeof l!="string")return l;r=l,s=this.index}else{if(this.peek==ze)return this.error("Unterminated quote",0);this.advance()}let o=i.substring(s,this.index);return this.advance(),new Ii(e,this.index,r+o,ur.Plain)}scanQuestion(e){this.advance();let n="?";return this.peek===Eh?(n+="?",this.advance(),this.peek===Ze&&(n+="=",this.advance())):this.peek===wi&&(n+=".",this.advance()),ws(e,this.index,n)}scanTemplateLiteralPart(e){let n="",r=this.index;for(;this.peek!==_c;)if(this.peek===Bs){let i=this.scanStringBackslash(n,r);if(typeof i!="string")return i;n=i,r=this.index}else if(this.peek===ll){let i=this.index;if(this.advance(),this.peek===an)return this.braceStack.push("interpolation"),this.tokens.push(new Ii(e,i,n+this.input.substring(r,i),ur.TemplateLiteralPart)),this.advance(),ws(i,this.index,this.input.substring(i,this.index))}else{if(this.peek===ze)return this.error("Unterminated template literal",0);this.advance()}let s=this.input.substring(r,this.index);return this.advance(),new Ii(e,this.index,n+s,ur.TemplateLiteralEnd)}error(e,n){let r=this.index+n;return Fx(r,this.index,`Lexer Error: ${e} at column ${r} in expression [${this.input}]`)}scanStringBackslash(e,n){e+=this.input.substring(n,this.index);let r;if(this.advance(),this.peek===_d){let s=this.input.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(s))r=parseInt(s,16);else return this.error(`Invalid unicode escape [\\u${s}]`,0);for(let i=0;i<5;i++)this.advance()}else r=Ux(this.peek),this.advance();return e+=String.fromCharCode(r),e}scanStar(e){this.advance();let n="*";return this.peek===Sh?(n+="*",this.advance(),this.peek===Ze&&(n+="=",this.advance())):this.peek===Ze&&(n+="=",this.advance()),ws(e,this.index,n)}};function zh(t){return ss<=t&&t<=No||Ir<=t&&t<=oi||t==Dr||t==ll}function Yh(t){return Ys(t)||sn(t)||t==Dr||t==ll}function Bx(t){return t==VE||t==OE}function $x(t){return t==Ca||t==Ad}function Ux(t){switch(t){case Id:return Gr;case Ou:return wd;case Dd:return Lu;case bd:return Pu;case kd:return Td;default:return t}}function Vx(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var tu=class{constructor(e,n,r){a(this,"strings");a(this,"expressions");a(this,"offsets");this.strings=e,this.expressions=n,this.offsets=r}},nu=class{constructor(e,n,r){a(this,"templateBindings");a(this,"warnings");a(this,"errors");this.templateBindings=e,this.warnings=n,this.errors=r}};function tr(t){return t.start.toString()||"(unknown)"}var qa=class{constructor(e,n=!1){a(this,"_lexer");a(this,"_supportsDirectPipeReferences");this._lexer=e,this._supportsDirectPipeReferences=n}parseAction(e,n,r,s=Vt){let i=[];this._checkNoInterpolation(i,e,n,s);let{stripped:o}=this._stripComments(e),l=this._lexer.tokenize(o),c=new Br(e,n,r,l,1,i,0,this._supportsDirectPipeReferences).parseChain();return new Se(c,e,tr(n),r,i)}parseBinding(e,n,r,s=Vt){let i=[],o=this._parseBindingAst(e,n,r,s,i);return new Se(o,e,tr(n),r,i)}checkSimpleExpression(e){let n=new ru;return e.visit(n),n.errors}parseSimpleBinding(e,n,r,s=Vt){let i=[],o=this._parseBindingAst(e,n,r,s,i),l=this.checkSimpleExpression(o);return l.length>0&&i.push(Rs(`Host binding expression cannot contain ${l.join(" ")}`,e,"",n)),new Se(o,e,tr(n),r,i)}_parseBindingAst(e,n,r,s,i){this._checkNoInterpolation(i,e,n,s);let{stripped:o}=this._stripComments(e),l=this._lexer.tokenize(o);return new Br(e,n,r,l,0,i,0,this._supportsDirectPipeReferences).parseChain()}parseTemplateBindings(e,n,r,s,i){let o=this._lexer.tokenize(n),l=[];return new Br(n,r,i,o,0,l,0,this._supportsDirectPipeReferences).parseTemplateBindings({source:e,span:new Ye(s,s+e.length)})}parseInterpolation(e,n,r,s,i=Vt){var d;let o=[],{strings:l,expressions:c,offsets:p}=this.splitInterpolation(e,n,o,s,i);if(c.length===0)return null;let u=[];for(let m=0;m<c.length;++m){let g=(d=s==null?void 0:s[m*2+1])==null?void 0:d.sourceSpan,S=c[m].text,{stripped:T,hasComments:N}=this._stripComments(S),D=this._lexer.tokenize(T);if(N&&T.trim().length===0&&D.length===0){o.push(Rs("Interpolation expression cannot only contain a comment",e,`at column ${c[m].start} in`,n));continue}let b=new Br(g?S:e,g||n,r,D,0,o,p[m],this._supportsDirectPipeReferences).parseChain();u.push(b)}return this.createInterpolationAst(l.map(m=>m.text),u,e,tr(n),r,o)}parseInterpolationExpression(e,n,r){let{stripped:s}=this._stripComments(e),i=this._lexer.tokenize(s),o=[],l=new Br(e,n,r,i,0,o,0,this._supportsDirectPipeReferences).parseChain(),c=["",""];return this.createInterpolationAst(c,[l],e,tr(n),r,o)}createInterpolationAst(e,n,r,s,i,o){let l=new fr(0,r.length),c=new Yn(l,l.toAbsolute(i),e,n);return new Se(c,r,s,i,o)}splitInterpolation(e,n,r,s,i=Vt){var T;let o=[],l=[],c=[],p=s?Hx(s):null,u=0,d=!1,m=!1,{start:g,end:S}=i;for(;u<e.length;)if(d){let N=u,D=N+g.length,b=this._getInterpolationEndIndex(e,S,D);if(b===-1){d=!1,m=!0;break}let U=b+S.length,O=e.substring(D,b);O.trim().length===0&&r.push(Rs("Blank expressions are not allowed in interpolated strings",e,`at column ${u} in`,n)),l.push({text:O,start:N,end:U});let ne=((T=p==null?void 0:p.get(N))!=null?T:N)+g.length;c.push(ne),u=U,d=!1}else{let N=u;u=e.indexOf(g,u),u===-1&&(u=e.length);let D=e.substring(N,u);o.push({text:D,start:N,end:u}),d=!0}if(!d)if(m){let N=o[o.length-1];N.text+=e.substring(u),N.end=e.length}else o.push({text:e.substring(u),start:u,end:e.length});return new tu(o,l,c)}wrapLiteralPrimitive(e,n,r){let s=new fr(0,e==null?0:e.length);return new Se(new St(s,s.toAbsolute(r),e),e,typeof n=="string"?n:tr(n),r,[])}_stripComments(e){let n=this._commentStart(e);return n!=null?{stripped:e.substring(0,n),hasComments:!0}:{stripped:e,hasComments:!1}}_commentStart(e){let n=null;for(let r=0;r<e.length-1;r++){let s=e.charCodeAt(r),i=e.charCodeAt(r+1);if(s===rn&&i==rn&&n==null)return r;n===s?n=null:n==null&&Ni(s)&&(n=s)}return null}_checkNoInterpolation(e,n,r,{start:s,end:i}){let o=-1,l=-1;for(let c of this._forEachUnquotedChar(n,0))if(o===-1)n.startsWith(s)&&(o=c);else if(l=this._getInterpolationEndIndex(n,i,c),l>-1)break;o>-1&&l>-1&&e.push(Rs(`Got interpolation (${s}${i}) where expression was expected`,n,`at column ${o} in`,r))}_getInterpolationEndIndex(e,n,r){for(let s of this._forEachUnquotedChar(e,r)){if(e.startsWith(n,s))return s;if(e.startsWith("//",s))return e.indexOf(n,s)}return-1}*_forEachUnquotedChar(e,n){let r=null,s=0;for(let i=n;i<e.length;i++){let o=e[i];Ni(e.charCodeAt(i))&&(r===null||r===o)&&s%2===0?r=r===null?o:null:r===null&&(yield i),s=o==="\\"?s+1:0}}},ks;(function(t){t[t.None=0]="None",t[t.Writable=1]="Writable"})(ks||(ks={}));var Br=class{constructor(e,n,r,s,i,o,l,c){a(this,"input");a(this,"parseSourceSpan");a(this,"absoluteOffset");a(this,"tokens");a(this,"parseFlags");a(this,"errors");a(this,"offset");a(this,"supportsDirectPipeReferences");a(this,"rparensExpected",0);a(this,"rbracketsExpected",0);a(this,"rbracesExpected",0);a(this,"context",ks.None);a(this,"sourceSpanCache",new Map);a(this,"index",0);this.input=e,this.parseSourceSpan=n,this.absoluteOffset=r,this.tokens=s,this.parseFlags=i,this.errors=o,this.offset=l,this.supportsDirectPipeReferences=c}peek(e){let n=this.index+e;return n<this.tokens.length?this.tokens[n]:Wo}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,n){let r=this.currentEndIndex;if(n!==void 0&&n>this.currentEndIndex&&(r=n),e>r){let s=r;r=e,e=s}return new fr(e,r)}sourceSpan(e,n){let r=`${e}@${this.inputIndex}:${n}`;return this.sourceSpanCache.has(r)||this.sourceSpanCache.set(r,this.span(e,n).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(r)}advance(){this.index++}withContext(e,n){this.context|=e;let r=n();return this.context^=e,r}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}isAssignmentOperator(e){return e.type===K.Operator&&we.isAssignmentOperation(e.strValue)}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===Wo?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],n=this.inputIndex;for(;this.index<this.tokens.length;){let r=this.parsePipe();if(e.push(r),this.consumeOptionalCharacter(kt))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(kt););else if(this.index<this.tokens.length){let s=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===s)break}}if(e.length===0){let r=this.offset,s=this.offset+this.input.length;return new et(this.span(r,s),this.sourceSpan(r,s))}return e.length==1?e[0]:new dr(this.span(n),this.sourceSpan(n),e)}parsePipe(){let e=this.inputIndex,n=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let r=this.inputIndex,s=this.expectIdentifierOrKeyword(),i,o;s!==null?i=this.sourceSpan(r):(s="",o=this.next.index!==-1?this.next.index:this.input.length+this.offset,i=new fr(o,o).toAbsolute(this.absoluteOffset));let l=[];for(;this.consumeOptionalCharacter(Pn);)l.push(this.parseExpression());let c;if(this.supportsDirectPipeReferences){let p=s.charCodeAt(0);c=p===Dr||p>=Ir&&p<=oi?Ls.ReferencedDirectly:Ls.ReferencedByName}else c=Ls.ReferencedByName;n=new Jr(this.span(e),this.sourceSpan(e,o),n,s,l,c,i)}while(this.consumeOptionalOperator("|"))}return n}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,n=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let r=this.parsePipe(),s;if(this.consumeOptionalCharacter(Pn))s=this.parsePipe();else{let i=this.inputIndex,o=this.input.substring(e,i);this.error(`Conditional expression ${o} requires all 3 expressions`),s=new et(this.span(e),this.sourceSpan(e))}return new js(this.span(e),this.sourceSpan(e),n,r,s)}else return n}parseLogicalOr(){let e=this.inputIndex,n=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let r=this.parseLogicalAnd();n=new we(this.span(e),this.sourceSpan(e),"||",n,r)}return n}parseLogicalAnd(){let e=this.inputIndex,n=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let r=this.parseNullishCoalescing();n=new we(this.span(e),this.sourceSpan(e),"&&",n,r)}return n}parseNullishCoalescing(){let e=this.inputIndex,n=this.parseEquality();for(;this.consumeOptionalOperator("??");){let r=this.parseEquality();n=new we(this.span(e),this.sourceSpan(e),"??",n,r)}return n}parseEquality(){let e=this.inputIndex,n=this.parseRelational();for(;this.next.type==K.Operator;){let r=this.next.strValue;switch(r){case"==":case"===":case"!=":case"!==":this.advance();let s=this.parseRelational();n=new we(this.span(e),this.sourceSpan(e),r,n,s);continue}break}return n}parseRelational(){let e=this.inputIndex,n=this.parseAdditive();for(;this.next.type==K.Operator||this.next.isKeywordIn;){let r=this.next.strValue;switch(r){case"<":case">":case"<=":case">=":case"in":this.advance();let s=this.parseAdditive();n=new we(this.span(e),this.sourceSpan(e),r,n,s);continue}break}return n}parseAdditive(){let e=this.inputIndex,n=this.parseMultiplicative();for(;this.next.type==K.Operator;){let r=this.next.strValue;switch(r){case"+":case"-":this.advance();let s=this.parseMultiplicative();n=new we(this.span(e),this.sourceSpan(e),r,n,s);continue}break}return n}parseMultiplicative(){let e=this.inputIndex,n=this.parseExponentiation();for(;this.next.type==K.Operator;){let r=this.next.strValue;switch(r){case"*":case"%":case"/":this.advance();let s=this.parseExponentiation();n=new we(this.span(e),this.sourceSpan(e),r,n,s);continue}break}return n}parseExponentiation(){let e=this.inputIndex,n=this.parsePrefix();for(;this.next.type==K.Operator&&this.next.strValue==="**";){(n instanceof Ms||n instanceof Nn||n instanceof Hi||n instanceof Gi)&&this.error("Unary operator used immediately before exponentiation expression. Parenthesis must be used to disambiguate operator precedence"),this.advance();let r=this.parseExponentiation();n=new we(this.span(e),this.sourceSpan(e),"**",n,r)}return n}parsePrefix(){if(this.next.type==K.Operator){let e=this.inputIndex,n=this.next.strValue,r;switch(n){case"+":return this.advance(),r=this.parsePrefix(),Ms.createPlus(this.span(e),this.sourceSpan(e),r);case"-":return this.advance(),r=this.parsePrefix(),Ms.createMinus(this.span(e),this.sourceSpan(e),r);case"!":return this.advance(),r=this.parsePrefix(),new Nn(this.span(e),this.sourceSpan(e),r)}}else if(this.next.isKeywordTypeof()){this.advance();let e=this.inputIndex,n=this.parsePrefix();return new Hi(this.span(e),this.sourceSpan(e),n)}else if(this.next.isKeywordVoid()){this.advance();let e=this.inputIndex,n=this.parsePrefix();return new Gi(this.span(e),this.sourceSpan(e),n)}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,n=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(wi))n=this.parseAccessMember(n,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(ln)?n=this.parseCall(n,e,!0):n=this.consumeOptionalCharacter(cr)?this.parseKeyedReadOrWrite(n,e,!0):this.parseAccessMember(n,e,!0);else if(this.consumeOptionalCharacter(cr))n=this.parseKeyedReadOrWrite(n,e,!1);else if(this.consumeOptionalCharacter(ln))n=this.parseCall(n,e,!1);else if(this.consumeOptionalOperator("!"))n=new qi(this.span(e),this.sourceSpan(e),n);else if(this.next.isTemplateLiteralEnd())n=this.parseNoInterpolationTaggedTemplateLiteral(n,e);else if(this.next.isTemplateLiteralPart())n=this.parseTaggedTemplateLiteral(n,e);else return n}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(ln)){this.rparensExpected++;let n=this.parsePipe();return this.consumeOptionalCharacter(it)||(this.error("Missing closing parentheses"),this.consumeOptionalCharacter(it)),this.rparensExpected--,new Ki(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isKeywordNull())return this.advance(),new St(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new St(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new St(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new St(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordIn())return this.advance(),new St(this.span(e),this.sourceSpan(e),"in");if(this.next.isKeywordThis())return this.advance(),new Gn(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(cr)){this.rbracketsExpected++;let n=this.parseExpressionList(Vr);return this.rbracketsExpected--,this.expectCharacter(Vr),new ha(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isCharacter(an))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new ft(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let n=this.next.toNumber();return this.advance(),new St(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isTemplateLiteralEnd())return this.parseNoInterpolationTemplateLiteral();if(this.next.isTemplateLiteralPart())return this.parseTemplateLiteral();if(this.next.isString()&&this.next.kind===ur.Plain){let n=this.next.toString();return this.advance(),new St(this.span(e),this.sourceSpan(e),n)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new et(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new et(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new et(this.span(e),this.sourceSpan(e)))}}}}parseExpressionList(e){let n=[];do if(!this.next.isCharacter(e))n.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(qt));return n}parseLiteralMap(){let e=[],n=[],r=this.inputIndex;if(this.expectCharacter(an),!this.consumeOptionalCharacter(Et)){this.rbracesExpected++;do{let s=this.inputIndex,i=this.next.isString(),o=this.expectIdentifierOrKeywordOrString(),l={key:o,quoted:i};if(e.push(l),i)this.expectCharacter(Pn),n.push(this.parsePipe());else if(this.consumeOptionalCharacter(Pn))n.push(this.parsePipe());else{l.isShorthandInitialized=!0;let c=this.span(s),p=this.sourceSpan(s);n.push(new de(c,p,p,new ft(c,p),o))}}while(this.consumeOptionalCharacter(qt)&&!this.next.isCharacter(Et));this.rbracesExpected--,this.expectCharacter(Et)}return new fa(this.span(r),this.sourceSpan(r),e,n)}parseAccessMember(e,n,r){let s=this.inputIndex,i=this.withContext(ks.Writable,()=>{var c;let l=(c=this.expectIdentifierOrKeyword())!=null?c:"";return l.length===0&&this.error("Expected identifier for property access",e.span.end),l}),o=this.sourceSpan(s);if(r)return this.isAssignmentOperator(this.next)?(this.advance(),this.error("The '?.' operator cannot be used in the assignment"),new et(this.span(n),this.sourceSpan(n))):new We(this.span(n),this.sourceSpan(n),o,e,i);if(this.isAssignmentOperator(this.next)){let l=this.next.strValue;if(!(this.parseFlags&1))return this.advance(),this.error("Bindings cannot contain assignments"),new et(this.span(n),this.sourceSpan(n));let c=new de(this.span(n),this.sourceSpan(n),o,e,i);this.advance();let p=this.parseConditional();return new we(this.span(n),this.sourceSpan(n),l,c,p)}else return new de(this.span(n),this.sourceSpan(n),o,e,i)}parseCall(e,n,r){let s=this.inputIndex;this.rparensExpected++;let i=this.parseCallArguments(),o=this.span(s,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(it),this.rparensExpected--;let l=this.span(n),c=this.sourceSpan(n);return r?new zt(l,c,e,i,o):new Ct(l,c,e,i,o)}parseCallArguments(){if(this.next.isCharacter(it))return[];let e=[];do e.push(this.parsePipe());while(this.consumeOptionalCharacter(qt));return e}expectTemplateBindingKey(){let e="",n=!1,r=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),n=this.consumeOptionalOperator("-"),n&&(e+="-");while(n);return{source:e,span:new Ye(r,r+e.length)}}parseTemplateBindings(e){let n=[];for(n.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let r=this.parseLetBinding();if(r)n.push(r);else{let s=this.expectTemplateBindingKey(),i=this.parseAsBinding(s);i?n.push(i):(s.source=e.source+s.source.charAt(0).toUpperCase()+s.source.substring(1),n.push(...this.parseDirectiveKeywordBindings(s)))}this.consumeStatementTerminator()}return new nu(n,[],this.errors)}parseKeyedReadOrWrite(e,n,r){return this.withContext(ks.Writable,()=>{this.rbracketsExpected++;let s=this.parsePipe();if(s instanceof et&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(Vr),this.isAssignmentOperator(this.next)){let i=this.next.strValue;if(r)this.advance(),this.error("The '?.' operator cannot be used in the assignment");else{let o=new mr(this.span(n),this.sourceSpan(n),e,s);this.advance();let l=this.parseConditional();return new we(this.span(n),this.sourceSpan(n),i,o,l)}}else return r?new gr(this.span(n),this.sourceSpan(n),e,s):new mr(this.span(n),this.sourceSpan(n),e,s);return new et(this.span(n),this.sourceSpan(n))})}parseDirectiveKeywordBindings(e){let n=[];this.consumeOptionalCharacter(Pn);let r=this.getDirectiveBoundTarget(),s=this.currentAbsoluteOffset,i=this.parseAsBinding(e);i||(this.consumeStatementTerminator(),s=this.currentAbsoluteOffset);let o=new Ye(e.span.start,s);return n.push(new vc(o,e,r)),i&&n.push(i),n}getDirectiveBoundTarget(){if(this.next===Wo||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:n,end:r}=e.span,s=this.input.substring(n,r);return new Se(e,s,tr(this.parseSourceSpan),this.absoluteOffset+n,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let n=this.expectTemplateBindingKey();this.consumeStatementTerminator();let r=new Ye(e.span.start,this.currentAbsoluteOffset);return new zi(r,n,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let n=this.expectTemplateBindingKey(),r=null;this.consumeOptionalOperator("=")&&(r=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let s=new Ye(e,this.currentAbsoluteOffset);return new zi(s,n,r)}parseNoInterpolationTaggedTemplateLiteral(e,n){let r=this.parseNoInterpolationTemplateLiteral();return new Wi(this.span(n),this.sourceSpan(n),e,r)}parseNoInterpolationTemplateLiteral(){let e=this.next.strValue,n=this.inputIndex;this.advance();let r=this.span(n),s=this.sourceSpan(n);return new ji(r,s,[new da(r,s,e)],[])}parseTaggedTemplateLiteral(e,n){let r=this.parseTemplateLiteral();return new Wi(this.span(n),this.sourceSpan(n),e,r)}parseTemplateLiteral(){let e=[],n=[],r=this.inputIndex;for(;this.next!==Wo;){let s=this.next;if(s.isTemplateLiteralPart()||s.isTemplateLiteralEnd()){let i=this.inputIndex;if(this.advance(),e.push(new da(this.span(i),this.sourceSpan(i),s.strValue)),s.isTemplateLiteralEnd())break}else if(s.isTemplateLiteralInterpolationStart()){this.advance();let i=this.parsePipe();i instanceof et?this.error("Template literal interpolation cannot be empty"):n.push(i)}else this.advance()}return new ji(this.span(r),this.sourceSpan(r),e,n)}consumeStatementTerminator(){this.consumeOptionalCharacter(kt)||this.consumeOptionalCharacter(qt)}error(e,n=this.index){this.errors.push(Rs(e,this.input,this.getErrorLocationText(n),this.parseSourceSpan)),this.skip()}getErrorLocationText(e){return e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,n){let r=`Private identifiers are not supported. Unexpected private identifier: ${e}`;n!==null&&(r+=`, ${n}`),this.error(r)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(kt)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(it))&&(this.rbracesExpected<=0||!e.isCharacter(Et))&&(this.rbracketsExpected<=0||!e.isCharacter(Vr))&&(!(this.context&ks.Writable)||!this.isAssignmentOperator(e));)this.next.isError()&&this.errors.push(Rs(this.next.toString(),this.input,this.getErrorLocationText(this.next.index),this.parseSourceSpan)),this.advance(),e=this.next}};function Rs(t,e,n,r){n.length>0&&(n=` ${n} `);let s=tr(r),i=`Parser Error: ${t}${n}[${e}] in ${s}`;return new V(r,i)}var ru=class extends Ks{constructor(){super(...arguments);a(this,"errors",[])}visitPipe(){this.errors.push("pipes")}};function Hx(t){let e=new Map,n=0,r=0,s=0;for(;s<t.length;){let i=t[s];if(i.type===9){let[o,l]=i.parts;n+=l.length,r+=o.length}else{let o=i.parts.reduce((l,c)=>l+c.length,0);r+=o,n+=o}e.set(r,n),s++}return e}function Gx(t){return t.visit(new su)}var su=class{visitUnary(e,n){return`${e.operator}${e.expr.visit(this,n)}`}visitBinary(e,n){return`${e.left.visit(this,n)} ${e.operation} ${e.right.visit(this,n)}`}visitChain(e,n){return e.expressions.map(r=>r.visit(this,n)).join("; ")}visitConditional(e,n){return`${e.condition.visit(this,n)} ? ${e.trueExp.visit(this,n)} : ${e.falseExp.visit(this,n)}`}visitThisReceiver(){return"this"}visitImplicitReceiver(){return""}visitInterpolation(e,n){return Wx(e.strings,e.expressions.map(r=>r.visit(this,n))).join("")}visitKeyedRead(e,n){return`${e.receiver.visit(this,n)}[${e.key.visit(this,n)}]`}visitLiteralArray(e,n){return`[${e.expressions.map(r=>r.visit(this,n)).join(", ")}]`}visitLiteralMap(e,n){return`{${qx(e.keys.map(r=>r.quoted?`'${r.key}'`:r.key),e.values.map(r=>r.visit(this,n))).map(([r,s])=>`${r}: ${s}`).join(", ")}}`}visitLiteralPrimitive(e){if(e.value===null)return"null";switch(typeof e.value){case"number":case"boolean":return e.value.toString();case"undefined":return"undefined";case"string":return`'${e.value.replace(/'/g,"\\'")}'`;default:throw new Error(`Unsupported primitive type: ${e.value}`)}}visitPipe(e,n){return`${e.exp.visit(this,n)} | ${e.name}`}visitPrefixNot(e,n){return`!${e.expression.visit(this,n)}`}visitNonNullAssert(e,n){return`${e.expression.visit(this,n)}!`}visitPropertyRead(e,n){return e.receiver instanceof ft?e.name:`${e.receiver.visit(this,n)}.${e.name}`}visitSafePropertyRead(e,n){return`${e.receiver.visit(this,n)}?.${e.name}`}visitSafeKeyedRead(e,n){return`${e.receiver.visit(this,n)}?.[${e.key.visit(this,n)}]`}visitCall(e,n){return`${e.receiver.visit(this,n)}(${e.args.map(r=>r.visit(this,n)).join(", ")})`}visitSafeCall(e,n){return`${e.receiver.visit(this,n)}?.(${e.args.map(r=>r.visit(this,n)).join(", ")})`}visitTypeofExpression(e,n){return`typeof ${e.expression.visit(this,n)}`}visitVoidExpression(e,n){return`void ${e.expression.visit(this,n)}`}visitASTWithSource(e,n){return e.ast.visit(this,n)}visitTemplateLiteral(e,n){let r="";for(let s=0;s<e.elements.length;s++){r+=e.elements[s].visit(this,n);let i=s<e.expressions.length?e.expressions[s]:null;i!==null&&(r+="${"+i.visit(this,n)+"}")}return"`"+r+"`"}visitTemplateLiteralElement(e,n){return e.text}visitTaggedTemplateLiteral(e,n){return e.tag.visit(this,n)+e.template.visit(this,n)}visitParenthesizedExpression(e,n){return"("+e.expression.visit(this,n)+")"}};function qx(t,e){if(t.length!==e.length)throw new Error("Array lengths must match");return t.map((n,r)=>[n,e[r]])}function Wx(t,e){let n=[];for(let r=0;r<Math.max(t.length,e.length);r++)r<t.length&&n.push(t[r]),r<e.length&&n.push(e[r]);return n}var ia;function Xh(){return ia||(ia={},jo(pe.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),jo(pe.STYLE,["*|style"]),jo(pe.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","input|src","ins|cite","q|cite","source|src","track|src","video|poster","video|src"]),jo(pe.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),ia}function jo(t,e){for(let n of e)ia[n.toLowerCase()]=t}var jx=new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]);function Kx(t){return jx.has(t.toLowerCase())}var iu=class{},zx="boolean",Yx="number",Xx="string",Qx="object",Jx=["[Element]|textContent,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColSpan,%ariaCurrent,%ariaDescription,%ariaDisabled,%ariaExpanded,%ariaHasPopup,%ariaHidden,%ariaKeyShortcuts,%ariaLabel,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,!inert,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,search,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","selectedcontent^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","search^[HTMLELement]|","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|",":math:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforeinput,*beforematch,*beforetoggle,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contentvisibilityautostatechange,*contextlost,*contextmenu,*contextrestored,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*scrollend,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":math:math^:math:|",":math:maction^:math:|",":math:menclose^:math:|",":math:merror^:math:|",":math:mfenced^:math:|",":math:mfrac^:math:|",":math:mi^:math:|",":math:mmultiscripts^:math:|",":math:mn^:math:|",":math:mo^:math:|",":math:mover^:math:|",":math:mpadded^:math:|",":math:mphantom^:math:|",":math:mroot^:math:|",":math:mrow^:math:|",":math:ms^:math:|",":math:mspace^:math:|",":math:msqrt^:math:|",":math:mstyle^:math:|",":math:msub^:math:|",":math:msubsup^:math:|",":math:msup^:math:|",":math:mtable^:math:|",":math:mtd^:math:|",":math:mtext^:math:|",":math:mtr^:math:|",":math:munder^:math:|",":math:munderover^:math:|",":math:semantics^:math:|"],cm=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex","aria-atomic":"ariaAtomic","aria-autocomplete":"ariaAutoComplete","aria-busy":"ariaBusy","aria-checked":"ariaChecked","aria-colcount":"ariaColCount","aria-colindex":"ariaColIndex","aria-colspan":"ariaColSpan","aria-current":"ariaCurrent","aria-disabled":"ariaDisabled","aria-expanded":"ariaExpanded","aria-haspopup":"ariaHasPopup","aria-hidden":"ariaHidden","aria-invalid":"ariaInvalid","aria-keyshortcuts":"ariaKeyShortcuts","aria-label":"ariaLabel","aria-level":"ariaLevel","aria-live":"ariaLive","aria-modal":"ariaModal","aria-multiline":"ariaMultiLine","aria-multiselectable":"ariaMultiSelectable","aria-orientation":"ariaOrientation","aria-placeholder":"ariaPlaceholder","aria-posinset":"ariaPosInSet","aria-pressed":"ariaPressed","aria-readonly":"ariaReadOnly","aria-required":"ariaRequired","aria-roledescription":"ariaRoleDescription","aria-rowcount":"ariaRowCount","aria-rowindex":"ariaRowIndex","aria-rowspan":"ariaRowSpan","aria-selected":"ariaSelected","aria-setsize":"ariaSetSize","aria-sort":"ariaSort","aria-valuemax":"ariaValueMax","aria-valuemin":"ariaValueMin","aria-valuenow":"ariaValueNow","aria-valuetext":"ariaValueText"})),Zx=Array.from(cm).reduce((t,[e,n])=>(t.set(e,n),t),new Map),yn=class extends iu{constructor(){super();a(this,"_schema",new Map);a(this,"_eventSchema",new Map);Jx.forEach(n=>{let r=new Map,s=new Set,[i,o]=n.split("|"),l=o.split(","),[c,p]=i.split("^");c.split(",").forEach(d=>{this._schema.set(d.toLowerCase(),r),this._eventSchema.set(d.toLowerCase(),s)});let u=p&&this._schema.get(p.toLowerCase());if(u){for(let[d,m]of u)r.set(d,m);for(let d of this._eventSchema.get(p.toLowerCase()))s.add(d)}l.forEach(d=>{if(d.length>0)switch(d[0]){case"*":s.add(d.substring(1));break;case"!":r.set(d.substring(1),zx);break;case"#":r.set(d.substring(1),Yx);break;case"%":r.set(d.substring(1),Qx);break;default:r.set(d,Xx)}})})}hasProperty(n,r,s){if(s.some(o=>o.name===ac.name))return!0;if(n.indexOf("-")>-1){if(mh(n)||Ec(n))return!1;if(s.some(o=>o.name===oc.name))return!0}return(this._schema.get(n.toLowerCase())||this._schema.get("unknown")).has(r)}hasElement(n,r){return r.some(s=>s.name===ac.name)||n.indexOf("-")>-1&&(mh(n)||Ec(n)||r.some(s=>s.name===oc.name))?!0:this._schema.has(n.toLowerCase())}securityContext(n,r,s){s&&(r=this.getMappedPropName(r)),n=n.toLowerCase(),r=r.toLowerCase();let i=Xh()[n+"|"+r];return i||(i=Xh()["*|"+r],i||pe.NONE)}getMappedPropName(n){var r;return(r=cm.get(n))!=null?r:n}getDefaultComponentElementName(){return"ng-component"}validateProperty(n){return n.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${n}' is disallowed for security reasons, please use (${n.slice(2)})=...
If '${n}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(n){return n.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${n}' is disallowed for security reasons, please use (${n.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(n){let r=this._schema.get(n.toLowerCase())||this._schema.get("unknown");return Array.from(r.keys()).map(s=>{var i;return(i=Zx.get(s))!=null?i:s})}allKnownEventsOfElement(n){var r;return Array.from((r=this._eventSchema.get(n.toLowerCase()))!=null?r:[])}normalizeAnimationStyleProperty(n){return ZS(n)}normalizeAnimationStyleValue(n,r,s){let i="",o=s.toString().trim(),l=null;if(eC(n)&&s!==0&&s!=="0")if(typeof s=="number")i="px";else{let c=s.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&c[1].length==0&&(l=`Please provide a CSS unit value for ${r}:${s}`)}return{error:l,value:o+i}}};function eC(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var Q=class{constructor({closedByChildren:e,implicitNamespacePrefix:n,contentType:r=on.PARSABLE_DATA,closedByParent:s=!1,isVoid:i=!1,ignoreFirstLf:o=!1,preventNamespaceInheritance:l=!1,canSelfClose:c=!1}={}){a(this,"closedByChildren",{});a(this,"contentType");a(this,"closedByParent",!1);a(this,"implicitNamespacePrefix");a(this,"isVoid");a(this,"ignoreFirstLf");a(this,"canSelfClose");a(this,"preventNamespaceInheritance");e&&e.length>0&&e.forEach(p=>this.closedByChildren[p]=!0),this.isVoid=i,this.closedByParent=s||i,this.implicitNamespacePrefix=n||null,this.contentType=r,this.ignoreFirstLf=o,this.preventNamespaceInheritance=l,this.canSelfClose=c!=null?c:i}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){if(typeof this.contentType=="object"){let n=e===void 0?void 0:this.contentType[e];return n!=null?n:this.contentType.default}return this.contentType}},Qh,xs;function ou(t){var e,n;return xs||(Qh=new Q({canSelfClose:!0}),xs=Object.assign(Object.create(null),{base:new Q({isVoid:!0}),meta:new Q({isVoid:!0}),area:new Q({isVoid:!0}),embed:new Q({isVoid:!0}),link:new Q({isVoid:!0}),img:new Q({isVoid:!0}),input:new Q({isVoid:!0}),param:new Q({isVoid:!0}),hr:new Q({isVoid:!0}),br:new Q({isVoid:!0}),source:new Q({isVoid:!0}),track:new Q({isVoid:!0}),wbr:new Q({isVoid:!0}),p:new Q({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new Q({closedByChildren:["tbody","tfoot"]}),tbody:new Q({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new Q({closedByChildren:["tbody"],closedByParent:!0}),tr:new Q({closedByChildren:["tr"],closedByParent:!0}),td:new Q({closedByChildren:["td","th"],closedByParent:!0}),th:new Q({closedByChildren:["td","th"],closedByParent:!0}),col:new Q({isVoid:!0}),svg:new Q({implicitNamespacePrefix:"svg"}),foreignObject:new Q({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new Q({implicitNamespacePrefix:"math"}),li:new Q({closedByChildren:["li"],closedByParent:!0}),dt:new Q({closedByChildren:["dt","dd"]}),dd:new Q({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new Q({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new Q({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new Q({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new Q({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new Q({closedByChildren:["optgroup"],closedByParent:!0}),option:new Q({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new Q({ignoreFirstLf:!0}),listing:new Q({ignoreFirstLf:!0}),style:new Q({contentType:on.RAW_TEXT}),script:new Q({contentType:on.RAW_TEXT}),title:new Q({contentType:{default:on.ESCAPABLE_RAW_TEXT,svg:on.PARSABLE_DATA}}),textarea:new Q({contentType:on.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),new yn().allKnownElementNames().forEach(r=>{!xs[r]&&Tc(r)===null&&(xs[r]=new Q({canSelfClose:!1}))})),(n=(e=xs[t])!=null?e:xs[t.toLowerCase()])!=null?n:Qh}var Jh={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},au=class{constructor(){a(this,"_placeHolderNameCounts",{});a(this,"_signatureToName",{})}getStartTagPlaceholderName(e,n,r){let s=this._hashTag(e,n,r);if(this._signatureToName[s])return this._signatureToName[s];let i=e.toUpperCase(),o=Jh[i]||`TAG_${i}`,l=this._generateUniqueName(r?o:`START_${o}`);return this._signatureToName[s]=l,l}getCloseTagPlaceholderName(e){let n=this._hashClosingTag(e);if(this._signatureToName[n])return this._signatureToName[n];let r=e.toUpperCase(),s=Jh[r]||`TAG_${r}`,i=this._generateUniqueName(`CLOSE_${s}`);return this._signatureToName[n]=i,i}getPlaceholderName(e,n){let r=e.toUpperCase(),s=`PH: ${r}=${n}`;if(this._signatureToName[s])return this._signatureToName[s];let i=this._generateUniqueName(r);return this._signatureToName[s]=i,i}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}getStartBlockPlaceholderName(e,n){let r=this._hashBlock(e,n);if(this._signatureToName[r])return this._signatureToName[r];let s=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[r]=s,s}getCloseBlockPlaceholderName(e){let n=this._hashClosingBlock(e);if(this._signatureToName[n])return this._signatureToName[n];let r=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[n]=r,r}_hashTag(e,n,r){let s=`<${e}`,i=Object.keys(n).sort().map(l=>` ${l}=${n[l]}`).join(""),o=r?"/>":`></${e}>`;return s+i+o}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_hashBlock(e,n){let r=n.length===0?"":` (${n.sort().join("; ")})`;return`@${e}${r} {}`}_hashClosingBlock(e){return this._hashBlock(`close_${e}`,[])}_toSnakeCase(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;let r=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=r+1,`${e}_${r}`}},tC=new qa(new vo);function nC(t,e,n,r){let s=new lu(tC,t,e,n,r);return(i,o,l,c,p)=>s.toI18nMessage(i,o,l,c,p)}function rC(t,e){return e}var lu=class{constructor(e,n,r,s,i){a(this,"_expressionParser");a(this,"_interpolationConfig");a(this,"_containerBlocks");a(this,"_retainEmptyTokens");a(this,"_preserveExpressionWhitespace");this._expressionParser=e,this._interpolationConfig=n,this._containerBlocks=r,this._retainEmptyTokens=s,this._preserveExpressionWhitespace=i}toI18nMessage(e,n="",r="",s="",i){let o={isIcu:e.length==1&&e[0]instanceof qr,icuDepth:0,placeholderRegistry:new au,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:i||rC},l=me(this,e,o);return new ct(l,o.placeholderToContent,o.placeholderToMessage,n,r,s)}visitElement(e,n){return this._visitElementLike(e,n)}visitComponent(e,n){return this._visitElementLike(e,n)}visitDirective(e,n){throw new Error("Unreachable code")}visitAttribute(e,n){let r=e.valueTokens===void 0||e.valueTokens.length===1?new vi(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,r)}visitText(e,n){let r=e.tokens.length===1?new vi(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,r)}visitComment(e,n){return null}visitExpansion(e,n){n.icuDepth++;let r={},s=new wa(e.switchValue,e.type,r,e.sourceSpan);if(e.cases.forEach(l=>{r[l.value]=new Bn(l.expression.map(c=>c.visit(this,n)),l.expSourceSpan)}),n.icuDepth--,n.isIcu||n.icuDepth>0){let l=n.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return s.expressionPlaceholder=l,n.placeholderToContent[l]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},n.visitNodeFn(e,s)}let i=n.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());n.placeholderToMessage[i]=this.toI18nMessage([e],"","","",void 0);let o=new zs(s,i,e.sourceSpan);return n.visitNodeFn(e,o)}visitExpansionCase(e,n){throw new Error("Unreachable code")}visitBlock(e,n){var c;let r=me(this,e.children,n);if(this._containerBlocks.has(e.name))return new Bn(r,e.sourceSpan);let s=e.parameters.map(p=>p.expression),i=n.placeholderRegistry.getStartBlockPlaceholderName(e.name,s),o=n.placeholderRegistry.getCloseBlockPlaceholderName(e.name);n.placeholderToContent[i]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan},n.placeholderToContent[o]={text:e.endSourceSpan?e.endSourceSpan.toString():"}",sourceSpan:(c=e.endSourceSpan)!=null?c:e.sourceSpan};let l=new Sr(e.name,s,i,o,r,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,l)}visitBlockParameter(e,n){throw new Error("Unreachable code")}visitLetDeclaration(e,n){return null}_visitElementLike(e,n){var d;let r=me(this,e.children,n),s={},i=m=>{s[m.name]=m.value},o,l;e instanceof $t?(o=e.name,l=ou(e.name).isVoid):(o=e.fullName,l=e.tagName?ou(e.tagName).isVoid:!1),e.attrs.forEach(i),e.directives.forEach(m=>m.attrs.forEach(i));let c=n.placeholderRegistry.getStartTagPlaceholderName(o,s,l);n.placeholderToContent[c]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let p="";l||(p=n.placeholderRegistry.getCloseTagPlaceholderName(o),n.placeholderToContent[p]={text:`</${o}>`,sourceSpan:(d=e.endSourceSpan)!=null?d:e.sourceSpan});let u=new vr(o,s,c,p,r,l,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,u)}_visitTextWithInterpolation(e,n,r,s){let i=[],o=!1;for(let l of e)switch(l.type){case 8:case 17:o=!0;let[c,p,u]=l.parts,d=lC(p)||"INTERPOLATION",m=r.placeholderRegistry.getPlaceholderName(d,p);if(this._preserveExpressionWhitespace)r.placeholderToContent[m]={text:l.parts.join(""),sourceSpan:l.sourceSpan},i.push(new eo(p,m,l.sourceSpan));else{let g=this.normalizeExpression(l);r.placeholderToContent[m]={text:`${c}${g}${u}`,sourceSpan:l.sourceSpan},i.push(new eo(g,m,l.sourceSpan))}break;default:if(l.parts[0].length>0||this._retainEmptyTokens){let g=i[i.length-1];g instanceof vi?(g.value+=l.parts[0],g.sourceSpan=new H(g.sourceSpan.start,l.sourceSpan.end,g.sourceSpan.fullStart,g.sourceSpan.details)):i.push(new vi(l.parts[0],l.sourceSpan))}else this._retainEmptyTokens&&i.push(new vi(l.parts[0],l.sourceSpan));break}return o?(sC(i,s),new Bn(i,n)):i[0]}normalizeExpression(e){let n=e.parts[1],r=this._expressionParser.parseBinding(n,e.sourceSpan,e.sourceSpan.start.offset,this._interpolationConfig);return Gx(r)}};function sC(t,e){if(e instanceof ct&&(iC(e),e=e.nodes[0]),e instanceof Bn){oC(e.children,t);for(let n=0;n<t.length;n++)t[n].sourceSpan=e.children[n].sourceSpan}}function iC(t){let e=t.nodes;if(e.length!==1||!(e[0]instanceof Bn))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}function oC(t,e){if(t.length!==e.length)throw new Error(`
The number of i18n message children changed between first and second pass.

First pass (${t.length} tokens):
${t.map(n=>`"${n.sourceSpan.toString()}"`).join(`
`)}

Second pass (${e.length} tokens):
${e.map(n=>`"${n.sourceSpan.toString()}"`).join(`
`)}
    `.trim());if(t.some((n,r)=>e[r].constructor!==n.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}var aC=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function lC(t){return t.split(aC)[2]}var Zh=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function ef(t,e){return t=t.toLowerCase(),e=e.toLowerCase(),Zh.has(t+"|"+e)||Zh.has("*|"+e)}var cC=t=>(e,n)=>{var s;let r=(s=t.get(e))!=null?s:e;return r instanceof Kn&&(n instanceof zs&&r.i18n instanceof ct&&(n.previousMessage=r.i18n),r.i18n=n),n},Wa=class{constructor(e=Vt,n=!1,r=!1,s=RE,i=!0,o=!i){a(this,"interpolationConfig");a(this,"keepI18nAttrs");a(this,"enableI18nLegacyMessageIdFormat");a(this,"containerBlocks");a(this,"preserveSignificantWhitespace");a(this,"retainEmptyTokens");a(this,"hasI18nMeta",!1);a(this,"_errors",[]);this.interpolationConfig=e,this.keepI18nAttrs=n,this.enableI18nLegacyMessageIdFormat=r,this.containerBlocks=s,this.preserveSignificantWhitespace=i,this.retainEmptyTokens=o}_generateI18nMessage(e,n="",r){let{meaning:s,description:i,customId:o}=this._parseMetadata(n),c=nC(this.interpolationConfig,this.containerBlocks,this.retainEmptyTokens,this.preserveSignificantWhitespace)(e,s,i,o,r);return this._setMessageId(c,n),this._setLegacyIds(c,n),c}visitAllWithErrors(e){let n=e.map(r=>r.visit(this,null));return new Ha(n,this._errors)}visitElement(e){return this._visitElementLike(e),e}visitComponent(e,n){return this._visitElementLike(e),e}visitExpansion(e,n){let r,s=e.i18n;if(this.hasI18nMeta=!0,s instanceof zs){let i=s.name;r=this._generateI18nMessage([e],s);let o=vd(r);o.name=i,n!==null&&(n.placeholderToMessage[i]=r)}else r=this._generateI18nMessage([e],n||s);return e.i18n=r,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}visitBlock(e,n){return me(this,e.children,n),e}visitBlockParameter(e,n){return e}visitLetDeclaration(e,n){return e}visitDirective(e,n){return e}_visitElementLike(e){let n;if(NE(e)){this.hasI18nMeta=!0;let r=[],s={};for(let i of e.attrs)if(i.name===gd){let o=e.i18n||i.value,l=new Map,c=this.preserveSignificantWhitespace?e.children:Sn(new Ga(!1,l),e.children);n=this._generateI18nMessage(c,o,cC(l)),n.nodes.length===0&&(n=void 0),e.i18n=n}else if(i.name.startsWith(Ic)){let o=i.name.slice(Ic.length),l;e instanceof vt?l=e.tagName===null?!1:ef(e.tagName,o):l=ef(e.name,o),l?this._reportError(i,`Translating attribute '${o}' is disallowed for security reasons.`):s[o]=i.value}else r.push(i);if(Object.keys(s).length)for(let i of r){let o=s[i.name];o!==void 0&&i.value&&(i.i18n=this._generateI18nMessage([i],i.i18n||o))}this.keepI18nAttrs||(e.attrs=r)}me(this,e.children,n)}_parseMetadata(e){return typeof e=="string"?hC(e):e instanceof ct?e:{}}_setMessageId(e,n){e.id||(e.id=n instanceof ct&&n.id||DS(e))}_setLegacyIds(e,n){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[IS(e),td(e)];else if(typeof n!="string"){let r=n instanceof ct?n:n instanceof zs?n.previousMessage:void 0;e.legacyIds=r?r.legacyIds:[]}}_reportError(e,n){this._errors.push(new V(e.sourceSpan,n))}},uC="|",pC="@@";function hC(t=""){let e,n,r;if(t=t.trim(),t){let s=t.indexOf(pC),i=t.indexOf(uC),o;[o,e]=s>-1?[t.slice(0,s),t.slice(s+2)]:[t,""],[n,r]=i>-1?[o.slice(0,i),o.slice(i+1)]:["",o]}return{customId:e,meaning:n,description:r}}function fC(t){let e=[];return t.description?e.push({tagName:"desc",text:t.description}):e.push({tagName:"suppress",text:"{msgDescriptions}"}),t.meaning&&e.push({tagName:"meaning",text:t.meaning}),ld(e)}var dC="goog.getMsg";function mC(t,e,n,r){let s=yC(e),i=[v(s)];Object.keys(r).length&&(i.push(jc(_u(r,!0),!0)),i.push(jc({original_code:Qe(Object.keys(r).map(c=>({key:Ao(c),quoted:!0,value:e.placeholders[c]?v(e.placeholders[c].sourceSpan.toString()):v(e.placeholderToMessage[c].nodes.map(p=>p.sourceSpan.toString()).join(""))})))})));let o=new Pe(n.name,X(dC).callFn(i),wt,Re.Final);o.addLeadingComment(fC(e));let l=new Lt(t.set(n));return[o,l]}var cu=class{formatPh(e){return`{$${Ao(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){return nm(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}},gC=new cu;function yC(t){return t.nodes.map(e=>e.visit(gC,null)).join("")}function vC(t,e,n){let{messageParts:r,placeHolders:s}=SC(e),i=EC(e),o=s.map(p=>n[p.text]),l=pd(e,r,s,o,i),c=t.set(l);return[new Lt(c)]}var uu=class{constructor(e,n){a(this,"placeholderToMessage");a(this,"pieces");this.placeholderToMessage=e,this.pieces=n}visitText(e){if(this.pieces[this.pieces.length-1]instanceof ar)this.pieces[this.pieces.length-1].text+=e.value;else{let n=new H(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new ar(e.value,n))}}visitContainer(e){e.children.forEach(n=>n.visit(this))}visitIcu(e){this.pieces.push(new ar(nm(e),e.sourceSpan))}visitTagPlaceholder(e){var n,r;this.pieces.push(this.createPlaceholderPiece(e.startName,(n=e.startSourceSpan)!=null?n:e.sourceSpan)),e.isVoid||(e.children.forEach(s=>s.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,(r=e.endSourceSpan)!=null?r:e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitBlockPlaceholder(e){var n,r;this.pieces.push(this.createPlaceholderPiece(e.startName,(n=e.startSourceSpan)!=null?n:e.sourceSpan)),e.children.forEach(s=>s.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,(r=e.endSourceSpan)!=null?r:e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,n,r){return new Hr(Ao(e,!1),n,r)}};function SC(t){let e=[],n=new uu(t.placeholderToMessage,e);return t.nodes.forEach(r=>r.visit(n)),TC(e)}function EC(t){let e=t.nodes[0],n=t.nodes[t.nodes.length-1];return new H(e.sourceSpan.fullStart,n.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}function TC(t){let e=[],n=[];t[0]instanceof Hr&&e.push(ql(t[0].sourceSpan.start));for(let r=0;r<t.length;r++){let s=t[r];s instanceof ar?e.push(s):(n.push(s),t[r-1]instanceof Hr&&e.push(ql(t[r-1].sourceSpan.end)))}return t[t.length-1]instanceof Hr&&e.push(ql(t[t.length-1].sourceSpan.end)),{messageParts:e,placeHolders:n}}function ql(t){return new ar("",new H(t,t))}var tf="ngI18nClosureMode",wC="i18n_",xC="I18N_EXP_",nf="\uFFFD",CC="MSG_";function rf(t){return`${CC}${t}`.toUpperCase()}function AC(t){return new Pe(t.name,void 0,wt,void 0,t.sourceSpan)}function NC(t){var c,p;let e=t.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",n=new Map,r=new Map,s=new Map,i=new Map;for(let u of t.units)for(let d of u.ops())if(d.kind===h.ExtractedAttribute&&d.i18nContext!==null){let m=(c=n.get(d.i18nContext))!=null?c:[];m.push(d),n.set(d.i18nContext,m)}else if(d.kind===h.I18nAttributes)r.set(d.target,d);else if(d.kind===h.I18nExpression&&d.usage===os.I18nAttribute){let m=(p=s.get(d.target))!=null?p:[];m.push(d),s.set(d.target,m)}else d.kind===h.I18nMessage&&i.set(d.xref,d);let o=new Map,l=new Map;for(let u of t.units)for(let d of u.create)if(d.kind===h.I18nMessage){if(d.messagePlaceholder===null){let{mainVar:m,statements:g}=um(t,e,i,d);if(d.i18nBlock!==null){let S=t.addConst(m,g);l.set(d.i18nBlock,S)}else{t.constsInitializers.push(...g),o.set(d.i18nContext,m);let S=n.get(d.i18nContext);if(S!==void 0)for(let T of S)T.expression=m.clone()}}x.remove(d)}for(let u of t.units)for(let d of u.create)if(jn(d)){let m=r.get(d.xref);if(m===void 0)continue;let g=s.get(d.xref);if(g===void 0)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");let S=new Set;g=g.filter(N=>{let D=S.has(N.name);return S.add(N.name),!D});let T=g.flatMap(N=>{let D=o.get(N.context);if(D===void 0)throw new Error("AssertionError: Could not find i18n expression's value");return[v(N.name),D]});m.i18nAttributesConfig=t.addConst(new xt(T))}for(let u of t.units)for(let d of u.create)if(d.kind===h.I18nStart){let m=l.get(d.root);if(m===void 0)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");d.messageIndex=m}}function um(t,e,n,r){var p;let s=[],i=new Map;for(let u of r.subMessages){let d=n.get(u),{mainVar:m,statements:g}=um(t,e,n,d);s.push(...g);let S=(p=i.get(d.messagePlaceholder))!=null?p:[];S.push(m),i.set(d.messagePlaceholder,S)}IC(r,i),r.params=new Map([...r.params.entries()].sort());let o=X(t.pool.uniqueName(wC)),l=_C(t.pool,r.message.id,e,t.i18nUseExternalIds),c;if(r.needsPostprocessing||r.postprocessingParams.size>0){let u=Object.fromEntries([...r.postprocessingParams.entries()].sort()),d=_u(u,!1),m=[];r.postprocessingParams.size>0&&m.push(jc(d,!0)),c=g=>P(f.i18nPostprocess).callFn([g,...m])}return s.push(...DC(r.message,o,l,r.params,c)),{mainVar:o,statements:s}}function IC(t,e){for(let[n,r]of e)r.length===1?t.params.set(n,r[0]):(t.params.set(n,v(`${nf}${xC}${n}${nf}`)),t.postprocessingParams.set(n,ie(r)))}function DC(t,e,n,r,s){let i=Object.fromEntries(r),o=[AC(e),Co(bC(),mC(e,t,n,i),vC(e,t,_u(i,!1)))];return s&&o.push(new Lt(e.set(s(e)))),o}function bC(){return si(X(tf)).notIdentical(v("undefined",il)).and(X(tf))}function _C(t,e,n,r){let s,i=n;if(r){let o=rf("EXTERNAL_"),l=t.uniqueName(i);s=`${o}${Fr(e)}$$${l}`}else{let o=rf(i);s=t.uniqueName(o)}return X(s)}function kC(t){var e,n,r;for(let s of t.units){let i=null,o=null,l=new Map,c=new Map,p=new Map;for(let u of s.create)switch(u.kind){case h.I18nStart:if(u.context===null)throw Error("I18n op should have its context set.");i=u;break;case h.I18nEnd:i=null;break;case h.IcuStart:if(u.context===null)throw Error("Icu op should have its context set.");o=u;break;case h.IcuEnd:o=null;break;case h.Text:if(i!==null)if(l.set(u.xref,i),c.set(u.xref,o),u.icuPlaceholder!==null){let d=sw(t.allocateXrefId(),u.icuPlaceholder,[u.initialValue]);x.replace(u,d),p.set(u.xref,d)}else x.remove(u);break}for(let u of s.update)switch(u.kind){case h.InterpolateText:if(!l.has(u.target))continue;let d=l.get(u.target),m=c.get(u.target),g=p.get(u.target),S=m?m.context:d.context,T=m?Qs.Postproccessing:Qs.Creation,N=[];for(let D=0;D<u.interpolation.expressions.length;D++){let b=u.interpolation.expressions[D];N.push(Gd(S,d.xref,d.xref,d.handle,b,(e=g==null?void 0:g.xref)!=null?e:null,(n=u.interpolation.i18nPlaceholders[D])!=null?n:null,T,os.I18nText,"",(r=b.sourceSpan)!=null?r:u.sourceSpan))}x.replaceWithMany(u,N),g!==void 0&&(g.strings=u.interpolation.strings);break}}}function RC(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case h.ElementStart:case h.ConditionalCreate:case h.ConditionalBranchCreate:case h.Template:if(!Array.isArray(n.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(n.numSlotsUsed+=n.localRefs.length,n.localRefs.length>0){let r=PC(n.localRefs);n.localRefs=t.addConst(r)}else n.localRefs=null;break}}function PC(t){let e=[];for(let n of t)e.push(v(n.name),v(n.target));return ie(e)}function LC(t){for(let e of t.units){let n=Xe.HTML;for(let r of e.create)r.kind===h.ElementStart&&r.namespace!==n&&(x.insertBefore(XT(r.namespace),r),n=r.namespace)}}function MC(t){let e=[],n=0,r=0,s=0,i=0,o=0,l=null;for(;n<t.length;)switch(t.charCodeAt(n++)){case 40:r++;break;case 41:r--;break;case 39:s===0?s=39:s===39&&t.charCodeAt(n-1)!==92&&(s=0);break;case 34:s===0?s=34:s===34&&t.charCodeAt(n-1)!==92&&(s=0);break;case 58:!l&&r===0&&s===0&&(l=pm(t.substring(o,n-1).trim()),i=n);break;case 59:if(l&&i>0&&r===0&&s===0){let p=t.substring(i,n-1).trim();e.push(l,p),o=n,i=0,l=null}break}if(l&&i){let c=t.slice(i).trim();e.push(l,c)}return e}function pm(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function OC(t){let e=new Map;for(let n of t.units)for(let r of n.create)jn(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.create)if(r.kind===h.ExtractedAttribute&&r.bindingKind===R.Attribute&&qd(r.expression)){let s=e.get(r.target);if(s!==void 0&&(s.kind===h.Template||s.kind===h.ConditionalCreate||s.kind===h.ConditionalBranchCreate)&&s.templateKind===ut.Structural)continue;if(r.name==="style"){let i=MC(r.expression.value);for(let o=0;o<i.length-1;o+=2)x.insertBefore(Ht(r.target,R.StyleProperty,null,i[o],v(i[o+1]),null,null,pe.STYLE),r);x.remove(r)}else if(r.name==="class"){let i=r.expression.value.trim().split(/\s+/g);for(let o of i)x.insertBefore(Ht(r.target,R.ClassName,null,o,null,null,null,pe.NONE),r);x.remove(r)}}}function FC(t){Ci(t.root,t.componentName,{index:0},t.compatibility===Nt.TemplateDefinitionBuilder)}function Ci(t,e,n,r){t.fnName===null&&(t.fnName=t.job.pool.uniqueName(Fr(`${e}_${t.job.fnSuffix}`),!1));let s=new Map;for(let i of t.ops())switch(i.kind){case h.Property:case h.DomProperty:i.bindingKind===R.LegacyAnimation&&(i.name="@"+i.name);break;case h.Animation:if(i.handlerFnName===null){let u=i.name.replace(".","");i.handlerFnName=`${t.fnName}_${u}_cb`,i.handlerFnName=Fr(i.handlerFnName)}break;case h.AnimationListener:if(i.handlerFnName!==null)break;if(!i.hostListener&&i.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let o=i.name.replace(".","");i.hostListener?i.handlerFnName=`${e}_${o}_HostBindingHandler`:i.handlerFnName=`${t.fnName}_${i.tag.replace("-","_")}_${o}_${i.targetSlot.slot}_listener`,i.handlerFnName=Fr(i.handlerFnName);break;case h.Listener:if(i.handlerFnName!==null)break;if(!i.hostListener&&i.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let l="";i.isLegacyAnimationListener&&(i.name=`@${i.name}.${i.legacyAnimationPhase}`,l="animation"),i.hostListener?i.handlerFnName=`${e}_${l}${i.name}_HostBindingHandler`:i.handlerFnName=`${t.fnName}_${i.tag.replace("-","_")}_${l}${i.name}_${i.targetSlot.slot}_listener`,i.handlerFnName=Fr(i.handlerFnName);break;case h.TwoWayListener:if(i.handlerFnName!==null)break;if(i.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");i.handlerFnName=Fr(`${t.fnName}_${i.tag.replace("-","_")}_${i.name}_${i.targetSlot.slot}_listener`);break;case h.Variable:s.set(i.xref,BC(t,i.variable,n));break;case h.RepeaterCreate:if(!(t instanceof Gt))throw new Error("AssertionError: must be compiling a component");if(i.handle.slot===null)throw new Error("Expected slot to be assigned");if(i.emptyView!==null){let u=t.job.views.get(i.emptyView);Ci(u,`${e}_${i.functionNameSuffix}Empty_${i.handle.slot+2}`,n,r)}Ci(t.job.views.get(i.xref),`${e}_${i.functionNameSuffix}_${i.handle.slot+1}`,n,r);break;case h.Projection:if(!(t instanceof Gt))throw new Error("AssertionError: must be compiling a component");if(i.handle.slot===null)throw new Error("Expected slot to be assigned");if(i.fallbackView!==null){let u=t.job.views.get(i.fallbackView);Ci(u,`${e}_ProjectionFallback_${i.handle.slot}`,n,r)}break;case h.ConditionalCreate:case h.ConditionalBranchCreate:case h.Template:if(!(t instanceof Gt))throw new Error("AssertionError: must be compiling a component");let c=t.job.views.get(i.xref);if(i.handle.slot===null)throw new Error("Expected slot to be assigned");let p=i.functionNameSuffix.length===0?"":`_${i.functionNameSuffix}`;Ci(c,`${e}${p}_${i.handle.slot}`,n,r);break;case h.StyleProp:i.name=$C(i.name),r&&(i.name=sf(i.name));break;case h.ClassProp:r&&(i.name=sf(i.name));break}for(let i of t.ops())je(i,o=>{if(!(!(o instanceof $n)||o.name!==null)){if(!s.has(o.xref))throw new Error(`Variable ${o.xref} not yet named`);o.name=s.get(o.xref)}})}function BC(t,e,n){if(e.name===null)switch(e.kind){case Be.Context:e.name=`ctx_r${n.index++}`;break;case Be.Identifier:if(t.job.compatibility===Nt.TemplateDefinitionBuilder){let r=e.identifier==="ctx"?"i":"";e.name=`${e.identifier}_${r}r${++n.index}`}else e.name=`${e.identifier}_i${n.index++}`;break;default:e.name=`_r${++n.index}`;break}return e.name}function $C(t){return t.startsWith("--")?t:pm(t)}function sf(t){let e=t.indexOf("!important");return e>-1?t.substring(0,e):t}function UC(t){for(let e of t.units){for(let n of e.create)(n.kind===h.Listener||n.kind===h.Animation||n.kind===h.AnimationListener||n.kind===h.TwoWayListener)&&of(n.handlerOps);of(e.update)}}function of(t){for(let e of t){if(e.kind!==h.Statement||!(e.statement instanceof Lt)||!(e.statement.expr instanceof Da))continue;let n=e.statement.expr.steps,r=!0;for(let s=e.next;s.kind!==h.ListEnd&&r;s=s.next)je(s,(i,o)=>{if(!Dn(i))return i;if(r&&!(o&se.InChildOperation))switch(i.kind){case $.NextContext:i.steps+=n,x.remove(e),r=!1;break;case $.GetCurrentView:case $.Reference:case $.ContextLetReference:r=!1;break}})}}var VC="ng-container";function HC(t){for(let e of t.units){let n=new Set;for(let r of e.create)r.kind===h.ElementStart&&r.tag===VC&&(r.kind=h.ContainerStart,n.add(r.xref)),r.kind===h.ElementEnd&&n.has(r.xref)&&(r.kind=h.ContainerEnd)}}function GC(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function qC(t){let e=new Map;for(let n of t.units)for(let r of n.create)jn(r)&&e.set(r.xref,r);for(let n of t.units)for(let r of n.create)(r.kind===h.ElementStart||r.kind===h.ContainerStart)&&r.nonBindable&&x.insertAfter(jT(r.xref),r),(r.kind===h.ElementEnd||r.kind===h.ContainerEnd)&&GC(e,r.xref).nonBindable&&x.insertBefore(KT(r.xref),r)}function Ln(t){return e=>e.kind===t}function Di(t,e){return n=>n.kind===t&&e===n.expression instanceof Ae}function WC(t){return t.kind===h.Listener&&!(t.hostListener&&t.isLegacyAnimationListener)||t.kind===h.TwoWayListener||t.kind===h.Animation||t.kind===h.AnimationListener}function jC(t){return(t.kind===h.Property||t.kind===h.TwoWayProperty)&&!(t.expression instanceof Ae)}var KC=[{test:t=>t.kind===h.Listener&&t.hostListener&&t.isLegacyAnimationListener},{test:WC}],zC=[{test:Ln(h.StyleMap),transform:ja},{test:Ln(h.ClassMap),transform:ja},{test:Ln(h.StyleProp)},{test:Ln(h.ClassProp)},{test:Di(h.Attribute,!0)},{test:Di(h.Property,!0)},{test:jC},{test:Di(h.Attribute,!1)}],YC=[{test:Di(h.DomProperty,!0)},{test:Di(h.DomProperty,!1)},{test:Ln(h.Attribute)},{test:Ln(h.StyleMap),transform:ja},{test:Ln(h.ClassMap),transform:ja},{test:Ln(h.StyleProp)},{test:Ln(h.ClassProp)}],af=new Set([h.Listener,h.TwoWayListener,h.AnimationListener,h.StyleMap,h.ClassMap,h.StyleProp,h.ClassProp,h.Property,h.TwoWayProperty,h.DomProperty,h.Attribute,h.Animation]);function XC(t){for(let e of t.units){lf(e.create,KC);let n=e.job.kind===_.Host?YC:zC;lf(e.update,n)}}function lf(t,e){let n=[],r=null;for(let s of t){let i=ao(s)?s.target:null;(!af.has(s.kind)||i!==r&&r!==null&&i!==null)&&(x.insertBefore(cf(n,e),s),n=[],r=null),af.has(s.kind)&&(n.push(s),x.remove(s),r=i!=null?i:r)}t.push(cf(n,e))}function cf(t,e){let n=Array.from(e,()=>new Array);for(let r of t){let s=e.findIndex(i=>i.test(r));n[s].push(r)}return n.flatMap((r,s)=>{let i=e[s].transform;return i?i(r):r})}function ja(t){return t.slice(t.length-1)}function QC(t){for(let e of t.units){let n=Uu(e);for(let r of e.ops())switch(r.kind){case h.Binding:let s=ZC(n,r.target);JC(r.name)&&s.kind===h.Projection&&x.remove(r);break}}}function JC(t){return t.toLowerCase()==="select"}function ZC(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an slottable target.");return n}function eA(t){for(let e of t.units)tA(e)}function tA(t){for(let e of t.update)je(e,(n,r)=>{if(Dn(n)&&n.kind===$.PipeBinding){if(r&se.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(t.job.compatibility){if(e.target==null)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");nA(t,e.target,n)}else t.create.push(Qd(n.target,n.targetSlot,n.name))}})}function nA(t,e,n){for(let r=t.create.head.next;r.kind!==h.ListEnd;r=r.next){if(!li(r)||r.xref!==e)continue;for(;r.next.kind===h.Pipe;)r=r.next;let s=Qd(n.target,n.targetSlot,n.name);x.insertBefore(s,r.next);return}throw new Error(`AssertionError: unable to find insertion point for pipe ${n.name}`)}function rA(t){for(let e of t.units)for(let n of e.update)Le(n,r=>!(r instanceof cs)||r.args.length<=4?r:new uo(r.target,r.targetSlot,r.name,ie(r.args),r.args.length),se.None)}function sA(t){hm(t.root,0)}function hm(t,e){let n=null;for(let r of t.create)switch(r.kind){case h.I18nStart:r.subTemplateIndex=e===0?null:e,n=r;break;case h.I18nEnd:n.subTemplateIndex===null&&(e=0),n=null;break;case h.ConditionalCreate:case h.ConditionalBranchCreate:case h.Template:e=Ko(t.job.views.get(r.xref),n,r.i18nPlaceholder,e);break;case h.RepeaterCreate:let s=t.job.views.get(r.xref);e=Ko(s,n,r.i18nPlaceholder,e),r.emptyView!==null&&(e=Ko(t.job.views.get(r.emptyView),n,r.emptyI18nPlaceholder,e));break;case h.Projection:r.fallbackView!==null&&(e=Ko(t.job.views.get(r.fallbackView),n,r.fallbackViewI18nPlaceholder,e));break}return e}function Ko(t,e,n,r){if(n!==void 0){if(e===null)throw Error("Expected template with i18n placeholder to be in an i18n block.");r++,iA(t,e)}return hm(t,r)}function iA(t,e){var n;if(((n=t.create.head.next)==null?void 0:n.kind)!==h.I18nStart){let r=t.job.allocateXrefId();x.insertAfter(ul(r,e.message,e.root,null),t.create.head),x.insertBefore(pl(r,null),t.create.tail)}}function oA(t){for(let e of t.units)for(let n of e.ops())je(n,r=>{if(!(r instanceof ls)||r.body===null)return;let s=new pu(r.args.length);r.fn=t.pool.getSharedConstant(s,r.body),r.body=null})}var pu=class extends Ps{constructor(n){super();a(this,"numArgs");this.numArgs=n}keyOf(n){return n instanceof Js?`param(${n.index})`:super.keyOf(n)}toSharedConstantDeclaration(n,r){let s=[];for(let o=0;o<this.numArgs;o++)s.push(new $e("a"+o));let i=k(r,o=>o instanceof Js?X("a"+o.index):o,se.None);return new Pe(n,new Un(s,i),void 0,Re.Final)}};function aA(t){for(let e of t.units)for(let n of e.update)Le(n,(r,s)=>s&se.InChildOperation?r:r instanceof xt?lA(r):r instanceof fn?cA(r):r,se.None)}function lA(t){let e=[],n=[];for(let r of t.entries)if(r.isConstant())e.push(r);else{let s=n.length;n.push(r),e.push(new Js(s))}return new ls(ie(e),n)}function cA(t){let e=[],n=[];for(let r of t.entries)if(r.value.isConstant())e.push(r);else{let s=n.length;n.push(r.value),e.push(new Yr(r.key,new Js(s),r.quoted))}return new ls(Qe(e),n)}function uA(t,e,n,r,s){return br(f.element,t,e,n,r,s)}function pA(t,e,n,r,s){return br(f.elementStart,t,e,n,r,s)}function br(t,e,n,r,s,i){let o=[v(e)];return n!==null&&o.push(v(n)),s!==null?o.push(v(r),v(s)):r!==null&&o.push(v(r)),j(t,o,i)}function fm(t,e,n,r,s,i,o,l,c){let p=[v(e),n,v(r),v(s),v(i),v(o)];for(l!==null&&(p.push(v(l)),p.push(P(f.templateRefExtractor)));p[p.length-1].isEquivalent(Xr);)p.pop();return j(t,p,c)}function Vu(t,e,n,r,s){let i=[v(e)];return n instanceof Ae?i.push(ci(n,s)):i.push(n),r!==null&&i.push(r),j(t,i,s)}function hA(t){return j(f.elementEnd,[],t)}function fA(t,e,n,r){return br(f.elementContainerStart,t,null,e,n,r)}function dA(t,e,n,r){return br(f.elementContainer,t,null,e,n,r)}function mA(){return j(f.elementContainerEnd,[],null)}function gA(t,e,n,r,s,i,o,l){return fm(f.templateCreate,t,e,n,r,s,i,o,l)}function yA(){return j(f.disableBindings,[],null)}function vA(){return j(f.enableBindings,[],null)}function SA(t,e,n,r,s){let i=[v(t),e];return n!==null&&i.push(P(n)),j(r?f.syntheticHostListener:f.listener,i,s)}function uf(t,e){return P(f.twoWayBindingSet).callFn([t,e])}function EA(t,e,n){return j(f.twoWayListener,[v(t),e],n)}function TA(t,e){return j(f.pipe,[v(t),v(e)],null)}function wA(){return j(f.namespaceHTML,[],null)}function xA(){return j(f.namespaceSVG,[],null)}function CA(){return j(f.namespaceMathML,[],null)}function AA(t,e){return j(f.advance,t>1?[v(t)]:[],e)}function NA(t){return P(f.reference).callFn([v(t)])}function IA(t){return P(f.nextContext).callFn(t===1?[]:[v(t)])}function DA(){return P(f.getCurrentView).callFn([])}function bA(t){return P(f.restoreView).callFn([t])}function _A(t){return P(f.resetView).callFn([t])}function kA(t,e,n){let r=[v(t,null)];return e!==""&&r.push(v(e)),j(f.text,r,n)}function RA(t,e,n,r,s,i,o,l,c,p,u){let d=[v(t),v(e),n!=null?n:v(null),v(r),v(s),v(i),o!=null?o:v(null),l!=null?l:v(null),c?P(f.deferEnableTimerScheduling):v(null),v(u)],m;for(;(m=d[d.length-1])!==null&&m instanceof Ie&&m.value===null;)d.pop();return j(f.defer,d,p)}var PA=new Map([[ae.Idle,{none:f.deferOnIdle,prefetch:f.deferPrefetchOnIdle,hydrate:f.deferHydrateOnIdle}],[ae.Immediate,{none:f.deferOnImmediate,prefetch:f.deferPrefetchOnImmediate,hydrate:f.deferHydrateOnImmediate}],[ae.Timer,{none:f.deferOnTimer,prefetch:f.deferPrefetchOnTimer,hydrate:f.deferHydrateOnTimer}],[ae.Hover,{none:f.deferOnHover,prefetch:f.deferPrefetchOnHover,hydrate:f.deferHydrateOnHover}],[ae.Interaction,{none:f.deferOnInteraction,prefetch:f.deferPrefetchOnInteraction,hydrate:f.deferHydrateOnInteraction}],[ae.Viewport,{none:f.deferOnViewport,prefetch:f.deferPrefetchOnViewport,hydrate:f.deferHydrateOnViewport}],[ae.Never,{none:f.deferHydrateNever,prefetch:f.deferHydrateNever,hydrate:f.deferHydrateNever}]]);function LA(t,e,n,r){var i;let s=(i=PA.get(t))==null?void 0:i[n];if(s===void 0)throw new Error(`Unable to determine instruction for trigger ${t}`);return j(s,e.map(o=>v(o)),r)}function MA(t){return j(f.projectionDef,t?[t]:[],null)}function OA(t,e,n,r,s,i,o){let l=[v(t)];return(e!==0||n!==null||r!==null)&&(l.push(v(e)),n!==null&&l.push(n),r!==null&&(n===null&&l.push(v(null)),l.push(X(r),v(s),v(i)))),j(f.projection,l,o)}function FA(t,e,n,r){let s=[v(t),v(e)];return n!==null&&s.push(v(n)),j(f.i18nStart,s,r)}function BA(t,e,n,r,s,i,o,l){let c=[v(t),e,v(n),v(r),v(s),v(i)];for(o!==null&&(c.push(v(o)),c.push(P(f.templateRefExtractor)));c[c.length-1].isEquivalent(Xr);)c.pop();return j(f.conditionalCreate,c,l)}function $A(t,e,n,r,s,i,o,l){let c=[v(t),e,v(n),v(r),v(s),v(i)];for(o!==null&&(c.push(v(o)),c.push(P(f.templateRefExtractor)));c[c.length-1].isEquivalent(Xr);)c.pop();return j(f.conditionalBranchCreate,c,l)}function UA(t,e,n,r,s,i,o,l,c,p,u,d,m,g){let S=[v(t),X(e),v(n),v(r),v(s),v(i),o];return(l||c!==null)&&(S.push(v(l)),c!==null&&(S.push(X(c),v(p),v(u)),(d!==null||m!==null)&&S.push(v(d)),m!==null&&S.push(v(m)))),j(f.repeaterCreate,S,g)}function VA(t,e){return j(f.repeater,[t],e)}function HA(t,e,n){return t==="prefetch"?j(f.deferPrefetchWhen,[e],n):t==="hydrate"?j(f.deferHydrateWhen,[e],n):j(f.deferWhen,[e],n)}function GA(t,e){return j(f.declareLet,[v(t)],e)}function qA(t,e){return P(f.storeLet).callFn([t],e)}function WA(t){return P(f.readContextLet).callFn([v(t)])}function jA(t,e,n,r){let s=[v(t),v(e)];return n&&s.push(v(n)),j(f.i18n,s,r)}function KA(t){return j(f.i18nEnd,[],t)}function zA(t,e){let n=[v(t),v(e)];return j(f.i18nAttributes,n,null)}function YA(t,e,n){return Vu(f.ariaProperty,t,e,null,n)}function XA(t,e,n,r){return Vu(f.property,t,e,n,r)}function QA(t,e,n,r){let s=[v(t),e];return n!==null&&s.push(n),j(f.twoWayProperty,s,r)}function dm(t,e,n,r,s){let i=[v(t)];return e instanceof Ae?i.push(ci(e,s)):i.push(e),(n!==null||r!==null)&&i.push(n!=null?n:v(null)),r!==null&&i.push(v(r)),j(f.attribute,i,null)}function JA(t,e,n,r){let s=[v(t)];return e instanceof Ae?s.push(ci(e,r)):s.push(e),n!==null&&s.push(v(n)),j(f.styleProp,s,r)}function ZA(t,e,n){return j(f.classProp,[v(t),e],n)}function eN(t,e){let n=t instanceof Ae?ci(t,e):t;return j(f.styleMap,[n],e)}function tN(t,e){let n=t instanceof Ae?ci(t,e):t;return j(f.classMap,[n],e)}function nN(t,e,n,r,s){return br(f.domElement,t,e,n,r,s)}function rN(t,e,n,r,s){return br(f.domElementStart,t,e,n,r,s)}function sN(t){return j(f.domElementEnd,[],t)}function iN(t,e,n,r){return br(f.domElementContainerStart,t,null,e,n,r)}function oN(t,e,n,r){return br(f.domElementContainer,t,null,e,n,r)}function aN(){return j(f.domElementContainerEnd,[],null)}function lN(t,e,n,r){let s=[v(t),e];return n!==null&&s.push(P(n)),j(f.domListener,s,r)}function cN(t,e,n,r,s,i,o,l){return fm(f.domTemplate,t,e,n,r,s,i,o,l)}var pf=[f.pipeBind1,f.pipeBind2,f.pipeBind3,f.pipeBind4];function uN(t,e,n){if(n.length<1||n.length>pf.length)throw new Error("pipeBind() argument count out of bounds");let r=pf[n.length-1];return P(r).callFn([v(t),v(e),...n])}function pN(t,e,n){return P(f.pipeBindV).callFn([v(t),v(e),n])}function hN(t,e,n){let r=mm(t,e);return NN(xN,[],r,[],n)}function fN(t,e){return j(f.i18nExp,[t],e)}function dN(t,e){return j(f.i18nApply,[v(t)],e)}function mN(t,e,n,r){return Vu(f.domProperty,t,e,n,r)}function gN(t,e,n,r){let s=[e];n!==null&&s.push(n);let i=t==="enter"?f.animationEnter:f.animationLeave;return j(i,s,r)}function yN(t,e,n,r){let i=[e instanceof Ae?ci(e,r):e];n!==null&&i.push(n);let o=t==="enter"?f.animationEnter:f.animationLeave;return j(o,i,r)}function vN(t,e,n,r){let s=[e],i=t==="enter"?f.animationEnterListener:f.animationLeaveListener;return j(i,s,r)}function SN(t,e,n){return j(f.syntheticHostProperty,[v(t),e],n)}function EN(t,e,n){return Hu(AN,[v(t),e],n,[],null)}function TN(t,e){return j(f.attachSourceLocations,[v(t),e],null)}function mm(t,e){if(t.length<1||e.length!==t.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let n=[];if(e.length===1&&t[0]===""&&t[1]==="")n.push(e[0]);else{let r;for(r=0;r<e.length;r++)n.push(v(t[r]),e[r]);n.push(v(t[r]))}return n}function ci(t,e){let n=mm(t.strings,t.expressions);return Hu(CN,[],n,[],e)}function j(t,e,n){let r=P(t).callFn(e,n);return Jt(new Lt(r,n))}function wN(t,e,n){let r=[t];return e!==null&&r.push(e),j(f.conditional,r,n)}var xN={constant:[f.textInterpolate,f.textInterpolate1,f.textInterpolate2,f.textInterpolate3,f.textInterpolate4,f.textInterpolate5,f.textInterpolate6,f.textInterpolate7,f.textInterpolate8],variable:f.textInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},CN={constant:[f.interpolate,f.interpolate1,f.interpolate2,f.interpolate3,f.interpolate4,f.interpolate5,f.interpolate6,f.interpolate7,f.interpolate8],variable:f.interpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},AN={constant:[f.pureFunction0,f.pureFunction1,f.pureFunction2,f.pureFunction3,f.pureFunction4,f.pureFunction5,f.pureFunction6,f.pureFunction7,f.pureFunction8],variable:f.pureFunctionV,mapping:t=>t};function Hu(t,e,n,r,s){let i=t.mapping(n.length),o=n.at(-1);if(r.length===0&&n.length>1&&o instanceof Ie&&o.value===""&&n.pop(),i<t.constant.length)return P(t.constant[i]).callFn([...e,...n,...r],s);if(t.variable!==null)return P(t.variable).callFn([...e,ie(n),...r],s);throw new Error("AssertionError: unable to call variadic function")}function NN(t,e,n,r,s){return Jt(Hu(t,e,n,r,s).toStmt())}var bi="aria",IN=new Map([["window",f.resolveWindow],["document",f.resolveDocument],["body",f.resolveBody]]),DN=new Map([["class","className"],["for","htmlFor"],["formaction","formAction"],["innerHtml","innerHTML"],["readonly","readOnly"],["tabindex","tabIndex"]]);function bN(t){for(let e of t.units)_N(e,e.create),Gu(e,e.update)}function _N(t,e){var n,r,s,i,o,l,c,p;for(let u of e)switch(Le(u,ym,se.None),u.kind){case h.Text:x.replace(u,kA(u.handle.slot,u.initialValue,u.sourceSpan));break;case h.ElementStart:x.replace(u,t.job.mode===yt.DomOnly?rN(u.handle.slot,u.tag,u.attributes,u.localRefs,u.startSourceSpan):pA(u.handle.slot,u.tag,u.attributes,u.localRefs,u.startSourceSpan));break;case h.Element:x.replace(u,t.job.mode===yt.DomOnly?nN(u.handle.slot,u.tag,u.attributes,u.localRefs,u.wholeSourceSpan):uA(u.handle.slot,u.tag,u.attributes,u.localRefs,u.wholeSourceSpan));break;case h.ElementEnd:x.replace(u,t.job.mode===yt.DomOnly?sN(u.sourceSpan):hA(u.sourceSpan));break;case h.ContainerStart:x.replace(u,t.job.mode===yt.DomOnly?iN(u.handle.slot,u.attributes,u.localRefs,u.startSourceSpan):fA(u.handle.slot,u.attributes,u.localRefs,u.startSourceSpan));break;case h.Container:x.replace(u,t.job.mode===yt.DomOnly?oN(u.handle.slot,u.attributes,u.localRefs,u.wholeSourceSpan):dA(u.handle.slot,u.attributes,u.localRefs,u.wholeSourceSpan));break;case h.ContainerEnd:x.replace(u,t.job.mode===yt.DomOnly?aN():mA());break;case h.I18nStart:x.replace(u,FA(u.handle.slot,u.messageIndex,u.subTemplateIndex,u.sourceSpan));break;case h.I18nEnd:x.replace(u,KA(u.sourceSpan));break;case h.I18n:x.replace(u,jA(u.handle.slot,u.messageIndex,u.subTemplateIndex,u.sourceSpan));break;case h.I18nAttributes:if(u.i18nAttributesConfig===null)throw new Error("AssertionError: i18nAttributesConfig was not set");x.replace(u,zA(u.handle.slot,u.i18nAttributesConfig));break;case h.Template:if(!(t instanceof Gt))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(u.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let d=t.job.views.get(u.xref);x.replace(u,u.templateKind===ut.Block||t.job.mode===yt.DomOnly?cN(u.handle.slot,X(d.fnName),d.decls,d.vars,u.tag,u.attributes,u.localRefs,u.startSourceSpan):gA(u.handle.slot,X(d.fnName),d.decls,d.vars,u.tag,u.attributes,u.localRefs,u.startSourceSpan));break;case h.DisableBindings:x.replace(u,yA());break;case h.EnableBindings:x.replace(u,vA());break;case h.Pipe:x.replace(u,TA(u.handle.slot,u.name));break;case h.DeclareLet:x.replace(u,GA(u.handle.slot,u.sourceSpan));break;case h.AnimationString:x.replace(u,yN(u.animationKind,u.expression,u.sanitizer,u.sourceSpan));break;case h.Animation:let m=zo(t,u.handlerFnName,u.handlerOps,!1);x.replace(u,gN(u.animationKind,m,u.sanitizer,u.sourceSpan));break;case h.AnimationListener:let g=zo(t,u.handlerFnName,u.handlerOps,u.consumesDollarEvent);x.replace(u,vN(u.animationKind,g,null,u.sourceSpan));break;case h.Listener:let S=zo(t,u.handlerFnName,u.handlerOps,u.consumesDollarEvent),T=u.eventTarget?IN.get(u.eventTarget):null;if(T===void 0)throw new Error(`Unexpected global target '${u.eventTarget}' defined for '${u.name}' event. Supported list of global targets: window,document,body.`);x.replace(u,t.job.mode===yt.DomOnly&&!u.hostListener&&!u.isLegacyAnimationListener?lN(u.name,S,T,u.sourceSpan):SA(u.name,S,T,u.hostListener&&u.isLegacyAnimationListener,u.sourceSpan));break;case h.TwoWayListener:x.replace(u,EA(u.name,zo(t,u.handlerFnName,u.handlerOps,!0),u.sourceSpan));break;case h.Variable:if(u.variable.name===null)throw new Error(`AssertionError: unnamed variable ${u.xref}`);x.replace(u,Jt(new Pe(u.variable.name,u.initializer,void 0,Re.Final)));break;case h.Namespace:switch(u.active){case Xe.HTML:x.replace(u,wA());break;case Xe.SVG:x.replace(u,xA());break;case Xe.Math:x.replace(u,CA());break}break;case h.Defer:let N=!!u.loadingMinimumTime||!!u.loadingAfterTime||!!u.placeholderMinimumTime;x.replace(u,RA(u.handle.slot,u.mainSlot.slot,u.resolverFn,(r=(n=u.loadingSlot)==null?void 0:n.slot)!=null?r:null,(i=(s=u.placeholderSlot)==null?void 0:s.slot)!=null?i:null,(l=(o=u.errorSlot)==null?void 0:o.slot)!=null?l:null,u.loadingConfig,u.placeholderConfig,N,u.sourceSpan,u.flags));break;case h.DeferOn:let D=[];switch(u.trigger.kind){case ae.Never:case ae.Idle:case ae.Immediate:break;case ae.Timer:D=[u.trigger.delay];break;case ae.Interaction:case ae.Hover:case ae.Viewport:u.modifier==="hydrate"?D=[]:(D=[(p=(c=u.trigger.targetSlot)==null?void 0:c.slot)!=null?p:null],u.trigger.targetSlotViewSteps!==0&&D.push(u.trigger.targetSlotViewSteps));break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${u.trigger.kind}`)}x.replace(u,LA(u.trigger.kind,D,u.modifier,u.sourceSpan));break;case h.ProjectionDef:x.replace(u,MA(u.def));break;case h.Projection:if(u.handle.slot===null)throw new Error("No slot was assigned for project instruction");let b=null,U=null,O=null;if(u.fallbackView!==null){if(!(t instanceof Gt))throw new Error("AssertionError: must be compiling a component");let Te=t.job.views.get(u.fallbackView);if(Te===void 0)throw new Error("AssertionError: projection had fallback view xref, but fallback view was not found");if(Te.fnName===null||Te.decls===null||Te.vars===null)throw new Error("AssertionError: expected projection fallback view to have been named and counted");b=Te.fnName,U=Te.decls,O=Te.vars}x.replace(u,OA(u.handle.slot,u.projectionSlotIndex,u.attributes,b,U,O,u.sourceSpan));break;case h.ConditionalCreate:if(!(t instanceof Gt))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(u.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let re=t.job.views.get(u.xref);x.replace(u,BA(u.handle.slot,X(re.fnName),re.decls,re.vars,u.tag,u.attributes,u.localRefs,u.startSourceSpan));break;case h.ConditionalBranchCreate:if(!(t instanceof Gt))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(u.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let ne=t.job.views.get(u.xref);x.replace(u,$A(u.handle.slot,X(ne.fnName),ne.decls,ne.vars,u.tag,u.attributes,u.localRefs,u.startSourceSpan));break;case h.RepeaterCreate:if(u.handle.slot===null)throw new Error("No slot was assigned for repeater instruction");if(!(t instanceof Gt))throw new Error("AssertionError: must be compiling a component");let He=t.job.views.get(u.xref);if(He.fnName===null)throw new Error("AssertionError: expected repeater primary view to have been named");let Ge=null,be=null,Lr=null;if(u.emptyView!==null){let Te=t.job.views.get(u.emptyView);if(Te===void 0)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(Te.fnName===null||Te.decls===null||Te.vars===null)throw new Error("AssertionError: expected repeater empty view to have been named and counted");Ge=Te.fnName,be=Te.decls,Lr=Te.vars}x.replace(u,UA(u.handle.slot,He.fnName,u.decls,u.vars,u.tag,u.attributes,PN(t,u),u.usesComponentInstance,Ge,be,Lr,u.emptyTag,u.emptyAttributes,u.wholeSourceSpan));break;case h.SourceLocation:let Mr=ie(u.locations.map(({targetSlot:Te,offset:Fo,line:Bo,column:$o})=>{if(Te.slot===null)throw new Error("No slot was assigned for source location");return ie([v(Te.slot),v(Fo),v(Bo),v($o)])}));x.replace(u,TN(u.templatePath,Mr));break;case h.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${h[u.kind]}`)}}function Gu(t,e){for(let n of e)switch(Le(n,ym,se.None),n.kind){case h.Advance:x.replace(n,AA(n.delta,n.sourceSpan));break;case h.Property:x.replace(n,t.job.mode===yt.DomOnly&&n.bindingKind!==R.LegacyAnimation&&n.bindingKind!==R.Animation?hf(n):RN(n));break;case h.TwoWayProperty:x.replace(n,QA(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case h.StyleProp:x.replace(n,JA(n.name,n.expression,n.unit,n.sourceSpan));break;case h.ClassProp:x.replace(n,ZA(n.name,n.expression,n.sourceSpan));break;case h.StyleMap:x.replace(n,eN(n.expression,n.sourceSpan));break;case h.ClassMap:x.replace(n,tN(n.expression,n.sourceSpan));break;case h.I18nExpression:x.replace(n,fN(n.expression,n.sourceSpan));break;case h.I18nApply:x.replace(n,dN(n.handle.slot,n.sourceSpan));break;case h.InterpolateText:x.replace(n,hN(n.interpolation.strings,n.interpolation.expressions,n.sourceSpan));break;case h.Attribute:x.replace(n,dm(n.name,n.expression,n.sanitizer,n.namespace,n.sourceSpan));break;case h.DomProperty:if(n.expression instanceof Ae)throw new Error("not yet handled");n.bindingKind===R.LegacyAnimation||n.bindingKind===R.Animation?x.replace(n,SN(n.name,n.expression,n.sourceSpan)):x.replace(n,hf(n));break;case h.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);x.replace(n,Jt(new Pe(n.variable.name,n.initializer,void 0,Re.Final)));break;case h.Conditional:if(n.processed===null)throw new Error("Conditional test was not set.");x.replace(n,wN(n.processed,n.contextValue,n.sourceSpan));break;case h.Repeater:x.replace(n,VA(n.collection,n.sourceSpan));break;case h.DeferWhen:x.replace(n,HA(n.modifier,n.expr,n.sourceSpan));break;case h.StoreLet:throw new Error(`AssertionError: unexpected storeLet ${n.declaredName}`);case h.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${h[n.kind]}`)}}function kN(t){return t.charAt(bi.length)!=="-"?bi+"-"+t.slice(bi.length).toLowerCase():t}function gm(t){return t.startsWith(bi)&&t.length>bi.length}function hf(t){var e;return gm(t.name)?dm(kN(t.name),t.expression,null,null,t.sourceSpan):mN((e=DN.get(t.name))!=null?e:t.name,t.expression,t.sanitizer,t.sourceSpan)}function RN(t){return gm(t.name)?YA(t.name,t.expression,t.sourceSpan):XA(t.name,t.expression,t.sanitizer,t.sourceSpan)}function ym(t){if(!Dn(t))return t;switch(t.kind){case $.NextContext:return IA(t.steps);case $.Reference:return NA(t.targetSlot.slot+1+t.offset);case $.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${t.name}`);case $.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case $.RestoreView:if(typeof t.view=="number")throw new Error("AssertionError: unresolved RestoreView");return bA(t.view);case $.ResetView:return _A(t.expr);case $.GetCurrentView:return DA();case $.ReadVariable:if(t.name===null)throw new Error(`Read of unnamed variable ${t.xref}`);return X(t.name);case $.ReadTemporaryExpr:if(t.name===null)throw new Error(`Read of unnamed temporary ${t.xref}`);return X(t.name);case $.AssignTemporaryExpr:if(t.name===null)throw new Error(`Assign of unnamed temporary ${t.xref}`);return X(t.name).set(t.expr);case $.PureFunctionExpr:if(t.fn===null)throw new Error("AssertionError: expected PureFunctions to have been extracted");return EN(t.varOffset,t.fn,t.args);case $.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case $.PipeBinding:return uN(t.targetSlot.slot,t.varOffset,t.args);case $.PipeBindingVariadic:return pN(t.targetSlot.slot,t.varOffset,t.args);case $.SlotLiteralExpr:return v(t.slot.slot);case $.ContextLetReference:return WA(t.targetSlot.slot);case $.StoreLet:return qA(t.value,t.sourceSpan);case $.TrackContext:return X("this");default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${$[t.kind]}`)}}function zo(t,e,n,r){Gu(t,n);let s=[];for(let o of n){if(o.kind!==h.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${h[o.kind]}`);s.push(o.statement)}let i=[];return r&&i.push(new $e("$event")),Hn(i,s,void 0,void 0,e)}function PN(t,e){if(e.trackByFn!==null)return e.trackByFn;let n=[new $e("$index"),new $e("$item")],r;if(e.trackByOps===null)r=e.usesComponentInstance?Hn(n,[new Ue(e.track)]):Kt(n,e.track);else{Gu(t,e.trackByOps);let s=[];for(let i of e.trackByOps){if(i.kind!==h.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${h[i.kind]}`);s.push(i.statement)}r=e.usesComponentInstance||s.length!==1||!(s[0]instanceof Ue)?Hn(n,s):Kt(n,s[0].value)}return e.trackByFn=t.job.pool.getSharedFunctionReference(r,"_forTrack"),e.trackByFn}function LN(t){for(let e of t.units)for(let n of e.update)switch(n.kind){case h.Attribute:case h.Binding:case h.ClassProp:case h.ClassMap:case h.Property:case h.StyleProp:case h.StyleMap:n.expression instanceof po&&x.remove(n);break}}function MN(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case h.I18nContext:x.remove(n);break;case h.I18nStart:n.context=null;break}}function ON(t){for(let e of t.units)for(let n of e.update){if(n.kind!==h.Variable||n.variable.kind!==Be.Identifier||!(n.initializer instanceof lo))continue;let r=n.variable.identifier,s=n;for(;s&&s.kind!==h.ListEnd;)Le(s,i=>i instanceof Ke&&i.name===r?v(void 0):i,se.None),s=s.prev}}function FN(t){for(let e of t.units){let n=new Set;for(let r of e.update)switch(r.kind){case h.I18nExpression:n.add(r.i18nOwner)}for(let r of e.create)switch(r.kind){case h.I18nAttributes:if(n.has(r.xref))continue;x.remove(r)}}}function BN(t){for(let e of t.units)Ka(e,e.create),Ka(e,e.update)}function Ka(t,e){let n=new Map;n.set(t.xref,X("ctx"));for(let r of e)switch(r.kind){case h.Variable:switch(r.variable.kind){case Be.Context:n.set(r.variable.view,new $n(r.xref));break}break;case h.Animation:case h.AnimationListener:case h.Listener:case h.TwoWayListener:Ka(t,r.handlerOps);break;case h.RepeaterCreate:r.trackByOps!==null&&Ka(t,r.trackByOps);break}t===t.job.root&&n.set(t.xref,X("ctx"));for(let r of e)Le(r,s=>{if(s instanceof xr){if(!n.has(s.view))throw new Error(`No context found for reference to view ${s.view} from view ${t.xref}`);return n.get(s.view)}else return s},se.None)}function $N(t){var e;for(let n of t.units)for(let r of n.create)if(r.kind===h.Defer){if(r.resolverFn!==null)continue;if(r.ownResolverFn!==null){if(r.handle.slot===null)throw new Error("AssertionError: slot must be assigned before extracting defer deps functions");let s=(e=n.fnName)==null?void 0:e.replace("_Template","");r.resolverFn=t.pool.getSharedFunctionReference(r.ownResolverFn,`${s}_Defer_${r.handle.slot}_DepsFn`,!1)}}}function UN(t){for(let e of t.units)ff(e.create),ff(e.update)}function ff(t){for(let e of t)(e.kind===h.Listener||e.kind===h.TwoWayListener||e.kind===h.AnimationListener)&&Le(e,n=>n instanceof Ke&&n.name==="$event"?((e.kind===h.Listener||e.kind===h.AnimationListener)&&(e.consumesDollarEvent=!0),new Pt(n.name)):n,se.InChildOperation)}function VN(t){let e=new Map,n=new Map;for(let r of t.units)for(let s of r.create)switch(s.kind){case h.I18nContext:e.set(s.xref,s);break;case h.ElementStart:n.set(s.xref,s);break}En(t,t.root,e,n)}function En(t,e,n,r,s){let i=null,o=new Map;for(let l of e.create)switch(l.kind){case h.I18nStart:if(!l.context)throw Error("Could not find i18n context for i18n op");i={i18nBlock:l,i18nContext:n.get(l.context)};break;case h.I18nEnd:i=null;break;case h.ElementStart:if(l.i18nPlaceholder!==void 0){if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");df(l,i.i18nContext,i.i18nBlock,s),s&&l.i18nPlaceholder.closeName&&o.set(l.xref,s),s=void 0}break;case h.ElementEnd:let c=r.get(l.xref);if(c&&c.i18nPlaceholder!==void 0){if(i===null)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");mf(c,i.i18nContext,i.i18nBlock,o.get(l.xref)),o.delete(l.xref)}break;case h.Projection:if(l.i18nPlaceholder!==void 0){if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");df(l,i.i18nContext,i.i18nBlock,s),mf(l,i.i18nContext,i.i18nBlock,s),s=void 0}if(l.fallbackView!==null){let m=t.views.get(l.fallbackView);if(l.fallbackViewI18nPlaceholder===void 0)En(t,m,n,r);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Yo(t,m,l.handle.slot,l.fallbackViewI18nPlaceholder,i.i18nContext,i.i18nBlock,s),En(t,m,n,r),Xo(t,m,l.handle.slot,l.fallbackViewI18nPlaceholder,i.i18nContext,i.i18nBlock,s),s=void 0}}break;case h.ConditionalCreate:case h.ConditionalBranchCreate:case h.Template:let p=t.views.get(l.xref);if(l.i18nPlaceholder===void 0)En(t,p,n,r);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");l.templateKind===ut.Structural?En(t,p,n,r,l):(Yo(t,p,l.handle.slot,l.i18nPlaceholder,i.i18nContext,i.i18nBlock,s),En(t,p,n,r),Xo(t,p,l.handle.slot,l.i18nPlaceholder,i.i18nContext,i.i18nBlock,s),s=void 0)}break;case h.RepeaterCreate:if(s!==void 0)throw Error("AssertionError: Unexpected structural directive associated with @for block");let u=l.handle.slot+1,d=t.views.get(l.xref);if(l.i18nPlaceholder===void 0)En(t,d,n,r);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Yo(t,d,u,l.i18nPlaceholder,i.i18nContext,i.i18nBlock,s),En(t,d,n,r),Xo(t,d,u,l.i18nPlaceholder,i.i18nContext,i.i18nBlock,s),s=void 0}if(l.emptyView!==null){let m=l.handle.slot+2,g=t.views.get(l.emptyView);if(l.emptyI18nPlaceholder===void 0)En(t,g,n,r);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");Yo(t,g,m,l.emptyI18nPlaceholder,i.i18nContext,i.i18nBlock,s),En(t,g,n,r),Xo(t,g,m,l.emptyI18nPlaceholder,i.i18nContext,i.i18nBlock,s),s=void 0}}break}}function df(t,e,n,r){let{startName:s,closeName:i}=t.i18nPlaceholder,o=le.ElementTag|le.OpenTag,l=t.handle.slot;r!==void 0&&(o|=le.TemplateTag,l={element:l,template:r.handle.slot}),i||(o|=le.CloseTag),ri(e.params,s,l,n.subTemplateIndex,o)}function mf(t,e,n,r){let{closeName:s}=t.i18nPlaceholder;if(s){let i=le.ElementTag|le.CloseTag,o=t.handle.slot;r!==void 0&&(i|=le.TemplateTag,o={element:o,template:r.handle.slot}),ri(e.params,s,o,n.subTemplateIndex,i)}}function Yo(t,e,n,r,s,i,o){let{startName:l,closeName:c}=r,p=le.TemplateTag|le.OpenTag;c||(p|=le.CloseTag),o!==void 0&&ri(s.params,l,o.handle.slot,i.subTemplateIndex,p),ri(s.params,l,n,vm(t,i,e),p)}function Xo(t,e,n,r,s,i,o){let{closeName:l}=r,c=le.TemplateTag|le.CloseTag;l&&(ri(s.params,l,n,vm(t,i,e),c),o!==void 0&&ri(s.params,l,o.handle.slot,i.subTemplateIndex,c))}function vm(t,e,n){for(let r of n.create)if(r.kind===h.I18nStart)return r.subTemplateIndex;return e.subTemplateIndex}function ri(t,e,n,r,s){var o;let i=(o=t.get(e))!=null?o:[];i.push({value:n,subTemplateIndex:r,flags:s}),t.set(e,i)}function HN(t){var o;let e=new Map,n=new Map,r=new Map;for(let l of t.units)for(let c of l.create)switch(c.kind){case h.I18nStart:e.set(c.xref,c.subTemplateIndex);break;case h.I18nContext:n.set(c.xref,c);break;case h.IcuPlaceholder:r.set(c.xref,c);break}let s=new Map,i=l=>l.usage===os.I18nText?l.i18nOwner:l.context;for(let l of t.units)for(let c of l.update)if(c.kind===h.I18nExpression){let p=s.get(i(c))||0,u=(o=e.get(c.i18nOwner))!=null?o:null,d={value:p,subTemplateIndex:u,flags:le.ExpressionIndex};GN(c,d,n,r),s.set(i(c),p+1)}}function GN(t,e,n,r){if(t.i18nPlaceholder!==null){let s=n.get(t.context),i=t.resolutionTime===Qs.Creation?s.params:s.postprocessingParams,o=i.get(t.i18nPlaceholder)||[];o.push(e),i.set(t.i18nPlaceholder,o)}if(t.icuPlaceholder!==null){let s=r.get(t.icuPlaceholder);s==null||s.expressionPlaceholders.push(e)}}function qN(t){for(let e of t.units)za(e,e.create,null),za(e,e.update,null)}function za(t,e,n){let r=new Map,s=new Map;for(let i of e)switch(i.kind){case h.Variable:switch(i.variable.kind){case Be.Identifier:if(i.variable.local){if(s.has(i.variable.identifier))continue;s.set(i.variable.identifier,i.xref)}else if(r.has(i.variable.identifier))continue;r.set(i.variable.identifier,i.xref);break;case Be.Alias:if(r.has(i.variable.identifier))continue;r.set(i.variable.identifier,i.xref);break;case Be.SavedView:n={view:i.variable.view,variable:i.xref};break}break;case h.Animation:case h.AnimationListener:case h.Listener:case h.TwoWayListener:za(t,i.handlerOps,n);break;case h.RepeaterCreate:i.trackByOps!==null&&za(t,i.trackByOps,n);break}for(let i of e)i.kind==h.Listener||i.kind===h.TwoWayListener||i.kind===h.Animation||i.kind===h.AnimationListener||Le(i,o=>{if(o instanceof Ke)return s.has(o.name)?new $n(s.get(o.name)):r.has(o.name)?new $n(r.get(o.name)):new ht(new xr(t.job.root.xref),o.name);if(o instanceof ba&&typeof o.view=="number"){if(n===null||n.view!==o.view)throw new Error(`AssertionError: no saved view ${o.view} from view ${t.xref}`);return o.view=new $n(n.variable),o}else return o},se.None);for(let i of e)je(i,o=>{if(o instanceof Ke)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${o.name}`)})}var WN=new Map([[pe.HTML,f.sanitizeHtml],[pe.RESOURCE_URL,f.sanitizeResourceUrl],[pe.SCRIPT,f.sanitizeScript],[pe.STYLE,f.sanitizeStyle],[pe.URL,f.sanitizeUrl]]),jN=new Map([[pe.HTML,f.trustConstantHtml],[pe.RESOURCE_URL,f.trustConstantResourceUrl]]);function KN(t){var e,n;for(let r of t.units){let s=Uu(r);if(t.kind!==_.Host){for(let i of r.create)if(i.kind===h.ExtractedAttribute){let o=(e=jN.get(gf(i.securityContext)))!=null?e:null;i.trustedValueFn=o!==null?P(o):null}}for(let i of r.update)switch(i.kind){case h.Property:case h.Attribute:case h.DomProperty:let o=null;if(Array.isArray(i.securityContext)&&i.securityContext.length===2&&i.securityContext.indexOf(pe.URL)>-1&&i.securityContext.indexOf(pe.RESOURCE_URL)>-1?o=f.sanitizeUrlOrResourceUrl:o=(n=WN.get(gf(i.securityContext)))!=null?n:null,i.sanitizer=o!==null?P(o):null,i.sanitizer===null){let l=!1;if(t.kind===_.Host||i.kind===h.DomProperty)l=!0;else{let c=s.get(i.target);if(c===void 0||!jn(c))throw Error("Property should have an element-like owner");l=zN(c)}l&&Kx(i.name)&&(i.sanitizer=P(f.validateIframeAttribute))}break}}}function zN(t){var e;return t.kind===h.ElementStart&&((e=t.tag)==null?void 0:e.toLowerCase())==="iframe"}function gf(t){if(Array.isArray(t)){if(t.length>1)throw Error("AssertionError: Ambiguous security context");return t[0]||pe.NONE}return t}function YN(t){for(let e of t.units){e.create.prepend([rr(e.job.allocateXrefId(),{kind:Be.SavedView,name:null,view:e.xref},new Vc,Rt.None)]);for(let n of e.create){if(n.kind!==h.Listener&&n.kind!==h.TwoWayListener&&n.kind!==h.Animation&&n.kind!==h.AnimationListener)continue;let r=e!==t.root;if(!r)for(let s of n.handlerOps)je(s,i=>{(i instanceof Ia||i instanceof co)&&(r=!0)});r&&XN(e,n)}}}function XN(t,e){e.handlerOps.prepend([rr(t.job.allocateXrefId(),{kind:Be.Context,name:null,view:t.xref},new ba(t.xref),Rt.None)]);for(let n of e.handlerOps)n.kind===h.Statement&&n.statement instanceof Ue&&(n.statement.value=new Hc(n.statement.value))}function QN(t){let e=new Map;for(let n of t.units){let r=0;for(let s of n.create)li(s)&&(s.handle.slot=r,e.set(s.xref,s.handle.slot),r+=s.numSlotsUsed);n.decls=r}for(let n of t.units)for(let r of n.ops())if(r.kind===h.Template||r.kind===h.ConditionalCreate||r.kind===h.ConditionalBranchCreate||r.kind===h.RepeaterCreate){let s=t.views.get(r.xref);r.decls=s.decls}}function JN(t){let e=new Set,n=new Map;for(let r of t.units)for(let s of r.ops())s.kind===h.DeclareLet&&n.set(s.xref,s),je(s,i=>{i instanceof co&&e.add(i.target)});for(let r of t.units)for(let s of r.update)Le(s,i=>i instanceof lo&&!e.has(i.target)?(ZN(i)||x.remove(n.get(i.target)),i.value):i,se.None)}function ZN(t){let e=!1;return k(t,n=>((n instanceof cs||n instanceof uo)&&(e=!0),n),se.None),e}function eI(t){let e=new Set;for(let n of t.units)for(let r of n.ops())je(r,s=>{if(s instanceof te)switch(s.operator){case E.Exponentiation:tI(s,e);break;case E.NullishCoalesce:nI(s,e);break;case E.And:case E.Or:rI(s,e)}});for(let n of t.units)for(let r of n.ops())Le(r,s=>s instanceof jt?e.has(s)?s:s.expr:s,se.None)}function tI(t,e){t.lhs instanceof jt&&t.lhs.expr instanceof Vn&&e.add(t.lhs)}function nI(t,e){t.lhs instanceof jt&&(yf(t.lhs.expr)||t.lhs.expr instanceof hn)&&e.add(t.lhs),t.rhs instanceof jt&&(yf(t.rhs.expr)||t.rhs.expr instanceof hn)&&e.add(t.rhs)}function rI(t,e){t.lhs instanceof jt&&t.lhs.expr instanceof te&&t.lhs.expr.operator===E.NullishCoalesce&&e.add(t.lhs)}function yf(t){return t instanceof te&&(t.operator===E.And||t.operator===E.Or)}function sI(t){for(let e of t.units)for(let n of e.update)if(n.kind===h.Binding)switch(n.bindingKind){case R.ClassName:if(n.expression instanceof Ae)throw new Error("Unexpected interpolation in ClassName binding");x.replace(n,PT(n.target,n.name,n.expression,n.sourceSpan));break;case R.StyleProperty:x.replace(n,RT(n.target,n.name,n.expression,n.unit,n.sourceSpan));break;case R.Property:case R.Template:n.name==="style"?x.replace(n,LT(n.target,n.expression,n.sourceSpan)):n.name==="class"&&x.replace(n,MT(n.target,n.expression,n.sourceSpan));break}}function iI(t){for(let e of t.units)e.create.prepend(Ya(e.create)),e.update.prepend(Ya(e.update))}function Ya(t){let e=0,n=[];for(let r of t){let s=new Map;je(r,(p,u)=>{u&se.InChildOperation||p instanceof Cr&&s.set(p.xref,p)});let i=0,o=new Set,l=new Set,c=new Map;je(r,(p,u)=>{u&se.InChildOperation||(p instanceof bn?(o.has(p.xref)||(o.add(p.xref),c.set(p.xref,`tmp_${e}_${i++}`)),vf(c,p)):p instanceof Cr&&(s.get(p.xref)===p&&(l.add(p.xref),i--),vf(c,p)))}),n.push(...Array.from(new Set(c.values())).map(p=>Jt(new Pe(p)))),e++,r.kind===h.Listener||r.kind===h.Animation||r.kind===h.AnimationListener||r.kind===h.TwoWayListener?r.handlerOps.prepend(Ya(r.handlerOps)):r.kind===h.RepeaterCreate&&r.trackByOps!==null&&r.trackByOps.prepend(Ya(r.trackByOps))}return n}function vf(t,e){let n=t.get(e.xref);if(n===void 0)throw new Error(`Found xref with unassigned name: ${e.xref}`);e.name=n}function oI(t){for(let e of t.units)for(let n of e.create)if(n.kind===h.RepeaterCreate)if(n.track instanceof Pt&&n.track.name==="$index")n.trackByFn=P(f.repeaterTrackByIndex);else if(n.track instanceof Pt&&n.track.name==="$item")n.trackByFn=P(f.repeaterTrackByIdentity);else if(aI(t.root.xref,n.track))n.usesComponentInstance=!0,n.track.receiver.receiver.view===e.xref?n.trackByFn=n.track.receiver:(n.trackByFn=P(f.componentInstance).callFn([]).prop(n.track.receiver.name),n.track=n.trackByFn);else{n.track=k(n.track,s=>{if(s instanceof cs||s instanceof uo)throw new Error("Illegal State: Pipes are not allowed in this context");return s instanceof xr?(n.usesComponentInstance=!0,new Uc(s.view)):s},se.None);let r=new x;r.push(Jt(new Ue(n.track,n.track.sourceSpan))),n.trackByOps=r}}function aI(t,e){if(!(e instanceof tt)||e.args.length===0||e.args.length>2||!(e.receiver instanceof ht&&e.receiver.receiver instanceof xr)||e.receiver.receiver.view!==t)return!1;let[n,r]=e.args;return!(n instanceof Pt)||n.name!=="$index"?!1:e.args.length===1?!0:!(!(r instanceof Pt)||r.name!=="$item")}function lI(t){for(let e of t.units)for(let n of e.create)n.kind===h.RepeaterCreate&&(n.track=k(n.track,r=>{if(r instanceof Ke){if(n.varNames.$index.has(r.name))return X("$index");if(r.name===n.varNames.$implicit)return X("$item")}return r},se.None))}function cI(t){for(let e of t.units)for(let n of e.create)n.kind===h.TwoWayListener&&Le(n,r=>{if(!(r instanceof _a))return r;let{target:s,value:i}=r;if(s instanceof ht||s instanceof An)return uf(s,i).or(s.set(i));if(s instanceof $n)return uf(s,i);throw new Error("Unsupported expression in two-way action binding.")},se.InChildOperation)}function uI(t){for(let e of t.units){let n=0;for(let r of e.ops())Ul(r)&&(n+=pI(r));for(let r of e.ops())je(r,s=>{Dn(s)&&(t.compatibility===Nt.TemplateDefinitionBuilder&&s instanceof ls||(Dh(s)&&(s.varOffset=n),Ul(s)&&(n+=Sf(s))))});if(t.compatibility===Nt.TemplateDefinitionBuilder)for(let r of e.ops())je(r,s=>{!Dn(s)||!(s instanceof ls)||(Dh(s)&&(s.varOffset=n),Ul(s)&&(n+=Sf(s)))});e.vars=n}if(t instanceof fo)for(let e of t.units)for(let n of e.create){if(n.kind!==h.Template&&n.kind!==h.RepeaterCreate&&n.kind!==h.ConditionalCreate&&n.kind!==h.ConditionalBranchCreate)continue;let r=t.views.get(n.xref);n.vars=r.vars}}function pI(t){let e;switch(t.kind){case h.Attribute:return e=1,t.expression instanceof Ae&&!hI(t.expression)&&(e+=t.expression.expressions.length),e;case h.Property:case h.DomProperty:return e=1,t.expression instanceof Ae&&(e+=t.expression.expressions.length),e;case h.TwoWayProperty:return 1;case h.StyleProp:case h.ClassProp:case h.StyleMap:case h.ClassMap:return e=2,t.expression instanceof Ae&&(e+=t.expression.expressions.length),e;case h.InterpolateText:return t.interpolation.expressions.length;case h.I18nExpression:case h.Conditional:case h.DeferWhen:case h.StoreLet:return 1;case h.RepeaterCreate:return t.emptyView?1:0;default:throw new Error(`Unhandled op: ${h[t.kind]}`)}}function Sf(t){switch(t.kind){case $.PureFunctionExpr:return 1+t.args.length;case $.PipeBinding:return 1+t.args.length;case $.PipeBindingVariadic:return 1+t.numArgs;case $.StoreLet:return 1;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${t.constructor.name}`)}}function hI(t){return!(t.expressions.length!==1||t.strings.length!==2||t.strings[0]!==""||t.strings[1]!=="")}function fI(t){for(let e of t.units){Qo(e.create),Qo(e.update);for(let n of e.create)n.kind===h.Listener||n.kind===h.Animation||n.kind===h.AnimationListener||n.kind===h.TwoWayListener?Qo(n.handlerOps):n.kind===h.RepeaterCreate&&n.trackByOps!==null&&Qo(n.trackByOps);Jo(e.create,t.compatibility),Jo(e.update,t.compatibility);for(let n of e.create)n.kind===h.Listener||n.kind===h.Animation||n.kind===h.AnimationListener||n.kind===h.TwoWayListener?Jo(n.handlerOps,t.compatibility):n.kind===h.RepeaterCreate&&n.trackByOps!==null&&Jo(n.trackByOps,t.compatibility)}}var ke;(function(t){t[t.None=0]="None",t[t.ViewContextRead=1]="ViewContextRead",t[t.ViewContextWrite=2]="ViewContextWrite",t[t.SideEffectful=4]="SideEffectful"})(ke||(ke={}));function Qo(t){let e=new Map;for(let n of t)n.kind===h.Variable&&n.flags&Rt.AlwaysInline&&(je(n,r=>{if(Dn(r)&&qu(r)!==ke.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),e.set(n.xref,n)),Le(n,r=>r instanceof $n&&e.has(r.xref)?e.get(r.xref).initializer.clone():r,se.None);for(let n of e.values())x.remove(n)}function Jo(t,e){let n=new Map,r=new Map,s=new Set,i=new Map;for(let p of t){if(p.kind===h.Variable){if(n.has(p.xref)||r.has(p.xref))throw new Error(`Should not see two declarations of the same variable: ${p.xref}`);n.set(p.xref,p),r.set(p.xref,0)}i.set(p,dI(p)),mI(p,r,s)}let o=!1;for(let p of t.reversed()){let u=i.get(p);if(p.kind===h.Variable&&r.get(p.xref)===0){if(o&&u.fences&ke.ViewContextWrite||u.fences&ke.SideEffectful){let d=Jt(p.initializer.toStmt());i.set(d,u),x.replace(p,d)}else gI(p,r),x.remove(p);i.delete(p),n.delete(p.xref),r.delete(p.xref);continue}u.fences&ke.ViewContextRead&&(o=!0)}let l=[];for(let[p,u]of r){let m=!!(n.get(p).flags&Rt.AlwaysInline);u!==1||m||s.has(p)||l.push(p)}let c;for(;c=l.pop();){let p=n.get(c),u=i.get(p);if(!!(p.flags&Rt.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let m=p.next;m.kind!==h.ListEnd;m=m.next){let g=i.get(m);if(g.variablesUsed.has(c)){if(e===Nt.TemplateDefinitionBuilder&&!vI(p,m))break;if(yI(c,p.initializer,m,u.fences)){g.variablesUsed.delete(c);for(let S of u.variablesUsed)g.variablesUsed.add(S);g.fences|=u.fences,n.delete(c),r.delete(c),i.delete(p),x.remove(p)}break}if(!Sm(g.fences,u.fences))break}}}function qu(t){switch(t.kind){case $.NextContext:return ke.ViewContextRead|ke.ViewContextWrite;case $.RestoreView:return ke.ViewContextRead|ke.ViewContextWrite|ke.SideEffectful;case $.StoreLet:return ke.SideEffectful;case $.Reference:case $.ContextLetReference:return ke.ViewContextRead;default:return ke.None}}function dI(t){let e=ke.None,n=new Set;return je(t,r=>{if(Dn(r))switch(r.kind){case $.ReadVariable:n.add(r.xref);break;default:e|=qu(r)}}),{fences:e,variablesUsed:n}}function mI(t,e,n){je(t,(r,s)=>{if(!Dn(r)||r.kind!==$.ReadVariable)return;let i=e.get(r.xref);i!==void 0&&(e.set(r.xref,i+1),s&se.InChildOperation&&n.add(r.xref))})}function gI(t,e){je(t,n=>{if(!Dn(n)||n.kind!==$.ReadVariable)return;let r=e.get(n.xref);if(r!==void 0){if(r===0)throw new Error(`Inaccurate variable count: ${n.xref} - found another read but count is already 0`);e.set(n.xref,r-1)}})}function Sm(t,e){if(t&ke.ViewContextWrite){if(e&ke.ViewContextRead)return!1}else if(t&ke.ViewContextRead&&e&ke.ViewContextWrite)return!1;return!0}function yI(t,e,n,r){let s=!1,i=!0;return Le(n,(o,l)=>{if(!Dn(o)||s||!i)return o;if(l&se.InChildOperation&&r&ke.ViewContextRead)return o;switch(o.kind){case $.ReadVariable:if(o.xref===t)return s=!0,e;break;default:let c=qu(o);i=i&&Sm(c,r);break}return o},se.None),s}function vI(t,e){switch(t.variable.kind){case Be.Identifier:return t.initializer instanceof Pt&&t.initializer.name==="ctx";case Be.Context:return e.kind===h.Variable;default:return!0}}function SI(t){for(let e of t.units){let n=null,r=null;for(let s of e.create)switch(s.kind){case h.I18nStart:n=s;break;case h.I18nEnd:n=null;break;case h.IcuStart:n===null&&(r=t.allocateXrefId(),x.insertBefore(ul(r,s.message,void 0,null),s));break;case h.IcuEnd:r!==null&&(x.insertAfter(pl(r,null),s),r=null);break}}}var EI=[{kind:_.Tmpl,fn:QC},{kind:_.Host,fn:ux},{kind:_.Tmpl,fn:LC},{kind:_.Tmpl,fn:sA},{kind:_.Tmpl,fn:SI},{kind:_.Both,fn:kw},{kind:_.Both,fn:sI},{kind:_.Both,fn:gw},{kind:_.Both,fn:Iw},{kind:_.Both,fn:fw},{kind:_.Tmpl,fn:_w},{kind:_.Both,fn:OC},{kind:_.Tmpl,fn:LN},{kind:_.Both,fn:Sw},{kind:_.Both,fn:XC},{kind:_.Tmpl,fn:Ew},{kind:_.Tmpl,fn:eA},{kind:_.Tmpl,fn:Rw},{kind:_.Tmpl,fn:rA},{kind:_.Both,fn:aA},{kind:_.Tmpl,fn:ix},{kind:_.Tmpl,fn:sx},{kind:_.Tmpl,fn:ox},{kind:_.Tmpl,fn:YN},{kind:_.Both,fn:aw},{kind:_.Both,fn:UN},{kind:_.Tmpl,fn:lI},{kind:_.Tmpl,fn:ON},{kind:_.Both,fn:qN},{kind:_.Tmpl,fn:Pw},{kind:_.Tmpl,fn:cI},{kind:_.Tmpl,fn:oI},{kind:_.Both,fn:BN},{kind:_.Both,fn:KN},{kind:_.Tmpl,fn:RC},{kind:_.Both,fn:Bw},{kind:_.Both,fn:eI},{kind:_.Both,fn:iI},{kind:_.Both,fn:fI},{kind:_.Both,fn:JN},{kind:_.Tmpl,fn:kC},{kind:_.Tmpl,fn:bw},{kind:_.Tmpl,fn:FN},{kind:_.Tmpl,fn:pw},{kind:_.Tmpl,fn:cw},{kind:_.Tmpl,fn:QN},{kind:_.Tmpl,fn:VN},{kind:_.Tmpl,fn:HN},{kind:_.Tmpl,fn:Zw},{kind:_.Tmpl,fn:NC},{kind:_.Tmpl,fn:lx},{kind:_.Both,fn:Cw},{kind:_.Tmpl,fn:MN},{kind:_.Both,fn:uI},{kind:_.Tmpl,fn:rx},{kind:_.Both,fn:FC},{kind:_.Tmpl,fn:$N},{kind:_.Tmpl,fn:UC},{kind:_.Tmpl,fn:HC},{kind:_.Tmpl,fn:Fw},{kind:_.Tmpl,fn:hw},{kind:_.Tmpl,fn:qC},{kind:_.Both,fn:oA},{kind:_.Both,fn:bN},{kind:_.Both,fn:vw}];function Em(t,e){for(let n of EI)(n.kind===e||n.kind===_.Both)&&n.fn(t)}function TI(t,e){let n=wm(t.root);return Tm(t.root,e),n}function Tm(t,e){for(let n of t.job.units){if(n.parent!==t.xref)continue;Tm(n,e);let r=wm(n);e.statements.push(r.toDeclStmt(r.name))}}function wm(t){if(t.fnName===null)throw new Error(`AssertionError: view ${t.xref} is unnamed`);let e=[];for(let i of t.create){if(i.kind!==h.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${h[i.kind]}`);e.push(i.statement)}let n=[];for(let i of t.update){if(i.kind!==h.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${h[i.kind]}`);n.push(i.statement)}let r=Xa(1,e),s=Xa(2,n);return Hn([new $e("rf"),new $e("ctx")],[...r,...s],void 0,void 0,t.fnName)}function Xa(t,e){return e.length===0?[]:[Co(new te(E.BitwiseAnd,X("rf"),v(t)),e)]}function wI(t){if(t.root.fnName===null)throw new Error("AssertionError: host binding function is unnamed");let e=[];for(let i of t.root.create){if(i.kind!==h.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${h[i.kind]}`);e.push(i.statement)}let n=[];for(let i of t.root.update){if(i.kind!==h.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${h[i.kind]}`);n.push(i.statement)}if(e.length===0&&n.length===0)return null;let r=Xa(1,e),s=Xa(2,n);return Hn([new $e("rf"),new $e("ctx")],[...r,...s],void 0,void 0,t.root.fnName)}var xm=Nt.TemplateDefinitionBuilder,Wr=new yn,jr="ng-template",xI="animate.";function oa(t){return t instanceof ct}function CI(t){return oa(t)&&t.nodes.length===1&&t.nodes[0]instanceof wa}function AI(t,e,n,r,s,i,o,l,c,p){let u=new fo(t,n,xm,r,s,i,o,l,c,p);return zn(u.root,e),u}function NI(t,e,n){var s,i,o;let r=new Oa(t.componentName,n,xm,yt.DomOnly);for(let l of(s=t.properties)!=null?s:[]){let c=R.Property;l.name.startsWith("attr.")&&(l.name=l.name.substring(5),c=R.Attribute),l.isLegacyAnimation&&(c=R.LegacyAnimation),l.isAnimation&&(c=R.Animation);let p=e.calcPossibleSecurityContexts(t.componentSelector,l.name,c===R.Attribute).filter(u=>u!==pe.NONE);II(r,l,c,p)}for(let[l,c]of(i=Object.entries(t.attributes))!=null?i:[]){let p=e.calcPossibleSecurityContexts(t.componentSelector,l,!0).filter(u=>u!==pe.NONE);DI(r,l,c,p)}for(let l of(o=t.events)!=null?o:[])bI(r,l);return r}function II(t,e,n,r){let s,i=e.expression.ast;i instanceof Yn?s=new Ae(i.strings,i.expressions.map(o=>J(o,t,e.sourceSpan)),[]):s=J(i,t,e.sourceSpan),t.root.update.push(as(t.root.xref,n,e.name,s,null,r,!1,!1,null,null,e.sourceSpan))}function DI(t,e,n,r){let s=as(t.root.xref,R.Attribute,e,n,null,r,!0,!1,null,null,n.sourceSpan);t.root.update.push(s)}function bI(t,e){let n;if(e.type===Ne.Animation)n=Yd(t.root.xref,new Je,e.name,null,So(t.root,e.handler,e.handlerSpan),e.name.endsWith("enter")?"enter":"leave",e.targetOrPhase,!0,e.sourceSpan);else{let[r,s]=e.type!==Ne.LegacyAnimation?[null,e.targetOrPhase]:[e.targetOrPhase,null];n=$u(t.root.xref,new Je,e.name,null,So(t.root,e.handler,e.handlerSpan),r,s,!0,e.sourceSpan)}t.root.create.push(n)}function zn(t,e){for(let n of e)if(n instanceof At)_I(t,n);else if(n instanceof Ce)kI(t,n);else if(n instanceof ns)RI(t,n);else if(n instanceof ir)Cm(t,n,null);else if(n instanceof Zr)Am(t,n,null);else if(n instanceof ts)PI(t,n);else if(n instanceof es)LI(t,n);else if(n instanceof yr)MI(t,n);else if(n instanceof bu)FI(t,n);else if(n instanceof qn)BI(t,n);else if(n instanceof _n)UI(t,n);else if(!(n instanceof Fn))throw new Error(`Unsupported template node: ${n.constructor.name}`)}function _I(t,e){var c,p;if(e.i18n!==void 0&&!(e.i18n instanceof ct||e.i18n instanceof vr))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=t.job.allocateXrefId(),[r,s]=dn(e.name),i=GT(s,n,em(r),e.i18n instanceof vr?e.i18n:void 0,e.startSourceSpan,e.sourceSpan);t.create.push(i),HI(t,i,e),Dm(i,e);let o=null;e.i18n instanceof ct&&(o=t.job.allocateXrefId(),t.create.push(ul(o,e.i18n,void 0,e.startSourceSpan))),zn(t,e.children);let l=WT(n,(c=e.endSourceSpan)!=null?c:e.startSourceSpan);t.create.push(l),o!==null&&x.insertBefore(pl(o,(p=e.endSourceSpan)!=null?p:e.startSourceSpan),l)}function kI(t,e){var u;if(e.i18n!==void 0&&!(e.i18n instanceof ct||e.i18n instanceof vr))throw Error(`Unhandled i18n metadata type for template: ${e.i18n.constructor.name}`);let n=t.job.allocateView(t.xref),r=e.tagName,s="";e.tagName&&([s,r]=dn(e.tagName));let i=e.i18n instanceof vr?e.i18n:void 0,o=em(s),l=r===null?"":xw(r,o),c=VI(e)?ut.NgTemplate:ut.Structural,p=Wd(n.xref,c,r,l,o,i,e.startSourceSpan,e.sourceSpan);t.create.push(p),GI(t,p,e,c),Dm(p,e),zn(n,e.children);for(let{name:d,value:m}of e.variables)n.contextVariables.set(d,m!==""?m:"$implicit");if(c===ut.NgTemplate&&e.i18n instanceof ct){let d=t.job.allocateXrefId();x.insertAfter(ul(d,e.i18n,void 0,e.startSourceSpan),n.create.head),x.insertBefore(pl(d,(u=e.endSourceSpan)!=null?u:e.startSourceSpan),n.create.tail)}}function RI(t,e){var i;if(e.i18n!==void 0&&!(e.i18n instanceof vr))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=null;e.children.some(o=>!(o instanceof al)&&(!(o instanceof ir)||o.value.trim().length>0))&&(n=t.job.allocateView(t.xref),zn(n,e.children));let r=t.job.allocateXrefId(),s=JT(r,e.selector,e.i18n,(i=n==null?void 0:n.xref)!=null?i:null,e.sourceSpan);for(let o of e.attributes){let l=Wr.securityContext(e.name,o.name,!0);t.update.push(as(s.xref,R.Attribute,o.name,v(o.value),null,l,!0,!1,null,On(o.i18n),o.sourceSpan))}t.create.push(s)}function Cm(t,e,n){t.create.push(zd(t.job.allocateXrefId(),e.value,n,e.sourceSpan))}function Am(t,e,n){var l;let r=e.value;if(r instanceof Se&&(r=r.ast),!(r instanceof Yn))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${r.constructor.name}`);if(e.i18n!==void 0&&!(e.i18n instanceof Bn))throw Error(`Unhandled i18n metadata type for text interpolation: ${(l=e.i18n)==null?void 0:l.constructor.name}`);let s=e.i18n instanceof Bn?e.i18n.children.filter(c=>c instanceof eo).map(c=>c.name):[];if(s.length>0&&s.length!==r.expressions.length)throw Error(`Unexpected number of i18n placeholders (${r.expressions.length}) for BoundText with ${r.expressions.length} expressions`);let i=t.job.allocateXrefId();t.create.push(zd(i,"",n,e.sourceSpan));let o=t.job.compatibility?null:e.sourceSpan;t.update.push(bT(i,new Ae(r.strings,r.expressions.map(c=>J(c,t.job,o)),s),e.sourceSpan))}function PI(t,e){var s;let n=null,r=[];for(let i=0;i<e.branches.length;i++){let o=e.branches[i],l=t.job.allocateView(t.xref),c=Qa(t,l.xref,o);o.expressionAlias!==null&&l.contextVariables.set(o.expressionAlias.name,Zd);let p;if(o.i18n!==void 0){if(!(o.i18n instanceof Sr))throw Error(`Unhandled i18n metadata type for if block: ${(s=o.i18n)==null?void 0:s.constructor.name}`);p=o.i18n}let d=(i===0?jd:Kd)(l.xref,ut.Block,c,"Conditional",Xe.HTML,p,o.startSourceSpan,o.sourceSpan);t.create.push(d),n===null&&(n=l.xref);let m=o.expression?J(o.expression,t.job,null):null,g=new Ra(m,d.xref,d.handle,o.expressionAlias);r.push(g),zn(l,o.children)}t.update.push(Hd(n,null,r,e.sourceSpan))}function LI(t,e){var s;if(e.cases.length===0)return;let n=null,r=[];for(let i=0;i<e.cases.length;i++){let o=e.cases[i],l=t.job.allocateView(t.xref),c=Qa(t,l.xref,o),p;if(o.i18n!==void 0){if(!(o.i18n instanceof Sr))throw Error(`Unhandled i18n metadata type for switch block: ${(s=o.i18n)==null?void 0:s.constructor.name}`);p=o.i18n}let d=(i===0?jd:Kd)(l.xref,ut.Block,c,"Case",Xe.HTML,p,o.startSourceSpan,o.sourceSpan);t.create.push(d),n===null&&(n=l.xref);let m=o.expression?J(o.expression,t.job,e.startSourceSpan):null,g=new Ra(m,d.xref,d.handle);r.push(g),zn(l,o.children)}t.update.push(Hd(n,J(e.expression,t.job,null),r,e.sourceSpan))}function Zo(t,e,n,r,s){if(n!==void 0&&!(n instanceof Sr))throw Error("Unhandled i18n metadata type for defer block");if(r===void 0)return null;let i=t.job.allocateView(t.xref);zn(i,r);let o=Wd(i.xref,ut.Block,null,`Defer${e}`,Xe.HTML,n,s,s);return t.create.push(o),o}function MI(t,e){var m,g,S,T,N,D,b,U,O,re,ne,He,Ge,be,Lr,Mr,Te,Fo,Bo,$o;let n=null;if(t.job.deferMeta.mode===0){if(!t.job.deferMeta.blocks.has(e))throw new Error("AssertionError: unable to find a dependency function for this deferred block");n=(m=t.job.deferMeta.blocks.get(e))!=null?m:null}let r=Zo(t,"",e.i18n,e.children,e.sourceSpan),s=Zo(t,"Loading",(g=e.loading)==null?void 0:g.i18n,(S=e.loading)==null?void 0:S.children,(T=e.loading)==null?void 0:T.sourceSpan),i=Zo(t,"Placeholder",(N=e.placeholder)==null?void 0:N.i18n,(D=e.placeholder)==null?void 0:D.children,(b=e.placeholder)==null?void 0:b.sourceSpan),o=Zo(t,"Error",(U=e.error)==null?void 0:U.i18n,(O=e.error)==null?void 0:O.children,(re=e.error)==null?void 0:re.sourceSpan),l=t.job.allocateXrefId(),c=ZT(l,r.xref,r.handle,n,t.job.allDeferrableDepsFn,e.sourceSpan);c.placeholderView=(ne=i==null?void 0:i.xref)!=null?ne:null,c.placeholderSlot=(He=i==null?void 0:i.handle)!=null?He:null,c.loadingSlot=(Ge=s==null?void 0:s.handle)!=null?Ge:null,c.errorSlot=(be=o==null?void 0:o.handle)!=null?be:null,c.placeholderMinimumTime=(Mr=(Lr=e.placeholder)==null?void 0:Lr.minimumTime)!=null?Mr:null,c.loadingMinimumTime=(Fo=(Te=e.loading)==null?void 0:Te.minimumTime)!=null?Fo:null,c.loadingAfterTime=($o=(Bo=e.loading)==null?void 0:Bo.afterTime)!=null?$o:null,c.flags=OI(e),t.create.push(c);let p=[],u=[];Wl("hydrate",e.hydrateTriggers,p,u,t,l),Wl("none",e.triggers,p,u,t,l),Wl("prefetch",e.prefetchTriggers,p,u,t,l),p.some(Ll=>Ll.modifier==="none")||u.some(Ll=>Ll.modifier==="none")||p.push(Zn(l,{kind:ae.Idle},"none",null)),t.create.push(p),t.update.push(u)}function OI(t){return Object.keys(t.hydrateTriggers).length>0?1:null}function Wl(t,e,n,r,s,i){if(e.idle!==void 0){let o=Zn(i,{kind:ae.Idle},t,e.idle.sourceSpan);n.push(o)}if(e.immediate!==void 0){let o=Zn(i,{kind:ae.Immediate},t,e.immediate.sourceSpan);n.push(o)}if(e.timer!==void 0){let o=Zn(i,{kind:ae.Timer,delay:e.timer.delay},t,e.timer.sourceSpan);n.push(o)}if(e.hover!==void 0){let o=Zn(i,{kind:ae.Hover,targetName:e.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},t,e.hover.sourceSpan);n.push(o)}if(e.interaction!==void 0){let o=Zn(i,{kind:ae.Interaction,targetName:e.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},t,e.interaction.sourceSpan);n.push(o)}if(e.viewport!==void 0){let o=Zn(i,{kind:ae.Viewport,targetName:e.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},t,e.viewport.sourceSpan);n.push(o)}if(e.never!==void 0){let o=Zn(i,{kind:ae.Never},t,e.never.sourceSpan);n.push(o)}if(e.when!==void 0){if(e.when.value instanceof Yn)throw new Error("Unexpected interpolation in defer block when trigger");let o=$T(i,J(e.when.value,s.job,e.when.sourceSpan),t,e.when.sourceSpan);r.push(o)}}function FI(t,e){var n;if(e.i18n instanceof ct&&CI(e.i18n)){let r=t.job.allocateXrefId();t.create.push(nw(r,e.i18n,vd(e.i18n).name,null));for(let[s,i]of Object.entries(w(w({},e.vars),e.placeholders)))i instanceof Zr?Am(t,i,s):Cm(t,i,s);t.create.push(rw(r))}else throw Error(`Unhandled i18n metadata type for ICU: ${(n=e.i18n)==null?void 0:n.constructor.name}`)}function BI(t,e){var D,b,U;let n=t.job.allocateView(t.xref),r=`\u0275$index_${n.xref}`,s=`\u0275$count_${n.xref}`,i=new Set;n.contextVariables.set(e.item.name,e.item.value);for(let O of e.contextVariables)O.value==="$index"&&i.add(O.name),O.name==="$index"?n.contextVariables.set("$index",O.value).set(r,O.value):O.name==="$count"?n.contextVariables.set("$count",O.value).set(s,O.value):n.aliases.add({kind:Be.Alias,name:null,identifier:O.name,expression:$I(O,r,s)});let o=Oe(e.trackBy.span,e.sourceSpan),l=J(e.trackBy,t.job,o);zn(n,e.children);let c=null,p=null;e.empty!==null&&(c=t.job.allocateView(t.xref),zn(c,e.empty.children),p=Qa(t,c.xref,e.empty));let u={$index:i,$implicit:e.item.name};if(e.i18n!==void 0&&!(e.i18n instanceof Sr))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(((D=e.empty)==null?void 0:D.i18n)!==void 0&&!(e.empty.i18n instanceof Sr))throw Error("AssertionError: Unhandled i18n metadata type or @empty");let d=e.i18n,m=(b=e.empty)==null?void 0:b.i18n,g=Qa(t,n.xref,e),S=qT(n.xref,(U=c==null?void 0:c.xref)!=null?U:null,g,l,u,p,d,m,e.startSourceSpan,e.sourceSpan);t.create.push(S);let T=J(e.expression,t.job,Oe(e.expression.span,e.sourceSpan)),N=BT(S.xref,S.handle,T,e.sourceSpan);t.update.push(N)}function $I(t,e,n){switch(t.value){case"$index":return new Ke(e);case"$count":return new Ke(n);case"$first":return new Ke(e).identical(v(0));case"$last":return new Ke(e).identical(new Ke(n).minus(v(1)));case"$even":return new Ke(e).modulo(v(2)).identical(v(0));case"$odd":return new Ke(e).modulo(v(2)).notIdentical(v(0));default:throw new Error(`AssertionError: unknown @for loop variable ${t.value}`)}}function UI(t,e){let n=t.job.allocateXrefId();t.create.push(ew(n,e.name,e.sourceSpan)),t.update.push(VT(n,e.name,J(e.value,t.job,e.valueSpan),e.sourceSpan))}function J(t,e,n){if(t instanceof Se)return J(t.ast,e,n);if(t instanceof de)return t.receiver instanceof ft&&!(t.receiver instanceof Gn)?new Ke(t.name):new ht(J(t.receiver,e,n),t.name,null,Oe(t.span,n));if(t instanceof Ct){if(t.receiver instanceof ft)throw new Error("Unexpected ImplicitReceiver");return new tt(J(t.receiver,e,n),t.args.map(r=>J(r,e,n)),void 0,Oe(t.span,n))}else{if(t instanceof St)return v(t.value,void 0,Oe(t.span,n));if(t instanceof Ms)switch(t.operator){case"+":return new Vn(Cn.Plus,J(t.expr,e,n),void 0,Oe(t.span,n));case"-":return new Vn(Cn.Minus,J(t.expr,e,n),void 0,Oe(t.span,n));default:throw new Error(`AssertionError: unknown unary operator ${t.operator}`)}else if(t instanceof we){let r=Tw.get(t.operation);if(r===void 0)throw new Error(`AssertionError: unknown binary operator ${t.operation}`);return new te(r,J(t.left,e,n),J(t.right,e,n),void 0,Oe(t.span,n))}else{if(t instanceof Gn)return new xr(e.root.xref);if(t instanceof mr)return new An(J(t.receiver,e,n),J(t.key,e,n),void 0,Oe(t.span,n));if(t instanceof dr)throw new Error("AssertionError: Chain in unknown context");if(t instanceof fa){let r=t.keys.map((s,i)=>{let o=t.values[i];return new Yr(s.key,J(o,e,n),s.quoted)});return new fn(r,void 0,Oe(t.span,n))}else{if(t instanceof ha)return new xt(t.expressions.map(r=>J(r,e,n)));if(t instanceof js)return new hn(J(t.condition,e,n),J(t.trueExp,e,n),J(t.falseExp,e,n),void 0,Oe(t.span,n));if(t instanceof qi)return J(t.expression,e,n);if(t instanceof Jr)return new cs(e.allocateXrefId(),new Je,t.name,[J(t.exp,e,n),...t.args.map(r=>J(r,e,n))]);if(t instanceof gr)return new ei(J(t.receiver,e,n),J(t.key,e,n),Oe(t.span,n));if(t instanceof We)return new Zs(J(t.receiver,e,n),t.name);if(t instanceof zt)return new us(J(t.receiver,e,n),t.args.map(r=>J(r,e,n)));if(t instanceof et)return new po(Oe(t.span,n));if(t instanceof Nn)return cd(J(t.expression,e,n),Oe(t.span,n));if(t instanceof Hi)return si(J(t.expression,e,n));if(t instanceof Gi)return new Pi(J(t.expression,e,n),void 0,Oe(t.span,n));if(t instanceof ji)return Ef(t,e,n);if(t instanceof Wi)return new Us(J(t.tag,e,n),Ef(t.template,e,n),void 0,Oe(t.span,n));if(t instanceof Ki)return new jt(J(t.expression,e,n),void 0,Oe(t.span,n));throw new Error(`Unhandled expression type "${t.constructor.name}" in file "${n==null?void 0:n.start.file.url}"`)}}}}function Ef(t,e,n){return new Hs(t.elements.map(r=>new Li(r.text,Oe(r.span,n))),t.expressions.map(r=>J(r,e,n)),Oe(t.span,n))}function hu(t,e,n,r){var i,o;let s;return e instanceof Yn?s=new Ae(e.strings,e.expressions.map(l=>J(l,t,null)),Object.keys((o=(i=On(n))==null?void 0:i.placeholders)!=null?o:{})):e instanceof he?s=J(e,t,null):s=v(e),s}var Nm=new Map([[Y.Property,R.Property],[Y.TwoWay,R.TwoWayProperty],[Y.Attribute,R.Attribute],[Y.Class,R.ClassName],[Y.Style,R.StyleProperty],[Y.LegacyAnimation,R.LegacyAnimation],[Y.Animation,R.Animation]]);function VI(t){var e;return dn((e=t.tagName)!=null?e:"")[1]===jr}function On(t){if(t==null)return null;if(!(t instanceof ct))throw Error(`Expected i18n meta to be a Message, but got: ${t.constructor.name}`);return t}function HI(t,e,n){var i;let r=new Array,s=new Set;for(let o of n.attributes){let l=Wr.securityContext(n.name,o.name,!0);r.push(as(e.xref,R.Attribute,o.name,hu(t.job,o.value,o.i18n),null,l,!0,!1,null,On(o.i18n),o.sourceSpan)),o.i18n&&s.add(o.name)}for(let o of n.inputs)s.has(o.name)&&console.error(`On component ${t.job.componentName}, the binding ${o.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),r.push(as(e.xref,Nm.get(o.type),o.name,hu(t.job,Eo(o.value),o.i18n),o.unit,o.securityContext,!1,!1,null,(i=On(o.i18n))!=null?i:null,o.sourceSpan));t.create.push(r.filter(o=>(o==null?void 0:o.kind)===h.ExtractedAttribute)),t.update.push(r.filter(o=>(o==null?void 0:o.kind)===h.Binding));for(let o of n.outputs){if(o.type===Ne.LegacyAnimation&&o.phase===null)throw Error("Animation listener should have a phase");o.type===Ne.TwoWay?t.create.push(Xd(e.xref,e.handle,o.name,e.tag,Im(t,o.handler,o.handlerSpan),o.sourceSpan)):o.type===Ne.Animation?t.create.push(Yd(e.xref,e.handle,o.name,e.tag,So(t,o.handler,o.handlerSpan),o.name.endsWith("enter")?"enter":"leave",o.target,!1,o.sourceSpan)):t.create.push($u(e.xref,e.handle,o.name,e.tag,So(t,o.handler,o.handlerSpan),o.phase,o.target,!1,o.sourceSpan))}r.some(o=>o==null?void 0:o.i18nMessage)!==null&&t.create.push(Jd(t.job.allocateXrefId(),new Je,e.xref))}function GI(t,e,n,r){let s=new Array;for(let i of n.templateAttrs)if(i instanceof Mt){let o=Wr.securityContext(jr,i.name,!0);s.push(ea(t,e.xref,Y.Attribute,i.name,i.value,null,o,!0,r,On(i.i18n),i.sourceSpan))}else s.push(ea(t,e.xref,i.type,i.name,Eo(i.value),i.unit,i.securityContext,!0,r,On(i.i18n),i.sourceSpan));for(let i of n.attributes){let o=Wr.securityContext(jr,i.name,!0);s.push(ea(t,e.xref,Y.Attribute,i.name,i.value,null,o,!1,r,On(i.i18n),i.sourceSpan))}for(let i of n.inputs)s.push(ea(t,e.xref,i.type,i.name,Eo(i.value),i.unit,i.securityContext,!1,r,On(i.i18n),i.sourceSpan));t.create.push(s.filter(i=>(i==null?void 0:i.kind)===h.ExtractedAttribute)),t.update.push(s.filter(i=>(i==null?void 0:i.kind)===h.Binding));for(let i of n.outputs){if(i.type===Ne.LegacyAnimation&&i.phase===null)throw Error("Animation listener should have a phase");if(r===ut.NgTemplate&&(i.type===Ne.TwoWay?t.create.push(Xd(e.xref,e.handle,i.name,e.tag,Im(t,i.handler,i.handlerSpan),i.sourceSpan)):t.create.push($u(e.xref,e.handle,i.name,e.tag,So(t,i.handler,i.handlerSpan),i.phase,i.target,!1,i.sourceSpan))),r===ut.Structural&&i.type!==Ne.LegacyAnimation){let o=Wr.securityContext(jr,i.name,!1);t.create.push(Ht(e.xref,R.Property,null,i.name,null,null,null,o))}}s.some(i=>i==null?void 0:i.i18nMessage)!==null&&t.create.push(Jd(t.job.allocateXrefId(),new Je,e.xref))}function ea(t,e,n,r,s,i,o,l,c,p,u){let d=typeof s=="string";if(c===ut.Structural){if(!l)switch(n){case Y.Property:case Y.Class:case Y.Style:return Ht(e,R.Property,null,r,null,null,p,o);case Y.TwoWay:return Ht(e,R.TwoWayProperty,null,r,null,null,p,o)}if(!d&&(n===Y.Attribute||n===Y.LegacyAnimation||n===Y.Animation))return null}let m=Nm.get(n);return c===ut.NgTemplate&&(n===Y.Class||n===Y.Style||n===Y.Attribute&&!d)&&(m=R.Property),as(e,m,r,hu(t.job,s,p),i,o,d,l,c,p,u)}function So(t,e,n){e=Eo(e);let r=new Array,s=e instanceof dr?e.expressions:[e];if(s.length===0)throw new Error("Expected listener to have non-empty expression list.");let i=s.map(l=>J(l,t.job,n)),o=i.pop();return r.push(...i.map(l=>Jt(new Lt(l,l.sourceSpan)))),r.push(Jt(new Ue(o,o.sourceSpan))),r}function Im(t,e,n){e=Eo(e);let r=new Array;if(e instanceof dr)if(e.expressions.length===1)e=e.expressions[0];else throw new Error("Expected two-way listener to have a single expression.");let s=J(e,t.job,n),i=new Ke("$event"),o=new _a(s,i);return r.push(Jt(new Lt(o))),r.push(Jt(new Ue(i))),r}function Eo(t){return t instanceof Se?t.ast:t}function Dm(t,e){qI(t.localRefs);for(let{name:n,value:r}of e.references)t.localRefs.push({name:n,target:r})}function qI(t){if(!Array.isArray(t))throw new Error("AssertionError: expected an array")}function Oe(t,e){if(e===null)return null;let n=e.start.moveBy(t.start),r=e.start.moveBy(t.end),s=e.fullStart.moveBy(t.start);return new H(n,r,s)}function Qa(t,e,n){let r=null;for(let s of n.children)if(!(s instanceof al||s instanceof _n)){if(r!==null)return null;if(s instanceof At||s instanceof Ce&&s.tagName!==null)r=s;else return null}if(r!==null){for(let i of r.attributes)if(!i.name.startsWith(xI)){let o=Wr.securityContext(jr,i.name,!0);t.update.push(as(e,R.Attribute,i.name,v(i.value),null,o,!0,!1,null,On(i.i18n),i.sourceSpan))}for(let i of r.inputs)if(i.type!==Y.LegacyAnimation&&i.type!==Y.Animation&&i.type!==Y.Attribute){let o=Wr.securityContext(jr,i.name,!0);t.create.push(Ht(e,R.Property,null,i.name,null,null,null,o))}let s=r instanceof At?r.name:r.tagName;return s===jr?null:s}return null}var WI=!1;function jI(){return WI}function Ja(t,e){return Co(X(Ru).bitwiseAnd(v(t),null),e)}function KI(t){return(t.descendants?1:0)|(t.static?2:0)|(t.emitDistinctChangesOnly?4:0)}function zI(t,e){if(Array.isArray(t.predicate)){let n=[];return t.predicate.forEach(r=>{let s=r.split(",").map(i=>v(i.trim()));n.push(...s)}),e.getConstLiteral(ie(n),!0)}else switch(t.predicate.forwardRef){case 0:case 2:return t.predicate.expression;case 1:return P(f.resolveForwardRef).callFn([t.predicate.expression])}}function bm(t,e,n,r){let s=[];r!==void 0&&s.push(...r),t.isSignal&&s.push(new ht(X(to),t.propertyName)),s.push(zI(t,e),v(KI(t))),t.read&&s.push(t.read);let i=t.isSignal?n.signalBased:n.nonSignal;return P(i).callFn(s)}var Wu=Symbol("queryAdvancePlaceholder");function _m(t){let e=[],n=0,r=()=>{n>0&&(e.unshift(P(f.queryAdvance).callFn(n===1?[]:[v(n)]).toStmt()),n=0)};for(let s=t.length-1;s>=0;s--){let i=t[s];i===Wu?n++:(r(),e.unshift(i))}return r(),e}function YI(t,e,n){let r=[],s=[],i=Sd(l=>s.push(l),ku);t.forEach(l=>{let c=bm(l,e,{signalBased:f.viewQuerySignal,nonSignal:f.viewQuery});if(r.push(c.toStmt()),l.isSignal){s.push(Wu);return}let p=i(),u=P(f.loadQuery).callFn([]),d=P(f.queryRefresh).callFn([p.set(u)]),m=X(to).prop(l.propertyName).set(l.first?p.prop("first"):p);s.push(d.and(m).toStmt())});let o=n?`${n}_Query`:null;return Hn([new $e(Ru,sl),new $e(to,null)],[Ja(1,r),Ja(2,_m(s))],wt,null,o)}function XI(t,e,n){let r=[],s=[],i=Sd(l=>s.push(l),ku);for(let l of t){if(r.push(bm(l,e,{nonSignal:f.contentQuery,signalBased:f.contentQuerySignal},[X("dirIndex")]).toStmt()),l.isSignal){s.push(Wu);continue}let c=i(),p=P(f.loadQuery).callFn([]),u=P(f.queryRefresh).callFn([c.set(p)]),d=X(to).prop(l.propertyName).set(l.first?c.prop("first"):c);s.push(u.and(d).toStmt())}let o=n?`${n}_ContentQueries`:null;return Hn([new $e(Ru,sl),new $e(to,null),new $e("dirIndex",null)],[Ja(1,r),Ja(2,_m(s))],wt,null,o)}var Za=class extends Ax{constructor(){super(ou)}parse(e,n,r){return super.parse(e,n,r)}},ta=".",QI="attr",jl="animate",JI="class",ZI="style",eD="*",Kl="animate-",fu=class{constructor(e,n,r,s){a(this,"_exprParser");a(this,"_interpolationConfig");a(this,"_schemaRegistry");a(this,"errors");this._exprParser=e,this._interpolationConfig=n,this._schemaRegistry=r,this.errors=s}get interpolationConfig(){return this._interpolationConfig}createBoundHostProperties(e,n){let r=[];for(let s of Object.keys(e)){let i=e[s];typeof i=="string"?this.parsePropertyBinding(s,i,!0,!1,n,n.start.offset,void 0,[],r,n):this._reportError(`Value of the host property binding "${s}" needs to be a string representing an expression but got "${i}" (${typeof i})`,n)}return r}createDirectiveHostEventAsts(e,n){let r=[];for(let s of Object.keys(e)){let i=e[s];typeof i=="string"?this.parseEvent(s,i,!1,n,n,[],r,n):this._reportError(`Value of the host listener "${s}" needs to be a string representing an expression but got "${i}" (${typeof i})`,n)}return r}parseInterpolation(e,n,r){let s=n.fullStart.offset;try{let i=this._exprParser.parseInterpolation(e,n,s,r,this._interpolationConfig);return i&&this.errors.push(...i.errors),i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",n,s)}}parseInterpolationExpression(e,n){let r=n.start.offset;try{let s=this._exprParser.parseInterpolationExpression(e,n,r);return s&&this.errors.push(...s.errors),s}catch(s){return this._reportError(`${s}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}parseInlineTemplateBinding(e,n,r,s,i,o,l,c){let p=r.start.offset+eD.length,u=this._parseTemplateBindings(e,n,r,p,s);for(let d of u){let m=Qn(r,d.sourceSpan),g=d.key.source,S=Qn(r,d.key.span);if(d instanceof zi){let T=d.value?d.value.source:"$implicit",N=d.value?Qn(r,d.value.span):void 0;l.push(new Sc(g,T,m,S,N))}else if(d.value){let T=c?m:r,N=Qn(r,d.value.ast.sourceSpan);this._parsePropertyAst(g,d.value,!1,T,S,N,i,o)}else i.push([g,""]),this.parseLiteralAttr(g,null,S,s,void 0,i,o,S)}}_parseTemplateBindings(e,n,r,s,i){try{let o=this._exprParser.parseTemplateBindings(e,n,r,s,i);return o.errors.forEach(l=>this.errors.push(l)),o.warnings.forEach(l=>{this._reportError(l,r,Mn.WARNING)}),o.templateBindings}catch(o){return this._reportError(`${o}`,r),[]}}parseLiteralAttr(e,n,r,s,i,o,l,c){zl(e)?(e=e.substring(1),c!==void 0&&(c=Qn(c,new Ye(c.start.offset+1,c.end.offset))),n&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',r,Mn.ERROR),this._parseLegacyAnimation(e,n,r,s,c,i,o,l)):l.push(new Is(e,this._exprParser.wrapLiteralPrimitive(n,"",s),nn.LITERAL_ATTR,r,c,i))}parsePropertyBinding(e,n,r,s,i,o,l,c,p,u){e.length===0&&this._reportError("Property name is missing in binding",i);let d=!1;e.startsWith(Kl)?(d=!0,e=e.substring(Kl.length),u!==void 0&&(u=Qn(u,new Ye(u.start.offset+Kl.length,u.end.offset)))):zl(e)&&(d=!0,e=e.substring(1),u!==void 0&&(u=Qn(u,new Ye(u.start.offset+1,u.end.offset)))),d?this._parseLegacyAnimation(e,n,i,o,u,l,c,p):e.startsWith(`${jl}${ta}`)?this._parseAnimation(e,this.parseBinding(n,r,l||i,o),i,u,l,c,p):this._parsePropertyAst(e,this.parseBinding(n,r,l||i,o),s,i,u,l,c,p)}parsePropertyInterpolation(e,n,r,s,i,o,l,c){let p=this.parseInterpolation(n,s||r,c);return p?(this._parsePropertyAst(e,p,!1,r,l,s,i,o),!0):!1}_parsePropertyAst(e,n,r,s,i,o,l,c){l.push([e,n.source]),c.push(new Is(e,n,r?nn.TWO_WAY:nn.DEFAULT,s,i,o))}_parseAnimation(e,n,r,s,i,o,l){o.push([e,n.source]),l.push(new Is(e,n,nn.ANIMATION,r,s,i))}_parseLegacyAnimation(e,n,r,s,i,o,l,c){e.length===0&&this._reportError("Animation trigger is missing",r);let p=this.parseBinding(n||"undefined",!1,o||r,s);l.push([e,p.source]),c.push(new Is(e,p,nn.LEGACY_ANIMATION,r,i,o))}parseBinding(e,n,r,s){try{let i=n?this._exprParser.parseSimpleBinding(e,r,s,this._interpolationConfig):this._exprParser.parseBinding(e,r,s,this._interpolationConfig);return i&&this.errors.push(...i.errors),i}catch(i){return this._reportError(`${i}`,r),this._exprParser.wrapLiteralPrimitive("ERROR",r,s)}}createBoundElementProperty(e,n,r=!1,s=!0){if(n.isLegacyAnimation)return new ga(n.name,Y.LegacyAnimation,pe.NONE,n.expression,null,n.sourceSpan,n.keySpan,n.valueSpan);let i=null,o,l=null,c=n.name.split(ta),p;if(c.length>1)if(c[0]==QI){l=c.slice(1).join(ta),r||this._validatePropertyOrAttributeName(l,n.sourceSpan,!0),p=Yl(this._schemaRegistry,e,l,!0);let u=l.indexOf(":");if(u>-1){let d=l.substring(0,u),m=l.substring(u+1);l=ra(d,m)}o=Y.Attribute}else c[0]==JI?(l=c[1],o=Y.Class,p=[pe.NONE]):c[0]==ZI?(i=c.length>2?c[2]:null,l=c[1],o=Y.Style,p=[pe.STYLE]):c[0]==jl&&(l=n.name,o=Y.Animation,p=[pe.NONE]);if(l===null){let u=this._schemaRegistry.getMappedPropName(n.name);l=s?u:n.name,p=Yl(this._schemaRegistry,e,u,!1),o=n.type===nn.TWO_WAY?Y.TwoWay:Y.Property,r||this._validatePropertyOrAttributeName(u,n.sourceSpan,!1)}return new ga(l,o,p[0],n.expression,i,n.sourceSpan,n.keySpan,n.valueSpan)}parseEvent(e,n,r,s,i,o,l,c){e.length===0&&this._reportError("Event name is missing in binding",s),zl(e)?(e=e.slice(1),c!==void 0&&(c=Qn(c,new Ye(c.start.offset+1,c.end.offset))),this._parseLegacyAnimationEvent(e,n,s,i,l,c)):this._parseRegularEvent(e,n,r,s,i,o,l,c)}calcPossibleSecurityContexts(e,n,r){let s=this._schemaRegistry.getMappedPropName(n);return Yl(this._schemaRegistry,e,s,r)}parseEventListenerName(e){let[n,r]=eE(e,[null,e]);return{eventName:r,target:n}}parseLegacyAnimationEventName(e){let n=tE(e,[e,null]);return{eventName:n[0],phase:n[1]===null?null:n[1].toLowerCase()}}_parseLegacyAnimationEvent(e,n,r,s,i,o){let{eventName:l,phase:c}=this.parseLegacyAnimationEventName(e),p=this._parseAction(n,s);i.push(new ma(l,c,Ne.LegacyAnimation,p,r,s,o)),l.length===0&&this._reportError("Animation event name is missing in binding",r),c?c!=="start"&&c!=="done"&&this._reportError(`The provided animation output phase value "${c}" for "@${l}" is not supported (use start or done)`,r):this._reportError(`The animation trigger output event (@${l}) is missing its phase value name (start or done are currently supported)`,r)}_parseRegularEvent(e,n,r,s,i,o,l,c){let{eventName:p,target:u}=this.parseEventListenerName(e),d=this.errors.length,m=this._parseAction(n,i),g=this.errors.length===d;o.push([e,m.source]),r&&g&&!this._isAllowedAssignmentEvent(m)&&this._reportError("Unsupported expression in a two-way binding",s);let S=Ne.Regular;r&&(S=Ne.TwoWay),e.startsWith(`${jl}${ta}`)&&(S=Ne.Animation),l.push(new ma(p,u,S,m,s,i,c))}_parseAction(e,n){let r=n&&n.start?n.start.offset:0;try{let s=this._exprParser.parseAction(e,n,r,this._interpolationConfig);return s&&this.errors.push(...s.errors),!s||s.ast instanceof et?(this._reportError("Empty expressions are not allowed",n),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)):s}catch(s){return this._reportError(`${s}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",n,r)}}_reportError(e,n,r=Mn.ERROR){this.errors.push(new V(n,e,r))}_validatePropertyOrAttributeName(e,n,r){let s=r?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);s.error&&this._reportError(s.msg,n,Mn.ERROR)}_isAllowedAssignmentEvent(e){return e instanceof Se?this._isAllowedAssignmentEvent(e.ast):e instanceof qi?this._isAllowedAssignmentEvent(e.expression):e instanceof Ct&&e.args.length===1&&e.receiver instanceof de&&e.receiver.name==="$any"&&e.receiver.receiver instanceof ft&&!(e.receiver.receiver instanceof Gn)?this._isAllowedAssignmentEvent(e.args[0]):(e instanceof de||e instanceof mr)&&!du(e)}};function du(t){return t instanceof We||t instanceof gr?!0:t instanceof Ki?du(t.expression):t instanceof de||t instanceof mr||t instanceof Ct?du(t.receiver):!1}function zl(t){return t[0]=="@"}function Yl(t,e,n,r){let s,i=o=>t.securityContext(o,n,r);return e===null?s=t.allKnownElementNames().map(i):(s=[],cn.parse(e).forEach(o=>{let l=o.element?[o.element]:t.allKnownElementNames(),c=new Set(o.notSelectors.filter(u=>u.isElementSelector()).map(u=>u.element)),p=l.filter(u=>!c.has(u));s.push(...p.map(i))})),s.length===0?[pe.NONE]:Array.from(new Set(s)).sort()}function Qn(t,e){let n=e.start-t.start.offset,r=e.end-t.end.offset;return new H(t.start.moveBy(n),t.end.moveBy(r),t.fullStart.moveBy(n),t.details)}function tD(t){if(t==null||t.length===0||t[0]=="/")return!1;let e=t.match(nD);return e===null||e[1]=="package"||e[1]=="asset"}var nD=/^([^:/?#]+):/,rD="select",sD="link",iD="rel",oD="href",aD="stylesheet",lD="style",cD="script",uD="ngNonBindable",pD="ngProjectAs";function km(t){let e=null,n=null,r=null,s=!1,i="";t.attrs.forEach(c=>{let p=c.name.toLowerCase();p==rD?e=c.value:p==oD?n=c.value:p==iD?r=c.value:c.name==uD?s=!0:c.name==pD&&c.value.length>0&&(i=c.value)}),e=hD(e);let o=t.name.toLowerCase(),l=Tt.OTHER;return Ec(o)?l=Tt.NG_CONTENT:o==lD?l=Tt.STYLE:o==cD?l=Tt.SCRIPT:o==sD&&r==aD&&(l=Tt.STYLESHEET),new mu(l,e,n,s,i)}var Tt;(function(t){t[t.NG_CONTENT=0]="NG_CONTENT",t[t.STYLE=1]="STYLE",t[t.STYLESHEET=2]="STYLESHEET",t[t.SCRIPT=3]="SCRIPT",t[t.OTHER=4]="OTHER"})(Tt||(Tt={}));var mu=class{constructor(e,n,r,s,i){a(this,"type");a(this,"selectAttr");a(this,"hrefAttr");a(this,"nonBindable");a(this,"projectAs");this.type=e,this.selectAttr=n,this.hrefAttr=r,this.nonBindable=s,this.projectAs=i}};function hD(t){return t===null||t.length===0?"*":t}var fD=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,dD=/^track\s+([\S\s]*)/,mD=/^(as\s+)(.*)/,hl=/^else[^\S\r\n]+if/,gD=/^let\s+([\S\s]*)/,yD=/^[$A-Z_][0-9A-Z_$]*$/i,Tf=/(\s*)(\S+)(\s*)/,_i=new Set(["$index","$first","$last","$even","$odd","$count"]);function wf(t){return t==="empty"}function xf(t){return t==="else"||hl.test(t)}function vD(t,e,n,r){let s=xD(e),i=[],o=Cf(t,s,r);o!==null&&i.push(new lr(o.expression,me(n,t.children,t.children),o.expressionAlias,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan,t.i18n));for(let d of e)if(hl.test(d.name)){let m=Cf(d,s,r);if(m!==null){let g=me(n,d.children,d.children);i.push(new lr(m.expression,g,m.expressionAlias,d.sourceSpan,d.startSourceSpan,d.endSourceSpan,d.nameSpan,d.i18n))}}else if(d.name==="else"){let m=me(n,d.children,d.children);i.push(new lr(null,m,null,d.sourceSpan,d.startSourceSpan,d.endSourceSpan,d.nameSpan,d.i18n))}let l=i.length>0?i[0].startSourceSpan:t.startSourceSpan,c=i.length>0?i[i.length-1].endSourceSpan:t.endSourceSpan,p=t.sourceSpan,u=i[i.length-1];return u!==void 0&&(p=new H(l.start,u.sourceSpan.end)),{node:new ts(i,p,t.startSourceSpan,c,t.nameSpan),errors:s}}function SD(t,e,n,r){var c,p;let s=[],i=TD(t,s,r),o=null,l=null;for(let u of e)u.name==="empty"?l!==null?s.push(new V(u.sourceSpan,"@for loop can only have one @empty block")):u.parameters.length>0?s.push(new V(u.sourceSpan,"@empty block cannot have parameters")):l=new Zi(me(n,u.children,u.children),u.sourceSpan,u.startSourceSpan,u.endSourceSpan,u.nameSpan,u.i18n):s.push(new V(u.sourceSpan,`Unrecognized @for loop block "${u.name}"`));if(i!==null)if(i.trackBy===null)s.push(new V(t.startSourceSpan,'@for loop must have a "track" expression'));else{let u=(c=l==null?void 0:l.endSourceSpan)!=null?c:t.endSourceSpan,d=new H(t.sourceSpan.start,(p=u==null?void 0:u.end)!=null?p:t.sourceSpan.end);o=new qn(i.itemName,i.expression,i.trackBy.expression,i.trackBy.keywordSpan,i.context,me(n,t.children,t.children),l,d,t.sourceSpan,t.startSourceSpan,u,t.nameSpan,t.i18n)}return{node:o,errors:s}}function ED(t,e,n){let r=CD(t),s=t.parameters.length>0?To(t.parameters[0],n):n.parseBinding("",!1,t.sourceSpan,0),i=[],o=[],l=null;for(let c of t.children){if(!(c instanceof Ut))continue;if((c.name!=="case"||c.parameters.length===0)&&c.name!=="default"){o.push(new Ta(c.name,c.sourceSpan,c.nameSpan));continue}let p=c.name==="case"?To(c.parameters[0],n):null,u=new Ji(p,me(e,c.children,c.children),c.sourceSpan,c.startSourceSpan,c.endSourceSpan,c.nameSpan,c.i18n);p===null?l=u:i.push(u)}return l!==null&&i.push(l),{node:new es(s,i,o,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan),errors:r}}function TD(t,e,n){var d;if(t.parameters.length===0)return e.push(new V(t.startSourceSpan,"@for loop does not have an expression")),null;let[r,...s]=t.parameters,i=(d=AD(r,e))==null?void 0:d.match(fD);if(!i||i[2].trim().length===0)return e.push(new V(r.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;let[,o,l]=i;_i.has(o)&&e.push(new V(r.sourceSpan,`@for loop item name cannot be one of ${Array.from(_i).join(", ")}.`));let c=r.expression.split(" ")[0],p=new H(r.sourceSpan.start,r.sourceSpan.start.moveBy(c.length)),u={itemName:new Qt(o,"$implicit",p,p),trackBy:null,expression:To(r,n,l),context:Array.from(_i,m=>{let g=new H(t.startSourceSpan.end,t.startSourceSpan.end);return new Qt(m,m,g,g)})};for(let m of s){let g=m.expression.match(gD);if(g!==null){let T=new H(m.sourceSpan.start.moveBy(g[0].length-g[1].length),m.sourceSpan.end);wD(m.sourceSpan,g[1],T,o,u.context,e);continue}let S=m.expression.match(dD);if(S!==null){if(u.trackBy!==null)e.push(new V(m.sourceSpan,'@for loop can only have one "track" expression'));else{let T=To(m,n,S[1]);T.ast instanceof et&&e.push(new V(t.startSourceSpan,'@for loop must have a "track" expression'));let N=new H(m.sourceSpan.start,m.sourceSpan.start.moveBy(5));u.trackBy={expression:T,keywordSpan:N}}continue}e.push(new V(m.sourceSpan,`Unrecognized @for loop parameter "${m.expression}"`))}return u}function wD(t,e,n,r,s,i){var c,p,u;let o=e.split(","),l=n.start;for(let d of o){let m=d.split("="),g=m.length===2?m[0].trim():"",S=m.length===2?m[1].trim():"";if(g.length===0||S.length===0)i.push(new V(t,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(!_i.has(S))i.push(new V(t,`Unknown "let" parameter variable "${S}". The allowed variables are: ${Array.from(_i).join(", ")}`));else if(g===r)i.push(new V(t,`Invalid @for loop "let" parameter. Variable cannot be called "${r}"`));else if(s.some(T=>T.name===g))i.push(new V(t,`Duplicate "let" parameter variable "${S}"`));else{let[,T,N]=(c=m[0].match(Tf))!=null?c:[],D=T!==void 0&&m.length===2?new H(l.moveBy(T.length),l.moveBy(T.length+N.length)):n,b;if(m.length===2){let[,O,re]=(p=m[1].match(Tf))!=null?p:[];b=O!==void 0?new H(l.moveBy(m[0].length+1+O.length),l.moveBy(m[0].length+1+O.length+re.length)):void 0}let U=new H(D.start,(u=b==null?void 0:b.end)!=null?u:D.end);s.push(new Qt(g,S,U,D,b))}l=l.moveBy(d.length+1)}}function xD(t){let e=[],n=!1;for(let r=0;r<t.length;r++){let s=t[r];s.name==="else"?(n?e.push(new V(s.startSourceSpan,"Conditional can only have one @else block")):t.length>1&&r<t.length-1?e.push(new V(s.startSourceSpan,"@else block must be last inside the conditional")):s.parameters.length>0&&e.push(new V(s.startSourceSpan,"@else block cannot have parameters")),n=!0):hl.test(s.name)||e.push(new V(s.startSourceSpan,`Unrecognized conditional block @${s.name}`))}return e}function CD(t){let e=[],n=!1;if(t.parameters.length!==1)return e.push(new V(t.startSourceSpan,"@switch block must have exactly one parameter")),e;for(let r of t.children)if(!(r instanceof mo||r instanceof ps&&r.value.trim().length===0)){if(!(r instanceof Ut)||r.name!=="case"&&r.name!=="default"){e.push(new V(r.sourceSpan,"@switch block can only contain @case and @default blocks"));continue}r.name==="default"?(n?e.push(new V(r.startSourceSpan,"@switch block can only have one @default block")):r.parameters.length>0&&e.push(new V(r.startSourceSpan,"@default block cannot have parameters")),n=!0):r.name==="case"&&r.parameters.length!==1&&e.push(new V(r.startSourceSpan,"@case block must have exactly one parameter"))}return e}function To(t,e,n){let r,s;return typeof n=="string"?(r=Math.max(0,t.expression.lastIndexOf(n)),s=r+n.length):(r=0,s=t.expression.length),e.parseBinding(t.expression.slice(r,s),!1,t.sourceSpan,t.sourceSpan.start.offset+r)}function Cf(t,e,n){if(t.parameters.length===0)return e.push(new V(t.startSourceSpan,"Conditional block does not have an expression")),null;let r=To(t.parameters[0],n),s=null;for(let i=1;i<t.parameters.length;i++){let o=t.parameters[i],l=o.expression.match(mD);if(l===null)e.push(new V(o.sourceSpan,`Unrecognized conditional parameter "${o.expression}"`));else if(t.name!=="if"&&!hl.test(t.name))e.push(new V(o.sourceSpan,'"as" expression is only allowed on `@if` and `@else if` blocks'));else if(s!==null)e.push(new V(o.sourceSpan,'Conditional can only have one "as" expression'));else{let c=l[2].trim();if(yD.test(c)){let p=o.sourceSpan.start.moveBy(l[1].length),u=new H(p,p.moveBy(c.length));s=new Qt(c,c,u,u)}else e.push(new V(o.sourceSpan,'"as" expression must be a valid JavaScript identifier'))}}return{expression:r,expressionAlias:s}}function AD(t,e){let n=t.expression,r=/^\s$/,s=0,i=0,o=n.length-1;for(let l=0;l<n.length;l++){let c=n[l];if(c==="(")i=l+1,s++;else{if(r.test(c))continue;break}}if(s===0)return n;for(let l=n.length-1;l>-1;l--){let c=n[l];if(c===")"){if(o=l,s--,s===0)break}else{if(r.test(c))continue;break}}return s!==0?(e.push(new V(t.sourceSpan,"Unclosed parentheses in expression")),null):n.slice(i,o)}var ND=/^\d+\.?\d*(ms|s)?$/,ID=/^\s$/,Af=new Map([[an,Et],[cr,Vr],[ln,it]]),ot;(function(t){t.IDLE="idle",t.TIMER="timer",t.INTERACTION="interaction",t.IMMEDIATE="immediate",t.HOVER="hover",t.VIEWPORT="viewport",t.NEVER="never"})(ot||(ot={}));function DD({expression:t,sourceSpan:e},n,r){let s=t.indexOf("never"),i=new H(e.start.moveBy(s),e.start.moveBy(s+5)),o=ju(t,e),l=Ku(t,e);s===-1?r.push(new V(e,'Could not find "never" keyword in expression')):zu("never",n,r,new wc(i,e,o,null,l))}function Xl({expression:t,sourceSpan:e},n,r,s){let i=t.indexOf("when"),o=new H(e.start.moveBy(i),e.start.moveBy(i+4)),l=ju(t,e),c=Ku(t,e);if(i===-1)s.push(new V(e,'Could not find "when" keyword in expression'));else{let p=wo(t,i+1),u=n.parseBinding(t.slice(p),!1,e,e.start.offset+p);zu("when",r,s,new ya(u,e,l,o,c))}}function Ql({expression:t,sourceSpan:e},n,r,s){let i=t.indexOf("on"),o=new H(e.start.moveBy(i),e.start.moveBy(i+2)),l=ju(t,e),c=Ku(t,e);if(i===-1)r.push(new V(e,'Could not find "on" keyword in expression'));else{let p=wo(t,i+1);new gu(t,p,e,n,r,t.startsWith("hydrate")?OD:MD,s,l,o,c).parse()}}function ju(t,e){return t.startsWith("prefetch")?new H(e.start,e.start.moveBy(8)):null}function Ku(t,e){return t.startsWith("hydrate")?new H(e.start,e.start.moveBy(7)):null}var gu=class{constructor(e,n,r,s,i,o,l,c,p,u){a(this,"expression");a(this,"start");a(this,"span");a(this,"triggers");a(this,"errors");a(this,"validator");a(this,"placeholder");a(this,"prefetchSpan");a(this,"onSourceSpan");a(this,"hydrateSpan");a(this,"index",0);a(this,"tokens");this.expression=e,this.start=n,this.span=r,this.triggers=s,this.errors=i,this.validator=o,this.placeholder=l,this.prefetchSpan=c,this.onSourceSpan=p,this.hydrateSpan=u,this.tokens=new vo().tokenize(e.slice(n))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){let e=this.token();if(!e.isIdentifier()){this.unexpectedToken(e);break}if(this.isFollowedByOrLast(qt))this.consumeTrigger(e,[]),this.advance();else if(this.isFollowedByOrLast(ln)){this.advance();let n=this.errors.length,r=this.consumeParameters();if(this.errors.length!==n)break;this.consumeTrigger(e,r),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(e){return this.index===this.tokens.length-1?!0:this.tokens[this.index+1].isCharacter(e)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(e,n){let r=this.span.start.moveBy(this.start+e.index-this.tokens[0].index),s=new H(r,r.moveBy(e.strValue.length)),i=r.moveBy(this.token().end-e.index),o=e.index===0,l=o?this.onSourceSpan:null,c=o?this.prefetchSpan:null,p=o?this.hydrateSpan:null,u=new H(o?this.span.start:r,i);try{switch(e.toString()){case ot.IDLE:this.trackTrigger("idle",bD(n,s,u,c,l,p));break;case ot.TIMER:this.trackTrigger("timer",_D(n,s,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case ot.INTERACTION:this.trackTrigger("interaction",PD(n,s,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;case ot.IMMEDIATE:this.trackTrigger("immediate",kD(n,s,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan));break;case ot.HOVER:this.trackTrigger("hover",RD(n,s,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.placeholder,this.validator));break;case ot.VIEWPORT:this.trackTrigger("viewport",LD(n,s,u,this.prefetchSpan,this.onSourceSpan,this.hydrateSpan,this.validator));break;default:throw new Error(`Unrecognized trigger type "${e}"`)}}catch(d){this.error(e,d.message)}}consumeParameters(){let e=[];if(!this.token().isCharacter(ln))return this.unexpectedToken(this.token()),e;this.advance();let n=[],r="";for(;this.index<this.tokens.length;){let s=this.token();if(s.isCharacter(it)&&n.length===0){r.length&&e.push(r);break}if(s.type===K.Character&&Af.has(s.numValue)&&n.push(Af.get(s.numValue)),n.length>0&&s.isCharacter(n[n.length-1])&&n.pop(),n.length===0&&s.isCharacter(qt)&&r.length>0){e.push(r),r="",this.advance();continue}r+=this.tokenText(),this.advance()}return(!this.token().isCharacter(it)||n.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(qt)&&this.unexpectedToken(this.tokens[this.index+1]),e}tokenText(){return this.expression.slice(this.start+this.token().index,this.start+this.token().end)}trackTrigger(e,n){zu(e,this.triggers,this.errors,n)}error(e,n){let r=this.span.start.moveBy(this.start+e.index),s=r.moveBy(e.end-e.index);this.errors.push(new V(new H(r,s),n))}unexpectedToken(e){this.error(e,`Unexpected token "${e}"`)}};function zu(t,e,n,r){e[t]?n.push(new V(r.sourceSpan,`Duplicate "${t}" trigger is not allowed`)):e[t]=r}function bD(t,e,n,r,s,i){if(t.length>0)throw new Error(`"${ot.IDLE}" trigger cannot have parameters`);return new xc(e,n,r,s,i)}function _D(t,e,n,r,s,i){if(t.length!==1)throw new Error(`"${ot.TIMER}" trigger must have exactly one parameter`);let o=el(t[0]);if(o===null)throw new Error(`Could not parse time value of trigger "${ot.TIMER}"`);return new Ac(o,e,n,r,s,i)}function kD(t,e,n,r,s,i){if(t.length>0)throw new Error(`"${ot.IMMEDIATE}" trigger cannot have parameters`);return new Cc(e,n,r,s,i)}function RD(t,e,n,r,s,i,o,l){var c;return l(ot.HOVER,t),new va((c=t[0])!=null?c:null,e,n,r,s,i)}function PD(t,e,n,r,s,i,o){var l;return o(ot.INTERACTION,t),new Sa((l=t[0])!=null?l:null,e,n,r,s,i)}function LD(t,e,n,r,s,i,o){var l;return o(ot.VIEWPORT,t),new Ea((l=t[0])!=null?l:null,e,n,r,s,i)}function MD(t,e){if(e.length>1)throw new Error(`"${t}" trigger can only have zero or one parameters`)}function OD(t,e){if(e.length>0)throw new Error(`Hydration trigger "${t}" cannot have parameters`)}function wo(t,e=0){let n=!1;for(let r=e;r<t.length;r++)if(ID.test(t[r]))n=!0;else if(n)return r;return-1}function el(t){let e=t.match(ND);if(!e)return null;let[n,r]=e;return parseFloat(n)*(r==="s"?1e3:1)}var FD=/^prefetch\s+when\s/,BD=/^prefetch\s+on\s/,$D=/^hydrate\s+when\s/,UD=/^hydrate\s+on\s/,VD=/^hydrate\s+never(\s*)$/,Rm=/^minimum\s/,HD=/^after\s/,GD=/^when\s/,qD=/^on\s/;function yu(t){return t==="placeholder"||t==="loading"||t==="error"}function WD(t,e,n,r){let s=[],{placeholder:i,loading:o,error:l}=jD(e,s,n),{triggers:c,prefetchTriggers:p,hydrateTriggers:u}=XD(t,r,s,i),d=t.endSourceSpan,m=t.sourceSpan.end;if(e.length>0){let T=e[e.length-1];d=T.endSourceSpan,m=T.sourceSpan.end}let g=new H(t.sourceSpan.start,m);return{node:new yr(me(n,t.children,t.children),c,p,u,i,o,l,t.nameSpan,g,t.sourceSpan,t.startSourceSpan,d,t.i18n),errors:s}}function jD(t,e,n){let r=null,s=null,i=null;for(let o of t)try{if(!yu(o.name)){e.push(new V(o.startSourceSpan,`Unrecognized block "@${o.name}"`));break}switch(o.name){case"placeholder":r!==null?e.push(new V(o.startSourceSpan,"@defer block can only have one @placeholder block")):r=KD(o,n);break;case"loading":s!==null?e.push(new V(o.startSourceSpan,"@defer block can only have one @loading block")):s=zD(o,n);break;case"error":i!==null?e.push(new V(o.startSourceSpan,"@defer block can only have one @error block")):i=YD(o,n);break}}catch(l){e.push(new V(o.startSourceSpan,l.message))}return{placeholder:r,loading:s,error:i}}function KD(t,e){let n=null;for(let r of t.parameters)if(Rm.test(r.expression)){if(n!=null)throw new Error('@placeholder block can only have one "minimum" parameter');let s=el(r.expression.slice(wo(r.expression)));if(s===null)throw new Error('Could not parse time value of parameter "minimum"');n=s}else throw new Error(`Unrecognized parameter in @placeholder block: "${r.expression}"`);return new Yi(me(e,t.children,t.children),n,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function zD(t,e){let n=null,r=null;for(let s of t.parameters)if(HD.test(s.expression)){if(n!=null)throw new Error('@loading block can only have one "after" parameter');let i=el(s.expression.slice(wo(s.expression)));if(i===null)throw new Error('Could not parse time value of parameter "after"');n=i}else if(Rm.test(s.expression)){if(r!=null)throw new Error('@loading block can only have one "minimum" parameter');let i=el(s.expression.slice(wo(s.expression)));if(i===null)throw new Error('Could not parse time value of parameter "minimum"');r=i}else throw new Error(`Unrecognized parameter in @loading block: "${s.expression}"`);return new Xi(me(e,t.children,t.children),n,r,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function YD(t,e){if(t.parameters.length>0)throw new Error("@error block cannot have parameters");return new Qi(me(e,t.children,t.children),t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function XD(t,e,n,r){let s={},i={},o={};for(let l of t.parameters)GD.test(l.expression)?Xl(l,e,s,n):qD.test(l.expression)?Ql(l,s,n,r):FD.test(l.expression)?Xl(l,e,i,n):BD.test(l.expression)?Ql(l,i,n,r):$D.test(l.expression)?Xl(l,e,o,n):UD.test(l.expression)?Ql(l,o,n,r):VD.test(l.expression)?DD(l,o,n):n.push(new V(l.sourceSpan,"Unrecognized trigger"));return o.never&&Object.keys(o).length>1&&n.push(new V(t.startSourceSpan,"Cannot specify additional `hydrate` triggers if `hydrate never` is present")),{triggers:s,prefetchTriggers:i,hydrateTriggers:o}}var QD=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,Nf=1,If=2,Df=3,bf=4,_f=5,JD=6,Ei=7,Jn={BANANA_BOX:{start:"[(",end:")]"},PROPERTY:{start:"[",end:"]"},EVENT:{start:"(",end:")"}},Jl="*",ZD=new Set(["link","style","script","ng-template","ng-container","ng-content"]),eb=new Set(["ngProjectAs","ngNonBindable"]);function tb(t,e,n){let r=new vu(e,n),s=me(r,t,t),i=e.errors.concat(r.errors),o={nodes:s,errors:i,styleUrls:r.styleUrls,styles:r.styles,ngContentSelectors:r.ngContentSelectors};return n.collectCommentNodes&&(o.commentNodes=r.commentNodes),o}var vu=class{constructor(e,n){a(this,"bindingParser");a(this,"options");a(this,"errors",[]);a(this,"styles",[]);a(this,"styleUrls",[]);a(this,"ngContentSelectors",[]);a(this,"commentNodes",[]);a(this,"inI18nBlock",!1);a(this,"processedNodes",new Set);this.bindingParser=e,this.options=n}visitElement(e){let n=oa(e.i18n);n&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);let r=km(e);if(r.type===Tt.SCRIPT)return null;if(r.type===Tt.STYLE){let D=nb(e);return D!==null&&this.styles.push(D),null}else if(r.type===Tt.STYLESHEET&&tD(r.hrefAttr))return this.styleUrls.push(r.hrefAttr),null;let s=TE(e.name),{attributes:i,boundEvents:o,references:l,variables:c,templateVariables:p,elementHasInlineTemplate:u,parsedProperties:d,templateParsedProperties:m,i18nAttrsMeta:g}=this.prepareAttributes(e.attrs,s),S=this.extractDirectives(e),T;r.nonBindable?T=me(kf,e.children).flat(1/0):T=me(this,e.children,e.children);let N;if(r.type===Tt.NG_CONTENT){let D=r.selectAttr,b=e.attrs.map(U=>this.visitAttribute(U));N=new ns(D,b,T,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n),this.ngContentSelectors.push(D)}else if(s){let D=this.categorizePropertyAttributes(e.name,d,g);N=new Ce(e.name,i,D.bound,o,S,[],T,l,c,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{let D=this.categorizePropertyAttributes(e.name,d,g);N=new At(e.name,i,D.bound,o,S,T,l,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid,e.i18n)}return u&&(N=this.wrapInTemplate(N,m,p,g,s,n)),n&&(this.inI18nBlock=!1),N}visitAttribute(e){return new Mt(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this.processedNodes.has(e)?null:this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!oa(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);let n=e.i18n,r={},s={};return Object.keys(n.placeholders).forEach(i=>{let o=n.placeholders[i];if(i.startsWith(AE)){let l=i.trim(),c=this.bindingParser.parseInterpolationExpression(o.text,o.sourceSpan);r[l]=new Zr(c,o.sourceSpan)}else s[i]=this._visitTextWithInterpolation(o.text,o.sourceSpan,null)}),new bu(r,s,e.sourceSpan,n)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new al(e.value||"",e.sourceSpan)),null}visitLetDeclaration(e,n){let r=this.bindingParser.parseBinding(e.value,!1,e.valueSpan,e.valueSpan.start.offset);return r.errors.length===0&&r.ast instanceof et&&this.reportError("@let declaration value cannot be empty",e.valueSpan),new _n(e.name,r,e.sourceSpan,e.nameSpan,e.valueSpan)}visitComponent(e){let n=oa(e.i18n);if(n&&(this.inI18nBlock&&this.reportError("Cannot mark a component as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0),e.tagName!==null&&ZD.has(e.tagName))return this.reportError(`Tag name "${e.tagName}" cannot be used as a component tag`,e.startSourceSpan),null;let{attributes:r,boundEvents:s,references:i,templateVariables:o,elementHasInlineTemplate:l,parsedProperties:c,templateParsedProperties:p,i18nAttrsMeta:u}=this.prepareAttributes(e.attrs,!1);this.validateSelectorlessReferences(i);let d=this.extractDirectives(e),m;e.attrs.find(T=>T.name==="ngNonBindable")?m=me(kf,e.children).flat(1/0):m=me(this,e.children,e.children);let g=this.categorizePropertyAttributes(e.tagName,c,u),S=new Fn(e.componentName,e.tagName,e.fullName,r,g.bound,s,d,m,i,e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n);return l&&(S=this.wrapInTemplate(S,p,o,u,!1,n)),n&&(this.inI18nBlock=!1),S}visitDirective(){return null}visitBlockParameter(){return null}visitBlock(e,n){let r=Array.isArray(n)?n.indexOf(e):-1;if(r===-1)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(e))return null;let s=null;switch(e.name){case"defer":s=WD(e,this.findConnectedBlocks(r,n,yu),this,this.bindingParser);break;case"switch":s=ED(e,this,this.bindingParser);break;case"for":s=SD(e,this.findConnectedBlocks(r,n,wf),this,this.bindingParser);break;case"if":s=vD(e,this.findConnectedBlocks(r,n,xf),this,this.bindingParser);break;default:let i;yu(e.name)?(i=`@${e.name} block can only be used after an @defer block.`,this.processedNodes.add(e)):wf(e.name)?(i=`@${e.name} block can only be used after an @for block.`,this.processedNodes.add(e)):xf(e.name)?(i=`@${e.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(e)):i=`Unrecognized block @${e.name}.`,s={node:new Ta(e.name,e.sourceSpan,e.nameSpan),errors:[new V(e.sourceSpan,i)]};break}return this.errors.push(...s.errors),s.node}findConnectedBlocks(e,n,r){let s=[];for(let i=e+1;i<n.length;i++){let o=n[i];if(!(o instanceof mo)){if(o instanceof ps&&o.value.trim().length===0){this.processedNodes.add(o);continue}if(!(o instanceof Ut)||!r(o.name))break;s.push(o),this.processedNodes.add(o)}}return s}categorizePropertyAttributes(e,n,r){let s=[],i=[];return n.forEach(o=>{let l=r[o.name];if(o.isLiteral)i.push(new Mt(o.name,o.expression.source||"",o.sourceSpan,o.keySpan,o.valueSpan,l));else{let c=this.bindingParser.createBoundElementProperty(e,o,!0,!1);s.push(Yt.fromBoundElementProperty(c,l))}}),{bound:s,literal:i}}prepareAttributes(e,n){let r=[],s=[],i=[],o=[],l=[],c={},p=[],u=[],d=!1;for(let m of e){let g=!1,S=Rf(m.name),T=!1;if(m.i18n&&(c[m.name]=m.i18n),S.startsWith(Jl)){d&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",m.sourceSpan),T=!0,d=!0;let N=m.value,D=S.substring(Jl.length),b=[],U=m.valueSpan?m.valueSpan.fullStart.offset:m.sourceSpan.fullStart.offset+m.name.length;this.bindingParser.parseInlineTemplateBinding(D,N,m.sourceSpan,U,[],p,b,!0),u.push(...b.map(O=>new Qt(O.name,O.value,O.sourceSpan,O.keySpan,O.valueSpan)))}else g=this.parseAttribute(n,m,[],r,s,i,o);!g&&!T&&l.push(this.visitAttribute(m))}return{attributes:l,boundEvents:s,references:o,variables:i,templateVariables:u,elementHasInlineTemplate:d,parsedProperties:r,templateParsedProperties:p,i18nAttrsMeta:c}}parseAttribute(e,n,r,s,i,o,l){var D;let c=Rf(n.name),p=n.value,u=n.sourceSpan,d=n.valueSpan?n.valueSpan.fullStart.offset:u.fullStart.offset;function m(b,U,O){let re=n.name.length-c.length,ne=b.start.moveBy(U.length+re),He=ne.moveBy(O.length);return new H(ne,He,ne,O)}let g=c.match(QD);if(g){if(g[Nf]!=null){let b=g[Ei],U=m(u,g[Nf],b);this.bindingParser.parsePropertyBinding(b,p,!1,!1,u,d,n.valueSpan,r,s,U)}else if(g[If])if(e){let b=g[Ei],U=m(u,g[If],b);this.parseVariable(b,p,u,U,n.valueSpan,o)}else this.reportError('"let-" is only supported on ng-template elements.',u);else if(g[Df]){let b=g[Ei],U=m(u,g[Df],b);this.parseReference(b,p,u,U,n.valueSpan,l)}else if(g[bf]){let b=[],U=g[Ei],O=m(u,g[bf],U);this.bindingParser.parseEvent(U,p,!1,u,n.valueSpan||u,r,b,O),Zl(b,i)}else if(g[_f]){let b=g[Ei],U=m(u,g[_f],b);this.bindingParser.parsePropertyBinding(b,p,!1,!0,u,d,n.valueSpan,r,s,U),this.parseAssignmentEvent(b,p,u,n.valueSpan,r,i,U,d)}else if(g[JD]){let b=m(u,"",c);this.bindingParser.parseLiteralAttr(c,p,u,d,n.valueSpan,r,s,b)}return!0}let S=null;if(c.startsWith(Jn.BANANA_BOX.start)?S=Jn.BANANA_BOX:c.startsWith(Jn.PROPERTY.start)?S=Jn.PROPERTY:c.startsWith(Jn.EVENT.start)&&(S=Jn.EVENT),S!==null&&c.endsWith(S.end)&&c.length>S.start.length+S.end.length){let b=c.substring(S.start.length,c.length-S.end.length),U=m(u,S.start,b);if(S.start===Jn.BANANA_BOX.start)this.bindingParser.parsePropertyBinding(b,p,!1,!0,u,d,n.valueSpan,r,s,U),this.parseAssignmentEvent(b,p,u,n.valueSpan,r,i,U,d);else if(S.start===Jn.PROPERTY.start)this.bindingParser.parsePropertyBinding(b,p,!1,!1,u,d,n.valueSpan,r,s,U);else{let O=[];this.bindingParser.parseEvent(b,p,!1,u,n.valueSpan||u,r,O,U),Zl(O,i)}return!0}let T=m(u,"",c);return this.bindingParser.parsePropertyInterpolation(c,p,u,n.valueSpan,r,s,T,(D=n.valueTokens)!=null?D:null)}extractDirectives(e){let n=e instanceof vt?e.tagName:e.name,r=[],s=new Set;for(let i of e.directives){let o=!1;for(let g of i.attrs)g.name.startsWith(Jl)?(o=!0,this.reportError(`Shorthand template syntax "${g.name}" is not supported inside a directive context`,g.sourceSpan)):eb.has(g.name)&&(o=!0,this.reportError(`Attribute "${g.name}" is not supported in a directive context`,g.sourceSpan));if(!o&&s.has(i.name)&&(o=!0,this.reportError(`Cannot apply directive "${i.name}" multiple times on the same element`,i.sourceSpan)),o)continue;let{attributes:l,parsedProperties:c,boundEvents:p,references:u,i18nAttrsMeta:d}=this.prepareAttributes(i.attrs,!1);this.validateSelectorlessReferences(u);let{bound:m}=this.categorizePropertyAttributes(n,c,d);for(let g of m)g.type!==Y.Property&&g.type!==Y.TwoWay&&(o=!0,this.reportError("Binding is not supported in a directive context",g.sourceSpan));o||(s.add(i.name),r.push(new ii(i.name,l,m,p,u,i.sourceSpan,i.startSourceSpan,i.endSourceSpan,void 0)))}return r}filterAnimationAttributes(e){return e.filter(n=>!n.name.startsWith("animate."))}filterAnimationInputs(e){return e.filter(n=>n.type!==Y.Animation)}wrapInTemplate(e,n,r,s,i,o){let l=this.categorizePropertyAttributes("ng-template",n,s),c=[];l.literal.forEach(m=>c.push(m)),l.bound.forEach(m=>c.push(m));let p={attributes:[],inputs:[],outputs:[]};(e instanceof At||e instanceof Fn)&&(p.attributes.push(...this.filterAnimationAttributes(e.attributes)),p.inputs.push(...this.filterAnimationInputs(e.inputs)),p.outputs.push(...e.outputs));let u=i&&o?void 0:e.i18n,d;return e instanceof Fn?d=e.tagName:e instanceof Ce?d=null:d=e.name,new Ce(d,p.attributes,p.inputs,p.outputs,[],c,[e],[],r,!1,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,u)}_visitTextWithInterpolation(e,n,r,s){let i=om(e),o=this.bindingParser.parseInterpolation(i,n,r);return o?new Zr(o,n,s):new ir(i,n)}parseVariable(e,n,r,s,i,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',r):e.length===0&&this.reportError("Variable does not have a name",r),o.push(new Qt(e,n,r,s,i))}parseReference(e,n,r,s,i,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',r):e.length===0?this.reportError("Reference does not have a name",r):o.some(l=>l.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,r),o.push(new Wn(e,n,r,s,i))}parseAssignmentEvent(e,n,r,s,i,o,l,c){let p=[];this.bindingParser.parseEvent(`${e}Change`,n,!0,r,s||r,i,p,l),Zl(p,o)}validateSelectorlessReferences(e){if(e.length===0)return;let n=new Set;for(let r of e)r.value.length>0?this.reportError("Cannot specify a value for a local reference in this context",r.valueSpan||r.sourceSpan):n.has(r.name)?this.reportError("Duplicate reference names are not allowed",r.sourceSpan):n.add(r.name)}reportError(e,n,r=Mn.ERROR){this.errors.push(new V(n,e,r))}},Su=class{visitElement(e){let n=km(e);if(n.type===Tt.SCRIPT||n.type===Tt.STYLE||n.type===Tt.STYLESHEET)return null;let r=me(this,e.children,null);return new At(e.name,me(this,e.attrs),[],[],[],r,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.isVoid)}visitComment(e){return null}visitAttribute(e){return new Mt(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new ir(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}visitBlock(e,n){let r=[new ir(e.startSourceSpan.toString(),e.startSourceSpan),...me(this,e.children)];return e.endSourceSpan!==null&&r.push(new ir(e.endSourceSpan.toString(),e.endSourceSpan)),r}visitBlockParameter(e,n){return null}visitLetDeclaration(e,n){return new ir(`@let ${e.name} = ${e.value};`,e.sourceSpan)}visitComponent(e,n){let r=me(this,e.children,null);return new At(e.fullName,me(this,e.attrs),[],[],[],r,[],e.isSelfClosing,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,!1)}visitDirective(e,n){return null}},kf=new Su;function Rf(t){return/^data-/i.test(t)?t.substring(5):t}function Zl(t,e){e.push(...t.map(n=>mn.fromParsedEvent(n)))}function nb(t){return t.children.length!==1||!(t.children[0]instanceof ps)?null:t.children[0].value}var rb=[" ",`
`,"\r","	"];function Pm(t,e,n={}){var re,ne,He,Ge;let{interpolationConfig:r,preserveWhitespaces:s,enableI18nLegacyMessageIdFormat:i}=n,o=(re=n.enableSelectorless)!=null?re:!1,l=hs(r,o),p=new Za().parse(t,e,fe(w({leadingTriviaChars:rb},n),{tokenizeExpansionForms:!0,tokenizeBlocks:(ne=n.enableBlockSyntax)!=null?ne:!0,tokenizeLet:(He=n.enableLetSyntax)!=null?He:!0,selectorlessEnabled:o}));if(!n.alwaysAttemptHtmlToR3AstConversion&&p.errors&&p.errors.length>0){let be={interpolationConfig:r,preserveWhitespaces:s,errors:p.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(be.commentNodes=[]),be}let u=p.rootNodes,d=!((Ge=n.preserveSignificantWhitespace)==null||Ge),m=new Wa(r,!s,i,void 0,n.preserveSignificantWhitespace,d),g=m.visitAllWithErrors(u);if(!n.alwaysAttemptHtmlToR3AstConversion&&g.errors&&g.errors.length>0){let be={interpolationConfig:r,preserveWhitespaces:s,errors:g.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(be.commentNodes=[]),be}u=g.rootNodes,s||(u=me(new Ga(!0,void 0,!1),u),m.hasI18nMeta&&(u=me(new Wa(r,!1,void 0,void 0,!0,d),u)));let{nodes:S,errors:T,styleUrls:N,styles:D,ngContentSelectors:b,commentNodes:U}=tb(u,l,{collectCommentNodes:!!n.collectCommentNodes});T.push(...p.errors,...g.errors);let O={interpolationConfig:r,preserveWhitespaces:s,errors:T.length>0?T:null,nodes:S,styleUrls:N,styles:D,ngContentSelectors:b};return n.collectCommentNodes&&(O.commentNodes=U),O}var sb=new yn;function hs(t=Vt,e=!1){return new fu(new qa(new vo,e),t,sb,[])}var Ar=class extends Ks{visit(e){e instanceof Se?this.visit(e.ast):e.visit(this)}visitElement(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitTemplate(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.templateAttrs),this.visitAllTemplateNodes(e.variables),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitContent(e){this.visitAllTemplateNodes(e.children)}visitBoundAttribute(e){this.visit(e.value)}visitBoundEvent(e){this.visit(e.handler)}visitBoundText(e){this.visit(e.value)}visitIcu(e){Object.keys(e.vars).forEach(n=>this.visit(e.vars[n])),Object.keys(e.placeholders).forEach(n=>this.visit(e.placeholders[n]))}visitDeferredBlock(e){e.visitAll(this)}visitDeferredTrigger(e){e instanceof ya&&this.visit(e.value)}visitDeferredBlockPlaceholder(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockError(e){this.visitAllTemplateNodes(e.children)}visitDeferredBlockLoading(e){this.visitAllTemplateNodes(e.children)}visitSwitchBlock(e){this.visit(e.expression),this.visitAllTemplateNodes(e.cases)}visitSwitchBlockCase(e){e.expression&&this.visit(e.expression),this.visitAllTemplateNodes(e.children)}visitForLoopBlock(e){var n;e.item.visit(this),this.visitAllTemplateNodes(e.contextVariables),this.visit(e.expression),this.visitAllTemplateNodes(e.children),(n=e.empty)==null||n.visit(this)}visitForLoopBlockEmpty(e){this.visitAllTemplateNodes(e.children)}visitIfBlock(e){this.visitAllTemplateNodes(e.branches)}visitIfBlockBranch(e){var n;e.expression&&this.visit(e.expression),(n=e.expressionAlias)==null||n.visit(this),this.visitAllTemplateNodes(e.children)}visitLetDeclaration(e){this.visit(e.value)}visitComponent(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.directives),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}visitDirective(e){this.visitAllTemplateNodes(e.attributes),this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs),this.visitAllTemplateNodes(e.references)}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitText(e){}visitUnknownBlock(e){}visitAllTemplateNodes(e){for(let n of e)this.visit(n)}};var ec="animate.leave";function ib(t){let e=new Eu;return Os(e,t),e.hasAnimations}var Eu=class extends Ar{constructor(){super(...arguments);a(this,"hasAnimations",!1)}visitElement(n){for(let r of n.attributes)r.name===ec&&(this.hasAnimations=!0);for(let r of n.inputs)r.name===ec&&(this.hasAnimations=!0);for(let r of n.outputs)r.name===ec&&(this.hasAnimations=!0);super.visitElement(n)}},Lm="%COMP%",ob=`_nghost-${Lm}`,ab=`_ngcontent-${Lm}`,tc="animate.leave";function Mm(t,e,n){let r=new Er,s=Du(t.selector);return r.set("type",t.type.value),s.length>0&&r.set("selectors",Ds(s)),t.queries.length>0&&r.set("contentQueries",XI(t.queries,e,t.name)),t.viewQueries.length&&r.set("viewQuery",YI(t.viewQueries,e,t.name)),r.set("hostBindings",fb(t.host,t.typeSourceSpan,n,e,t.selector||"",t.name,r)),r.set("inputs",gh(t.inputs,!0)),r.set("outputs",gh(t.outputs)),t.exportAs!==null&&r.set("exportAs",ie(t.exportAs.map(i=>v(i)))),t.isStandalone===!1&&r.set("standalone",v(!1)),t.isSignal&&r.set("signals",v(!0)),r}function Pf(t){return t.host.attributes[tc]!==void 0||t.host.properties[tc]!==void 0||t.host.listeners[tc]!==void 0}function Om(t,e){var o,l;let n=[],r=e.providers,s=e.viewProviders;if(r||s){let c=[r||new xt([])];s&&c.push(s),n.push(P(f.ProvidersFeature).callFn(c))}if((o=e.hostDirectives)!=null&&o.length&&n.push(P(f.HostDirectivesFeature).callFn([gb(e.hostDirectives)])),e.usesInheritance&&n.push(P(f.InheritDefinitionFeature)),e.fullInheritance&&n.push(P(f.CopyDefinitionFeature)),e.lifecycle.usesOnChanges&&n.push(P(f.NgOnChangesFeature)),"externalStyles"in e&&((l=e.externalStyles)!=null&&l.length)){let c=e.externalStyles.map(p=>v(p));n.push(P(f.ExternalStylesFeature).callFn([ie(c)]))}let i=e.template;(Pf(e)||i&&i.nodes.length>0)&&(Pf(e)||ib(i.nodes))&&n.push(P(f.AnimationsFeature).callFn([])),n.length&&t.set("features",ie(n))}function Fm(t,e,n){let r=Mm(t,e,n);Om(r,t);let s=P(f.defineDirective).callFn([r.toLiteralMap()],void 0,!0),i=hb(t);return{expression:s,type:i,statements:[]}}function Bm(t,e,n){var S;let r=Mm(t,e,n);Om(r,t);let s=t.selector&&cn.parse(t.selector),i=s&&s[0];if(i){let T=i.getAttrs();T.length&&r.set("attrs",e.getConstLiteral(ie(T.map(N=>N!=null?v(N):v(void 0))),!0))}let o=t.name,l=null;if(t.defer.mode===1&&t.defer.dependenciesFn!==null){let T=`${o}_DeferFn`;e.statements.push(new Pe(T,t.defer.dependenciesFn,void 0,Re.Final)),l=X(T)}let c=t.isStandalone&&!t.hasDirectiveDependencies?yt.DomOnly:yt.Full,p=AI(t.name,t.template.nodes,e,c,t.relativeContextFilePath,t.i18nUseExternalIds,t.defer,l,t.relativeTemplatePath,jI());Em(p,_.Tmpl);let u=TI(p,e);if(p.contentSelectors!==null&&r.set("ngContentSelectors",p.contentSelectors),r.set("decls",v(p.root.decls)),r.set("vars",v(p.root.vars)),p.consts.length>0&&(p.constsInitializers.length>0?r.set("consts",Kt([],[...p.constsInitializers,new Ue(ie(p.consts))])):r.set("consts",ie(p.consts))),r.set("template",u),t.declarationListEmitMode!==3&&t.declarations.length>0)r.set("dependencies",cb(ie(t.declarations.map(T=>T.type)),t.declarationListEmitMode));else if(t.declarationListEmitMode===3){let T=[t.type.value];t.rawImports&&T.push(t.rawImports),r.set("dependencies",P(f.getComponentDepsFactory).callFn(T))}t.encapsulation===null&&(t.encapsulation=Tn.Emulated);let d=!!((S=t.externalStyles)!=null&&S.length);if(t.styles&&t.styles.length){let N=(t.encapsulation==Tn.Emulated?mb(t.styles,ab,ob):t.styles).reduce((D,b)=>(b.trim().length>0&&D.push(e.getConstLiteral(v(b))),D),[]);N.length>0&&(d=!0,r.set("styles",ie(N)))}!d&&t.encapsulation===Tn.Emulated&&(t.encapsulation=Tn.None),t.encapsulation!==Tn.Emulated&&r.set("encapsulation",v(t.encapsulation)),t.animations!==null&&r.set("data",Qe([{key:"animation",value:t.animations,quoted:!1}])),t.changeDetection!==null&&(typeof t.changeDetection=="number"&&t.changeDetection!==aa.Default?r.set("changeDetection",v(t.changeDetection)):typeof t.changeDetection=="object"&&r.set("changeDetection",t.changeDetection));let m=P(f.defineComponent).callFn([r.toLiteralMap()],void 0,!0),g=lb(t);return{expression:m,type:g,statements:[]}}function lb(t){let e=$m(t);return e.push(wu(t.template.ngContentSelectors)),e.push(Ve(v(t.isStandalone))),e.push(Hm(t)),t.isSignal&&e.push(Ve(v(t.isSignal))),Ve(P(f.ComponentDeclaration,e))}function cb(t,e){switch(e){case 0:return t;case 1:return Kt([],t);case 2:let n=t.prop("map").callFn([P(f.resolveForwardRef)]);return Kt([],n);case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}function ub(t){return Ve(v(t))}function Tu(t){let e=Object.keys(t).map(n=>{let r=Array.isArray(t[n])?t[n][0]:t[n];return{key:n,value:v(r),quoted:!0}});return Qe(e)}function wu(t){return t.length>0?Ve(ie(t.map(e=>v(e)))):pn}function $m(t){let e=t.selector!==null?t.selector.replace(/\n/g,""):null;return[ol(t.type.type,t.typeArgumentCount),e!==null?ub(e):pn,t.exportAs!==null?wu(t.exportAs):pn,Ve(pb(t)),Ve(Tu(t.outputs)),wu(t.queries.map(n=>n.propertyName))]}function pb(t){return Qe(Object.keys(t.inputs).map(e=>{let n=t.inputs[e],r=[{key:"alias",value:v(n.bindingPropertyName),quoted:!0},{key:"required",value:v(n.required),quoted:!0}];return n.isSignal&&r.push({key:"isSignal",value:v(n.isSignal),quoted:!0}),{key:e,value:Qe(r),quoted:!0}}))}function hb(t){let e=$m(t);return e.push(pn),e.push(Ve(v(t.isStandalone))),e.push(Hm(t)),t.isSignal&&e.push(Ve(v(t.isSignal))),Ve(P(f.DirectiveDeclaration,e))}function fb(t,e,n,r,s,i,o){let l=n.createBoundHostProperties(t.properties,e),c=n.createDirectiveHostEventAsts(t.listeners,e);t.specialAttributes.styleAttr&&(t.attributes.style=v(t.specialAttributes.styleAttr)),t.specialAttributes.classAttr&&(t.attributes.class=v(t.specialAttributes.classAttr));let p=NI({componentName:i,componentSelector:s,properties:l,events:c,attributes:t.attributes},n,r);Em(p,_.Host),o.set("hostAttrs",p.root.attributes);let u=p.root.vars;return u!==null&&u>0&&o.set("hostVars",v(u)),wI(p)}var db=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function Um(t){let e={},n={},r={},s={};for(let i of Object.keys(t)){let o=t[i],l=i.match(db);if(l===null)switch(i){case"class":if(typeof o!="string")throw new Error("Class binding must be string");s.classAttr=o;break;case"style":if(typeof o!="string")throw new Error("Style binding must be string");s.styleAttr=o;break;default:typeof o=="string"?e[i]=v(o):e[i]=o}else if(l[1]!=null){if(typeof o!="string")throw new Error("Property binding must be string");r[l[1]]=o}else if(l[2]!=null){if(typeof o!="string")throw new Error("Event binding must be string");n[l[2]]=o}}return{attributes:e,listeners:n,properties:r,specialAttributes:s}}function Vm(t,e){let n=hs();return n.createDirectiveHostEventAsts(t.listeners,e),n.createBoundHostProperties(t.properties,e),n.errors}function mb(t,e,n){let r=new Fc;return t.map(s=>r.shimCssText(s,e,n))}function Hm(t){var e;return(e=t.hostDirectives)!=null&&e.length?Ve(ie(t.hostDirectives.map(n=>Qe([{key:"directive",value:si(n.directive.type),quoted:!1},{key:"inputs",value:Tu(n.inputs||{}),quoted:!1},{key:"outputs",value:Tu(n.outputs||{}),quoted:!1}])))):pn}function gb(t){let e=[],n=!1;for(let r of t){if(!r.inputs&&!r.outputs)e.push(r.directive.type);else{let s=[{key:"directive",value:r.directive.type,quoted:!1}];if(r.inputs){let i=Lf(r.inputs);i&&s.push({key:"inputs",value:i,quoted:!1})}if(r.outputs){let i=Lf(r.outputs);i&&s.push({key:"outputs",value:i,quoted:!1})}e.push(Qe(s))}r.isForwardReference&&(n=!0)}return n?new xn([],[new Ue(ie(e))]):ie(e)}function Lf(t){let e=[];for(let n in t)t.hasOwnProperty(n)&&e.push(v(n),v(t[n]));return e.length>0?ie(e):null}var xo=class{constructor(e){a(this,"directiveMatcher");this.directiveMatcher=e}bind(e){if(!e.template&&!e.host)throw new Error("Empty bound targets are not supported");let n=new Map,r=[],s=new Set,i=new Map,o=new Map,l=new Map,c=new Map,p=new Map,u=new Map,d=new Set,m=new Set,g=[];if(e.template){let S=tl.apply(e.template);yb(S,l),xu.apply(e.template,this.directiveMatcher,n,r,s,i,o),nl.applyWithScope(e.template,S,c,p,u,d,m,g)}return e.host&&(n.set(e.host.node,e.host.directives),nl.applyWithScope(e.host.node,tl.apply(e.host.node),c,p,u,d,m,g)),new Cu(e,n,r,s,i,o,c,p,u,l,d,m,g)}},tl=class t{constructor(e,n){a(this,"parentScope");a(this,"rootNode");a(this,"namedEntities",new Map);a(this,"elementLikeInScope",new Set);a(this,"childScopes",new Map);a(this,"isDeferred");this.parentScope=e,this.rootNode=n,this.isDeferred=e!==null&&e.isDeferred?!0:n instanceof yr}static newRootScope(){return new t(null,null)}static apply(e){let n=t.newRootScope();return n.ingest(e),n}ingest(e){e instanceof Ce?(e.variables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof lr?(e.expressionAlias!==null&&this.visitVariable(e.expressionAlias),e.children.forEach(n=>n.visit(this))):e instanceof qn?(this.visitVariable(e.item),e.contextVariables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof Ji||e instanceof Zi||e instanceof yr||e instanceof Qi||e instanceof Yi||e instanceof Xi||e instanceof ns?e.children.forEach(n=>n.visit(this)):e instanceof rs||e.forEach(n=>n.visit(this))}visitElement(e){this.visitElementLike(e)}visitTemplate(e){e.directives.forEach(n=>n.visit(this)),e.references.forEach(n=>this.visitReference(n)),this.ingestScopedNode(e)}visitVariable(e){this.maybeDeclare(e)}visitReference(e){this.maybeDeclare(e)}visitDeferredBlock(e){var n,r,s;this.ingestScopedNode(e),(n=e.placeholder)==null||n.visit(this),(r=e.loading)==null||r.visit(this),(s=e.error)==null||s.visit(this)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.cases.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){this.ingestScopedNode(e)}visitForLoopBlock(e){var n;this.ingestScopedNode(e),(n=e.empty)==null||n.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){this.ingestScopedNode(e)}visitContent(e){this.ingestScopedNode(e)}visitLetDeclaration(e){this.maybeDeclare(e)}visitComponent(e){this.visitElementLike(e)}visitDirective(e){e.references.forEach(n=>this.visitReference(n))}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundText(e){}visitText(e){}visitTextAttribute(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitElementLike(e){e.directives.forEach(n=>n.visit(this)),e.references.forEach(n=>this.visitReference(n)),e.children.forEach(n=>n.visit(this)),this.elementLikeInScope.add(e)}maybeDeclare(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}lookup(e){return this.namedEntities.has(e)?this.namedEntities.get(e):this.parentScope!==null?this.parentScope.lookup(e):null}getChildScope(e){let n=this.childScopes.get(e);if(n===void 0)throw new Error(`Assertion error: child scope for ${e} not found`);return n}ingestScopedNode(e){let n=new t(this,e);n.ingest(e),this.childScopes.set(e,n)}},xu=class t{constructor(e,n,r,s,i,o){a(this,"directiveMatcher");a(this,"directives");a(this,"eagerDirectives");a(this,"missingDirectives");a(this,"bindings");a(this,"references");a(this,"isInDeferBlock",!1);this.directiveMatcher=e,this.directives=n,this.eagerDirectives=r,this.missingDirectives=s,this.bindings=i,this.references=o}static apply(e,n,r,s,i,o,l){new t(n,r,s,i,o,l).ingest(e)}ingest(e){e.forEach(n=>n.visit(this))}visitElement(e){this.visitElementOrTemplate(e)}visitTemplate(e){this.visitElementOrTemplate(e)}visitDeferredBlock(e){var r,s,i;let n=this.isInDeferBlock;this.isInDeferBlock=!0,e.children.forEach(o=>o.visit(this)),this.isInDeferBlock=n,(r=e.placeholder)==null||r.visit(this),(s=e.loading)==null||s.visit(this),(i=e.error)==null||i.visit(this)}visitDeferredBlockPlaceholder(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockError(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockLoading(e){e.children.forEach(n=>n.visit(this))}visitSwitchBlock(e){e.cases.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){e.children.forEach(n=>n.visit(this))}visitForLoopBlock(e){var n;e.item.visit(this),e.contextVariables.forEach(r=>r.visit(this)),e.children.forEach(r=>r.visit(this)),(n=e.empty)==null||n.visit(this)}visitForLoopBlockEmpty(e){e.children.forEach(n=>n.visit(this))}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){var n;(n=e.expressionAlias)==null||n.visit(this),e.children.forEach(r=>r.visit(this))}visitContent(e){e.children.forEach(n=>n.visit(this))}visitComponent(e){if(this.directiveMatcher instanceof $s){let n=this.directiveMatcher.match(e.componentName);n.length>0?this.trackSelectorlessMatchesAndDirectives(e,n):this.missingDirectives.add(e.componentName)}e.directives.forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this))}visitDirective(e){if(this.directiveMatcher instanceof $s){let n=this.directiveMatcher.match(e.name);n.length>0?this.trackSelectorlessMatchesAndDirectives(e,n):this.missingDirectives.add(e.name)}}visitElementOrTemplate(e){if(this.directiveMatcher instanceof Kr){let n=[],r=Ed(e);this.directiveMatcher.match(r,(s,i)=>n.push(...i)),this.trackSelectorBasedBindingsAndDirectives(e,n)}else e.references.forEach(n=>{n.value.trim()===""&&this.references.set(n,e)});e.directives.forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this))}trackMatchedDirectives(e,n){n.length>0&&(this.directives.set(e,n),this.isInDeferBlock||this.eagerDirectives.push(...n))}trackSelectorlessMatchesAndDirectives(e,n){if(n.length===0)return;this.trackMatchedDirectives(e,n);let r=(s,i,o)=>{s[o].hasBindingPropertyName(i.name)&&this.bindings.set(i,s)};for(let s of n)e.inputs.forEach(i=>r(s,i,"inputs")),e.attributes.forEach(i=>r(s,i,"inputs")),e.outputs.forEach(i=>r(s,i,"outputs"));e.references.forEach(s=>this.references.set(s,{directive:n[0],node:e}))}trackSelectorBasedBindingsAndDirectives(e,n){this.trackMatchedDirectives(e,n),e.references.forEach(s=>{let i=null;if(s.value.trim()==="")i=n.find(o=>o.isComponent)||null;else if(i=n.find(o=>o.exportAs!==null&&o.exportAs.some(l=>l===s.value))||null,i===null)return;i!==null?this.references.set(s,{directive:i,node:e}):this.references.set(s,e)});let r=(s,i)=>{let o=n.find(c=>c[i].hasBindingPropertyName(s.name)),l=o!==void 0?o:e;this.bindings.set(s,l)};e.inputs.forEach(s=>r(s,"inputs")),e.attributes.forEach(s=>r(s,"inputs")),e instanceof Ce&&e.templateAttrs.forEach(s=>r(s,"inputs")),e.outputs.forEach(s=>r(s,"outputs"))}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundAttributeOrEvent(e){}visitText(e){}visitBoundText(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}visitLetDeclaration(e){}},nl=class t extends Ar{constructor(n,r,s,i,o,l,c,p,u){super();a(this,"bindings");a(this,"symbols");a(this,"usedPipes");a(this,"eagerPipes");a(this,"deferBlocks");a(this,"nestingLevel");a(this,"scope");a(this,"rootNode");a(this,"level");a(this,"visitNode",n=>n.visit(this));this.bindings=n,this.symbols=r,this.usedPipes=s,this.eagerPipes=i,this.deferBlocks=o,this.nestingLevel=l,this.scope=c,this.rootNode=p,this.level=u}static applyWithScope(n,r,s,i,o,l,c,p){let u=n instanceof Ce?n:null;new t(s,i,l,c,p,o,r,u,0).ingest(n)}ingest(n){if(n instanceof Ce)n.variables.forEach(this.visitNode),n.children.forEach(this.visitNode),this.nestingLevel.set(n,this.level);else if(n instanceof lr)n.expressionAlias!==null&&this.visitNode(n.expressionAlias),n.children.forEach(this.visitNode),this.nestingLevel.set(n,this.level);else if(n instanceof qn)this.visitNode(n.item),n.contextVariables.forEach(r=>this.visitNode(r)),n.trackBy.visit(this),n.children.forEach(this.visitNode),this.nestingLevel.set(n,this.level);else if(n instanceof yr){if(this.scope.rootNode!==n)throw new Error(`Assertion error: resolved incorrect scope for deferred block ${n}`);this.deferBlocks.push([n,this.scope]),n.children.forEach(r=>r.visit(this)),this.nestingLevel.set(n,this.level)}else n instanceof Ji||n instanceof Zi||n instanceof Qi||n instanceof Yi||n instanceof Xi||n instanceof ns?(n.children.forEach(r=>r.visit(this)),this.nestingLevel.set(n,this.level)):n instanceof rs?this.nestingLevel.set(n,0):n.forEach(this.visitNode)}visitTemplate(n){n.inputs.forEach(this.visitNode),n.outputs.forEach(this.visitNode),n.directives.forEach(this.visitNode),n.templateAttrs.forEach(this.visitNode),n.references.forEach(this.visitNode),this.ingestScopedNode(n)}visitVariable(n){this.rootNode!==null&&this.symbols.set(n,this.rootNode)}visitReference(n){this.rootNode!==null&&this.symbols.set(n,this.rootNode)}visitDeferredBlock(n){var r,s,i,o;this.ingestScopedNode(n),(r=n.triggers.when)==null||r.value.visit(this),(s=n.prefetchTriggers.when)==null||s.value.visit(this),(i=n.hydrateTriggers.when)==null||i.value.visit(this),(o=n.hydrateTriggers.never)==null||o.visit(this),n.placeholder&&this.visitNode(n.placeholder),n.loading&&this.visitNode(n.loading),n.error&&this.visitNode(n.error)}visitDeferredBlockPlaceholder(n){this.ingestScopedNode(n)}visitDeferredBlockError(n){this.ingestScopedNode(n)}visitDeferredBlockLoading(n){this.ingestScopedNode(n)}visitSwitchBlockCase(n){var r;(r=n.expression)==null||r.visit(this),this.ingestScopedNode(n)}visitForLoopBlock(n){var r;n.expression.visit(this),this.ingestScopedNode(n),(r=n.empty)==null||r.visit(this)}visitForLoopBlockEmpty(n){this.ingestScopedNode(n)}visitIfBlockBranch(n){var r;(r=n.expression)==null||r.visit(this),this.ingestScopedNode(n)}visitContent(n){this.ingestScopedNode(n)}visitLetDeclaration(n){super.visitLetDeclaration(n),this.rootNode!==null&&this.symbols.set(n,this.rootNode)}visitPipe(n,r){return this.usedPipes.add(n.name),this.scope.isDeferred||this.eagerPipes.add(n.name),super.visitPipe(n,r)}visitPropertyRead(n,r){return this.maybeMap(n,n.name),super.visitPropertyRead(n,r)}visitSafePropertyRead(n,r){return this.maybeMap(n,n.name),super.visitSafePropertyRead(n,r)}ingestScopedNode(n){let r=this.scope.getChildScope(n);new t(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,r,n,this.level+1).ingest(n)}maybeMap(n,r){if(!(n.receiver instanceof ft)||n.receiver instanceof Gn)return;let s=this.scope.lookup(r);s!==null&&this.bindings.set(n,s)}},Cu=class{constructor(e,n,r,s,i,o,l,c,p,u,d,m,g){a(this,"target");a(this,"directives");a(this,"eagerDirectives");a(this,"missingDirectives");a(this,"bindings");a(this,"references");a(this,"exprTargets");a(this,"symbols");a(this,"nestingLevel");a(this,"scopedNodeEntities");a(this,"usedPipes");a(this,"eagerPipes");a(this,"deferredBlocks");a(this,"deferredScopes");this.target=e,this.directives=n,this.eagerDirectives=r,this.missingDirectives=s,this.bindings=i,this.references=o,this.exprTargets=l,this.symbols=c,this.nestingLevel=p,this.scopedNodeEntities=u,this.usedPipes=d,this.eagerPipes=m,this.deferredBlocks=g.map(S=>S[0]),this.deferredScopes=new Map(g)}getEntitiesInScope(e){var n;return(n=this.scopedNodeEntities.get(e))!=null?n:new Set}getDirectivesOfNode(e){return this.directives.get(e)||null}getReferenceTarget(e){return this.references.get(e)||null}getConsumerOfBinding(e){return this.bindings.get(e)||null}getExpressionTarget(e){return this.exprTargets.get(e)||null}getDefinitionNodeOfSymbol(e){return this.symbols.get(e)||null}getNestingLevel(e){return this.nestingLevel.get(e)||0}getUsedDirectives(){let e=new Set;return this.directives.forEach(n=>n.forEach(r=>e.add(r))),Array.from(e.values())}getEagerlyUsedDirectives(){let e=new Set(this.eagerDirectives);return Array.from(e.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return this.deferredBlocks}getDeferredTriggerTarget(e,n){if(!(n instanceof Sa)&&!(n instanceof Ea)&&!(n instanceof va))return null;let r=n.reference;if(r===null){let i=null;if(e.placeholder!==null){for(let o of e.placeholder.children)if(!(o instanceof al)){if(i!==null)return null;o instanceof At&&(i=o)}}return i}let s=this.findEntityInScope(e,r);if(s instanceof Wn&&this.getDefinitionNodeOfSymbol(s)!==e){let i=this.getReferenceTarget(s);if(i!==null)return this.referenceTargetToElement(i)}if(e.placeholder!==null){let i=this.findEntityInScope(e.placeholder,r),o=i instanceof Wn?this.getReferenceTarget(i):null;if(o!==null)return this.referenceTargetToElement(o)}return null}isDeferred(e){for(let n of this.deferredBlocks){if(!this.deferredScopes.has(n))continue;let r=[this.deferredScopes.get(n)];for(;r.length>0;){let s=r.pop();if(s.elementLikeInScope.has(e))return!0;r.push(...s.childScopes.values())}}return!1}referencedDirectiveExists(e){return!this.missingDirectives.has(e)}findEntityInScope(e,n){let r=this.getEntitiesInScope(e);for(let s of r)if(s.name===n)return s;return null}referenceTargetToElement(e){return e instanceof At?e:e instanceof Ce||e.node instanceof Fn||e.node instanceof ii||e.node instanceof rs?null:this.referenceTargetToElement(e.node)}};function yb(t,e){let n=new Map;function r(i){if(n.has(i.rootNode))return n.get(i.rootNode);let o=i.namedEntities,l;return i.parentScope!==null?l=new Map([...r(i.parentScope),...o]):l=new Map(o),n.set(i.rootNode,l),l}let s=[t];for(;s.length>0;){let i=s.pop();for(let o of i.childScopes.values())s.push(o);r(i)}for(let[i,o]of n)e.set(i,new Set(o.values()))}var Au=class{},Nu=class{constructor(e=new Rc){a(this,"jitEvaluator");a(this,"FactoryTarget",at);a(this,"ResourceLoader",Au);a(this,"elementSchemaRegistry",new yn);this.jitEvaluator=e}compilePipe(e,n,r){let s={name:r.name,type:Fe(r.type),typeArgumentCount:0,deps:null,pipeName:r.pipeName,pure:r.pure,isStandalone:r.isStandalone},i=Oc(s);return this.jitExpression(i.expression,e,n,[])}compilePipeDeclaration(e,n,r){let s=Lb(r),i=Oc(s);return this.jitExpression(i.expression,e,n,[])}compileInjectable(e,n,r){var o;let{expression:s,statements:i}=Dc({name:r.name,type:Fe(r.type),typeArgumentCount:r.typeArgumentCount,providedIn:Uf(r.providedIn),useClass:Cs(r,"useClass"),useFactory:$f(r,"useFactory"),useValue:Cs(r,"useValue"),useExisting:Cs(r,"useExisting"),deps:(o=r.deps)==null?void 0:o.map(jm)},!0);return this.jitExpression(s,e,n,i)}compileInjectableDeclaration(e,n,r){var o;let{expression:s,statements:i}=Dc({name:r.type.name,type:Fe(r.type),typeArgumentCount:0,providedIn:Uf(r.providedIn),useClass:Cs(r,"useClass"),useFactory:$f(r,"useFactory"),useValue:Cs(r,"useValue"),useExisting:Cs(r,"useExisting"),deps:(o=r.deps)==null?void 0:o.map(Vf)},!0);return this.jitExpression(s,e,n,i)}compileInjector(e,n,r){let s={name:r.name,type:Fe(r.type),providers:r.providers&&r.providers.length>0?new G(r.providers):null,imports:r.imports.map(o=>new G(o))},i=Lc(s);return this.jitExpression(i.expression,e,n,[])}compileInjectorDeclaration(e,n,r){let s=Mb(r),i=Lc(s);return this.jitExpression(i.expression,e,n,[])}compileNgModule(e,n,r){let s={kind:wn.Global,type:Fe(r.type),bootstrap:r.bootstrap.map(Fe),declarations:r.declarations.map(Fe),publicDeclarationTypes:null,imports:r.imports.map(Fe),includeImportTypes:!0,exports:r.exports.map(Fe),selectorScopeMode:Xs.Inline,containsForwardDecls:!1,schemas:r.schemas?r.schemas.map(Fe):null,id:r.id?new G(r.id):null},i=Ld(s);return this.jitExpression(i.expression,e,n,[])}compileNgModuleDeclaration(e,n,r){let s=XE(r);return this.jitExpression(s,e,n,[])}compileDirective(e,n,r){let s=Ff(r);return this.compileDirectiveFromMeta(e,n,s)}compileDirectiveDeclaration(e,n,r){let s=this.createParseSourceSpan("Directive",r.type.name,n),i=qm(r,s);return this.compileDirectiveFromMeta(e,n,i)}compileDirectiveFromMeta(e,n,r){let s=new Ws,i=hs(),o=Fm(r,s,i);return this.jitExpression(o.expression,e,n,s.statements)}compileComponent(e,n,r){var p;let{template:s,interpolation:i,defer:o}=Wm(r.template,r.name,n,r.preserveWhitespaces,r.interpolation,void 0),l=fe(w(w({},r),Ff(r)),{selector:r.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:s,declarations:r.declarations.map(Tb),declarationListEmitMode:0,defer:o,styles:[...r.styles,...s.styles],encapsulation:r.encapsulation,interpolation:i,changeDetection:(p=r.changeDetection)!=null?p:null,animations:r.animations!=null?new G(r.animations):null,viewProviders:r.viewProviders!=null?new G(r.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null}),c=`ng:///${r.name}.js`;return this.compileComponentFromMeta(e,c,l)}compileComponentDeclaration(e,n,r){let s=this.createParseSourceSpan("Component",r.type.name,n),i=Eb(r,s,n);return this.compileComponentFromMeta(e,n,i)}compileComponentFromMeta(e,n,r){let s=new Ws,i=hs(r.interpolation),o=Bm(r,s,i);return this.jitExpression(o.expression,e,n,s.statements)}compileFactory(e,n,r){let s=nr({name:r.name,type:Fe(r.type),typeArgumentCount:r.typeArgumentCount,deps:Cb(r.deps),target:r.target});return this.jitExpression(s.expression,e,n,s.statements)}compileFactoryDeclaration(e,n,r){let s=nr({name:r.type.name,type:Fe(r.type),typeArgumentCount:0,deps:Array.isArray(r.deps)?r.deps.map(Vf):r.deps,target:r.target});return this.jitExpression(s.expression,e,n,s.statements)}createParseSourceSpan(e,n,r){return GE(e,n,r)}jitExpression(e,n,r,s){let i=[...s,new Pe("$def",e,void 0,Re.Exported)];return this.jitEvaluator.evaluateStatements(r,i,new Mc(n),!0).$def}};function Mf(t){return fe(w({},t),{isSignal:t.isSignal,predicate:Gm(t.predicate),read:t.read?new G(t.read):null,static:t.static,emitDistinctChangesOnly:t.emitDistinctChangesOnly})}function Of(t){var e,n,r,s;return{propertyName:t.propertyName,first:(e=t.first)!=null?e:!1,predicate:Gm(t.predicate),descendants:(n=t.descendants)!=null?n:!1,read:t.read?new G(t.read):null,static:(r=t.static)!=null?r:!1,emitDistinctChangesOnly:(s=t.emitDistinctChangesOnly)!=null?s:!0,isSignal:!!t.isSignal}}function Gm(t){return Array.isArray(t)?t:ds(new G(t),1)}function Ff(t){var l;let e=Pb(t.inputs||[]),n=rc(t.outputs||[]),r=t.propMetadata,s={},i={};for(let c in r)r.hasOwnProperty(c)&&r[c].forEach(p=>{bb(p)?s[c]={bindingPropertyName:p.alias||c,classPropertyName:c,required:p.required||!1,isSignal:!!p.isSignal,transformFunction:p.transform!=null?new G(p.transform):null}:_b(p)&&(i[c]=p.alias||c)});let o=(l=t.hostDirectives)!=null&&l.length?t.hostDirectives.map(c=>typeof c=="function"?{directive:Fe(c),inputs:null,outputs:null,isForwardReference:!1}:{directive:Fe(c.directive),isForwardReference:!1,inputs:c.inputs?rc(c.inputs):null,outputs:c.outputs?rc(c.outputs):null}):null;return fe(w({},t),{typeArgumentCount:0,typeSourceSpan:t.typeSourceSpan,type:Fe(t.type),deps:null,host:w({},Nb(t.propMetadata,t.typeSourceSpan,t.host)),inputs:w(w({},e),s),outputs:w(w({},n),i),queries:t.queries.map(Mf),providers:t.providers!=null?new G(t.providers):null,viewQueries:t.viewQueries.map(Mf),fullInheritance:!1,hostDirectives:o})}function qm(t,e){var r,s,i,o,l,c,p,u,d,m;let n=(r=t.hostDirectives)!=null&&r.length?t.hostDirectives.map(g=>({directive:Fe(g.directive),isForwardReference:!1,inputs:g.inputs?Bf(g.inputs):null,outputs:g.outputs?Bf(g.outputs):null})):null;return{name:t.type.name,type:Fe(t.type),typeSourceSpan:e,selector:(s=t.selector)!=null?s:null,inputs:t.inputs?kb(t.inputs):{},outputs:(i=t.outputs)!=null?i:{},host:vb(t.host),queries:((o=t.queries)!=null?o:[]).map(Of),viewQueries:((l=t.viewQueries)!=null?l:[]).map(Of),providers:t.providers!==void 0?new G(t.providers):null,exportAs:(c=t.exportAs)!=null?c:null,usesInheritance:(p=t.usesInheritance)!=null?p:!1,lifecycle:{usesOnChanges:(u=t.usesOnChanges)!=null?u:!1},deps:null,typeArgumentCount:0,fullInheritance:!1,isStandalone:(d=t.isStandalone)!=null?d:dd(t.version),isSignal:(m=t.isSignal)!=null?m:!1,hostDirectives:n}}function vb(t={}){var e,n,r;return{attributes:Sb((e=t.attributes)!=null?e:{}),listeners:(n=t.listeners)!=null?n:{},properties:(r=t.properties)!=null?r:{},specialAttributes:{classAttr:t.classAttribute,styleAttr:t.styleAttribute}}}function Bf(t){let e=null;for(let n=1;n<t.length;n+=2)e=e||{},e[t[n-1]]=t[n];return e}function Sb(t){let e={};for(let n of Object.keys(t))e[n]=new G(t[n]);return e}function Eb(t,e,n){var c,p,u,d;let{template:r,interpolation:s,defer:i}=Wm(t.template,t.type.name,n,(c=t.preserveWhitespaces)!=null?c:!1,t.interpolation,t.deferBlockDependencies),o=[];if(t.dependencies)for(let m of t.dependencies)switch(m.kind){case"directive":case"component":o.push(nc(m));break;case"pipe":o.push(xb(m));break}else(t.components||t.directives||t.pipes)&&(t.components&&o.push(...t.components.map(m=>nc(m,!0))),t.directives&&o.push(...t.directives.map(m=>nc(m))),t.pipes&&o.push(...wb(t.pipes)));let l=o.some(({kind:m})=>m===wr.Directive||m===wr.NgModule);return fe(w({},qm(t,e)),{template:r,styles:(p=t.styles)!=null?p:[],declarations:o,viewProviders:t.viewProviders!==void 0?new G(t.viewProviders):null,animations:t.animations!==void 0?new G(t.animations):null,defer:i,changeDetection:(u=t.changeDetection)!=null?u:aa.Default,encapsulation:(d=t.encapsulation)!=null?d:Tn.Emulated,interpolation:s,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0,relativeTemplatePath:null,hasDirectiveDependencies:l})}function Tb(t){return fe(w({},t),{type:new G(t.type)})}function nc(t,e=null){var n,r,s;return{kind:wr.Directive,isComponent:e||t.kind==="component",selector:t.selector,type:new G(t.type),inputs:(n=t.inputs)!=null?n:[],outputs:(r=t.outputs)!=null?r:[],exportAs:(s=t.exportAs)!=null?s:null}}function wb(t){return t?Object.keys(t).map(e=>({kind:wr.Pipe,name:e,type:new G(t[e])})):[]}function xb(t){return{kind:wr.Pipe,name:t.name,type:new G(t.type)}}function Wm(t,e,n,r,s,i){let o=s?no.fromArray(s):Vt,l=Pm(t,n,{preserveWhitespaces:r,interpolationConfig:o});if(l.errors!==null){let u=l.errors.map(d=>d.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${u}`)}let p=new xo(null).bind({template:l.nodes});return{template:l,interpolation:o,defer:Ab(p,i)}}function Cs(t,e){if(t.hasOwnProperty(e))return ds(new G(t[e]),0)}function $f(t,e){if(t.hasOwnProperty(e))return new G(t[e])}function Uf(t){let e=typeof t=="function"?new G(t):new Ie(t!=null?t:null);return ds(e,0)}function Cb(t){return t==null?null:t.map(jm)}function jm(t){let e=t.attribute!=null,n=t.token===null?null:new G(t.token),r=e?new G(t.attribute):n;return Km(r,e,t.host,t.optional,t.self,t.skipSelf)}function Vf(t){var r,s,i,o,l;let e=(r=t.attribute)!=null?r:!1,n=t.token===null?null:new G(t.token);return Km(n,e,(s=t.host)!=null?s:!1,(i=t.optional)!=null?i:!1,(o=t.self)!=null?o:!1,(l=t.skipSelf)!=null?l:!1)}function Km(t,e,n,r,s,i){let o=e?v("unknown"):null;return{token:t,attributeNameType:o,host:n,optional:r,self:s,skipSelf:i}}function Ab(t,e){let n=t.getDeferBlocks(),r=new Map;for(let s=0;s<n.length;s++){let i=e==null?void 0:e[s];r.set(n[s],i?new G(i):null)}return{mode:0,blocks:r}}function Nb(t,e,n){let r=Um(n||{}),s=Vm(r,e);if(s.length)throw new Error(s.map(i=>i.msg).join(`
`));for(let i in t)t.hasOwnProperty(i)&&t[i].forEach(o=>{Ib(o)?r.properties[o.hostPropertyName||i]=md("this",i):Db(o)&&(r.listeners[o.eventName||i]=`${i}(${(o.args||[]).join(",")})`)});return r}function Ib(t){return t.ngMetadataName==="HostBinding"}function Db(t){return t.ngMetadataName==="HostListener"}function bb(t){return t.ngMetadataName==="Input"}function _b(t){return t.ngMetadataName==="Output"}function kb(t){return Object.keys(t).reduce((e,n)=>{let r=t[n];return typeof r=="string"||Array.isArray(r)?e[n]=Rb(r):e[n]={bindingPropertyName:r.publicName,classPropertyName:n,transformFunction:r.transformFunction!==null?new G(r.transformFunction):null,required:r.isRequired,isSignal:r.isSignal},e},{})}function Rb(t){return typeof t=="string"?{bindingPropertyName:t,classPropertyName:t,transformFunction:null,required:!1,isSignal:!1}:{bindingPropertyName:t[0],classPropertyName:t[1],transformFunction:t[2]?new G(t[2]):null,required:!1,isSignal:!1}}function Pb(t){return t.reduce((e,n)=>{if(typeof n=="string"){let[r,s]=zm(n);e[s]={bindingPropertyName:r,classPropertyName:s,required:!1,isSignal:!1,transformFunction:null}}else e[n.name]={bindingPropertyName:n.alias||n.name,classPropertyName:n.name,required:n.required||!1,isSignal:!1,transformFunction:n.transform!=null?new G(n.transform):null};return e},{})}function rc(t){return t.reduce((e,n)=>{let[r,s]=zm(n);return e[s]=r,e},{})}function zm(t){let[e,n]=t.split(":",2).map(r=>r.trim());return[n!=null?n:e,e]}function Lb(t){var e,n;return{name:t.type.name,type:Fe(t.type),typeArgumentCount:0,pipeName:t.name,deps:null,pure:(e=t.pure)!=null?e:!0,isStandalone:(n=t.isStandalone)!=null?n:dd(t.version)}}function Mb(t){return{name:t.type.name,type:Fe(t.type),providers:t.providers!==void 0&&t.providers.length>0?new G(t.providers):null,imports:t.imports!==void 0?t.imports.map(e=>new G(e)):[]}}function Ob(t){let e=t.ng||(t.ng={});e.\u0275compilerFacade=new Nu}var Hf;(function(t){t[t.Extract=0]="Extract",t[t.Merge=1]="Merge"})(Hf||(Hf={}));var Iu=class{constructor(){a(this,"closedByParent",!1);a(this,"implicitNamespacePrefix",null);a(this,"isVoid",!1);a(this,"ignoreFirstLf",!1);a(this,"canSelfClose",!0);a(this,"preventNamespaceInheritance",!1)}requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return on.PARSABLE_DATA}},kM=new Iu;var RM=new Ui("20.3.0");Ob(Ai);var OM=(0,Xm.createRequire)(F);var FM=new Map([[Cn.Minus,"-"],[Cn.Plus,"+"]]),BM=new Map([[E.And,"&&"],[E.Bigger,">"],[E.BiggerEquals,">="],[E.BitwiseAnd,"&"],[E.BitwiseOr,"|"],[E.Divide,"/"],[E.Equals,"=="],[E.Identical,"==="],[E.Lower,"<"],[E.LowerEquals,"<="],[E.Minus,"-"],[E.Modulo,"%"],[E.Multiply,"*"],[E.NotEquals,"!="],[E.NotIdentical,"!=="],[E.Or,"||"],[E.Plus,"+"],[E.NullishCoalesce,"??"],[E.Exponentiation,"**"],[E.In,"in"],[E.Assign,"="],[E.AdditionAssignment,"+="],[E.SubtractionAssignment,"-="],[E.MultiplicationAssignment,"*="],[E.DivisionAssignment,"/="],[E.RemainderAssignment,"%="],[E.ExponentiationAssignment,"**="],[E.AndAssignment,"&&="],[E.OrAssignment,"||="],[E.NullishCoalesceAssignment,"??="]]);C();var Qm=require("module");var Bb=A(require("typescript"),1),$b=A(require("typescript"),1);var HM=(0,Qm.createRequire)(F),Jm=class{exists(t){throw ge()}readFile(t){throw ge()}readFileBuffer(t){throw ge()}writeFile(t,e,n){throw ge()}removeFile(t){throw ge()}symlink(t,e){throw ge()}readdir(t){throw ge()}lstat(t){throw ge()}stat(t){throw ge()}pwd(){throw ge()}chdir(t){throw ge()}extname(t){throw ge()}copyFile(t,e){throw ge()}moveFile(t,e){throw ge()}ensureDir(t){throw ge()}removeDeep(t){throw ge()}isCaseSensitive(){throw ge()}resolve(...t){throw ge()}dirname(t){throw ge()}join(t,...e){throw ge()}isRoot(t){throw ge()}isRooted(t){throw ge()}relative(t,e){throw ge()}basename(t,e){throw ge()}realpath(t){throw ge()}getDefaultLibLocation(){throw ge()}normalize(t){throw ge()}};function ge(){return new Error("FileSystem has not been configured. Please call `setFileSystem()` before calling this method.")}var Fb=new Jm;function Zm(t){Fb=t}var GM=Symbol("AbsolutePath");var ui=A(require("typescript"),1),B=A(require("typescript"),1),Do=A(require("typescript"),1),De=A(require("typescript"),1),ap=A(require("typescript"),1),p0=A(require("typescript"),1);var h0=A(require("typescript"),1),dl=A(require("typescript"),1),d0=A(require("typescript"),1),ml=A(require("typescript"),1),m0=A(require("typescript"),1);var kn=A(require("typescript"),1),S0=A(require("typescript"),1),E0=A(require("typescript"),1),xe=A(require("typescript"),1),Xu=A(require("typescript"),1),Xn=A(require("typescript"),1),Bg=A(require("typescript"),1),_r=A(require("typescript"),1),N0=A(require("typescript"),1);var I0=A(require("typescript"),1),D0=A(require("typescript"),1),b0=A(require("typescript"),1);var _0=A(require("typescript"),1),k0=A(require("typescript"),1),R0=A(require("typescript"),1),P0=A(require("typescript"),1),L0=A(require("typescript"),1),M0=A(require("typescript"),1),F0=A(require("typescript"),1);var B0=A(require("typescript"),1),$0=A(require("typescript"),1),U0=A(require("typescript"),1);var V0=A(require("typescript"),1);var H0=A(require("typescript"),1);var G0=A(require("typescript"),1),q0=A(require("typescript"),1);var W0=A(require("typescript"),1);var j0=A(require("typescript"),1),K0=A(require("typescript"),1);var z0=A(require("typescript"),1);var Y0=A(require("typescript"),1),Ft=A(require("typescript"),1),np=A(require("typescript"),1);var vn=A(require("typescript"),1);var r_=A(require("typescript"),1);var s_=A(require("typescript"),1),i_=A(require("typescript"),1),a_=A(require("typescript"),1),l_=A(require("typescript"),1),c_=A(require("typescript"),1);var u_=A(require("typescript"),1);C();var eg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ub=new Uint8Array(64),Vb=new Uint8Array(128);for(let t=0;t<eg.length;t++){let e=eg.charCodeAt(t);Ub[t]=e,Vb[e]=t}var zM=1024*16;var h_=A(require("typescript"),1);var f_=A(require("typescript"),1),d_=A(require("typescript"),1);var m_=A(require("typescript"),1);var g_=A(require("typescript"),1),y_=A(require("typescript"),1);var v_=A(require("typescript"),1);var S_=A(require("typescript"),1),E_=A(require("typescript"),1);var T_=A(require("typescript"),1);var w_=A(require("typescript"),1);var x_=A(require("typescript"),1),C_=A(require("typescript"),1);var A_=A(require("typescript"),1);var N_=A(require("typescript"),1),I_=A(require("typescript"),1);var D_=A(require("typescript"),1),b_=A(require("typescript"),1);var ee=A(require("typescript"),1),__=A(require("typescript"),1);var k_=A(require("typescript"),1);var R_=A(require("typescript"),1);var P_=A(require("typescript"),1);var mO=(0,_g.createRequire)(F),W;(function(t){t[t.DECORATOR_ARG_NOT_LITERAL=1001]="DECORATOR_ARG_NOT_LITERAL",t[t.DECORATOR_ARITY_WRONG=1002]="DECORATOR_ARITY_WRONG",t[t.DECORATOR_NOT_CALLED=1003]="DECORATOR_NOT_CALLED",t[t.DECORATOR_UNEXPECTED=1005]="DECORATOR_UNEXPECTED",t[t.DECORATOR_COLLISION=1006]="DECORATOR_COLLISION",t[t.VALUE_HAS_WRONG_TYPE=1010]="VALUE_HAS_WRONG_TYPE",t[t.VALUE_NOT_LITERAL=1011]="VALUE_NOT_LITERAL",t[t.DUPLICATE_DECORATED_PROPERTIES=1012]="DUPLICATE_DECORATED_PROPERTIES",t[t.INITIALIZER_API_WITH_DISALLOWED_DECORATOR=1050]="INITIALIZER_API_WITH_DISALLOWED_DECORATOR",t[t.INITIALIZER_API_DECORATOR_METADATA_COLLISION=1051]="INITIALIZER_API_DECORATOR_METADATA_COLLISION",t[t.INITIALIZER_API_NO_REQUIRED_FUNCTION=1052]="INITIALIZER_API_NO_REQUIRED_FUNCTION",t[t.INITIALIZER_API_DISALLOWED_MEMBER_VISIBILITY=1053]="INITIALIZER_API_DISALLOWED_MEMBER_VISIBILITY",t[t.INCORRECTLY_DECLARED_ON_STATIC_MEMBER=1100]="INCORRECTLY_DECLARED_ON_STATIC_MEMBER",t[t.COMPONENT_MISSING_TEMPLATE=2001]="COMPONENT_MISSING_TEMPLATE",t[t.PIPE_MISSING_NAME=2002]="PIPE_MISSING_NAME",t[t.PARAM_MISSING_TOKEN=2003]="PARAM_MISSING_TOKEN",t[t.DIRECTIVE_MISSING_SELECTOR=2004]="DIRECTIVE_MISSING_SELECTOR",t[t.UNDECORATED_PROVIDER=2005]="UNDECORATED_PROVIDER",t[t.DIRECTIVE_INHERITS_UNDECORATED_CTOR=2006]="DIRECTIVE_INHERITS_UNDECORATED_CTOR",t[t.UNDECORATED_CLASS_USING_ANGULAR_FEATURES=2007]="UNDECORATED_CLASS_USING_ANGULAR_FEATURES",t[t.COMPONENT_RESOURCE_NOT_FOUND=2008]="COMPONENT_RESOURCE_NOT_FOUND",t[t.COMPONENT_INVALID_SHADOW_DOM_SELECTOR=2009]="COMPONENT_INVALID_SHADOW_DOM_SELECTOR",t[t.COMPONENT_NOT_STANDALONE=2010]="COMPONENT_NOT_STANDALONE",t[t.COMPONENT_IMPORT_NOT_STANDALONE=2011]="COMPONENT_IMPORT_NOT_STANDALONE",t[t.COMPONENT_UNKNOWN_IMPORT=2012]="COMPONENT_UNKNOWN_IMPORT",t[t.HOST_DIRECTIVE_INVALID=2013]="HOST_DIRECTIVE_INVALID",t[t.HOST_DIRECTIVE_NOT_STANDALONE=2014]="HOST_DIRECTIVE_NOT_STANDALONE",t[t.HOST_DIRECTIVE_COMPONENT=2015]="HOST_DIRECTIVE_COMPONENT",t[t.INJECTABLE_INHERITS_INVALID_CONSTRUCTOR=2016]="INJECTABLE_INHERITS_INVALID_CONSTRUCTOR",t[t.HOST_DIRECTIVE_UNDEFINED_BINDING=2017]="HOST_DIRECTIVE_UNDEFINED_BINDING",t[t.HOST_DIRECTIVE_CONFLICTING_ALIAS=2018]="HOST_DIRECTIVE_CONFLICTING_ALIAS",t[t.HOST_DIRECTIVE_MISSING_REQUIRED_BINDING=2019]="HOST_DIRECTIVE_MISSING_REQUIRED_BINDING",t[t.CONFLICTING_INPUT_TRANSFORM=2020]="CONFLICTING_INPUT_TRANSFORM",t[t.COMPONENT_INVALID_STYLE_URLS=2021]="COMPONENT_INVALID_STYLE_URLS",t[t.COMPONENT_UNKNOWN_DEFERRED_IMPORT=2022]="COMPONENT_UNKNOWN_DEFERRED_IMPORT",t[t.NON_STANDALONE_NOT_ALLOWED=2023]="NON_STANDALONE_NOT_ALLOWED",t[t.MISSING_NAMED_TEMPLATE_DEPENDENCY=2024]="MISSING_NAMED_TEMPLATE_DEPENDENCY",t[t.INCORRECT_NAMED_TEMPLATE_DEPENDENCY_TYPE=2025]="INCORRECT_NAMED_TEMPLATE_DEPENDENCY_TYPE",t[t.UNSUPPORTED_SELECTORLESS_COMPONENT_FIELD=2026]="UNSUPPORTED_SELECTORLESS_COMPONENT_FIELD",t[t.SYMBOL_NOT_EXPORTED=3001]="SYMBOL_NOT_EXPORTED",t[t.IMPORT_CYCLE_DETECTED=3003]="IMPORT_CYCLE_DETECTED",t[t.IMPORT_GENERATION_FAILURE=3004]="IMPORT_GENERATION_FAILURE",t[t.CONFIG_FLAT_MODULE_NO_INDEX=4001]="CONFIG_FLAT_MODULE_NO_INDEX",t[t.CONFIG_STRICT_TEMPLATES_IMPLIES_FULL_TEMPLATE_TYPECHECK=4002]="CONFIG_STRICT_TEMPLATES_IMPLIES_FULL_TEMPLATE_TYPECHECK",t[t.CONFIG_EXTENDED_DIAGNOSTICS_IMPLIES_STRICT_TEMPLATES=4003]="CONFIG_EXTENDED_DIAGNOSTICS_IMPLIES_STRICT_TEMPLATES",t[t.CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CATEGORY_LABEL=4004]="CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CATEGORY_LABEL",t[t.CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CHECK=4005]="CONFIG_EXTENDED_DIAGNOSTICS_UNKNOWN_CHECK",t[t.HOST_BINDING_PARSE_ERROR=5001]="HOST_BINDING_PARSE_ERROR",t[t.TEMPLATE_PARSE_ERROR=5002]="TEMPLATE_PARSE_ERROR",t[t.NGMODULE_INVALID_DECLARATION=6001]="NGMODULE_INVALID_DECLARATION",t[t.NGMODULE_INVALID_IMPORT=6002]="NGMODULE_INVALID_IMPORT",t[t.NGMODULE_INVALID_EXPORT=6003]="NGMODULE_INVALID_EXPORT",t[t.NGMODULE_INVALID_REEXPORT=6004]="NGMODULE_INVALID_REEXPORT",t[t.NGMODULE_MODULE_WITH_PROVIDERS_MISSING_GENERIC=6005]="NGMODULE_MODULE_WITH_PROVIDERS_MISSING_GENERIC",t[t.NGMODULE_REEXPORT_NAME_COLLISION=6006]="NGMODULE_REEXPORT_NAME_COLLISION",t[t.NGMODULE_DECLARATION_NOT_UNIQUE=6007]="NGMODULE_DECLARATION_NOT_UNIQUE",t[t.NGMODULE_DECLARATION_IS_STANDALONE=6008]="NGMODULE_DECLARATION_IS_STANDALONE",t[t.NGMODULE_BOOTSTRAP_IS_STANDALONE=6009]="NGMODULE_BOOTSTRAP_IS_STANDALONE",t[t.WARN_NGMODULE_ID_UNNECESSARY=6100]="WARN_NGMODULE_ID_UNNECESSARY",t[t.SCHEMA_INVALID_ELEMENT=8001]="SCHEMA_INVALID_ELEMENT",t[t.SCHEMA_INVALID_ATTRIBUTE=8002]="SCHEMA_INVALID_ATTRIBUTE",t[t.MISSING_REFERENCE_TARGET=8003]="MISSING_REFERENCE_TARGET",t[t.MISSING_PIPE=8004]="MISSING_PIPE",t[t.WRITE_TO_READ_ONLY_VARIABLE=8005]="WRITE_TO_READ_ONLY_VARIABLE",t[t.DUPLICATE_VARIABLE_DECLARATION=8006]="DUPLICATE_VARIABLE_DECLARATION",t[t.SPLIT_TWO_WAY_BINDING=8007]="SPLIT_TWO_WAY_BINDING",t[t.MISSING_REQUIRED_INPUTS=8008]="MISSING_REQUIRED_INPUTS",t[t.ILLEGAL_FOR_LOOP_TRACK_ACCESS=8009]="ILLEGAL_FOR_LOOP_TRACK_ACCESS",t[t.INACCESSIBLE_DEFERRED_TRIGGER_ELEMENT=8010]="INACCESSIBLE_DEFERRED_TRIGGER_ELEMENT",t[t.CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION=8011]="CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION",t[t.DEFERRED_PIPE_USED_EAGERLY=8012]="DEFERRED_PIPE_USED_EAGERLY",t[t.DEFERRED_DIRECTIVE_USED_EAGERLY=8013]="DEFERRED_DIRECTIVE_USED_EAGERLY",t[t.DEFERRED_DEPENDENCY_IMPORTED_EAGERLY=8014]="DEFERRED_DEPENDENCY_IMPORTED_EAGERLY",t[t.ILLEGAL_LET_WRITE=8015]="ILLEGAL_LET_WRITE",t[t.LET_USED_BEFORE_DEFINITION=8016]="LET_USED_BEFORE_DEFINITION",t[t.CONFLICTING_LET_DECLARATION=8017]="CONFLICTING_LET_DECLARATION",t[t.UNCLAIMED_DIRECTIVE_BINDING=8018]="UNCLAIMED_DIRECTIVE_BINDING",t[t.DEFER_IMPLICIT_TRIGGER_MISSING_PLACEHOLDER=8019]="DEFER_IMPLICIT_TRIGGER_MISSING_PLACEHOLDER",t[t.DEFER_IMPLICIT_TRIGGER_INVALID_PLACEHOLDER=8020]="DEFER_IMPLICIT_TRIGGER_INVALID_PLACEHOLDER",t[t.INVALID_BANANA_IN_BOX=8101]="INVALID_BANANA_IN_BOX",t[t.NULLISH_COALESCING_NOT_NULLABLE=8102]="NULLISH_COALESCING_NOT_NULLABLE",t[t.MISSING_CONTROL_FLOW_DIRECTIVE=8103]="MISSING_CONTROL_FLOW_DIRECTIVE",t[t.TEXT_ATTRIBUTE_NOT_BINDING=8104]="TEXT_ATTRIBUTE_NOT_BINDING",t[t.MISSING_NGFOROF_LET=8105]="MISSING_NGFOROF_LET",t[t.SUFFIX_NOT_SUPPORTED=8106]="SUFFIX_NOT_SUPPORTED",t[t.OPTIONAL_CHAIN_NOT_NULLABLE=8107]="OPTIONAL_CHAIN_NOT_NULLABLE",t[t.SKIP_HYDRATION_NOT_STATIC=8108]="SKIP_HYDRATION_NOT_STATIC",t[t.INTERPOLATED_SIGNAL_NOT_INVOKED=8109]="INTERPOLATED_SIGNAL_NOT_INVOKED",t[t.UNSUPPORTED_INITIALIZER_API_USAGE=8110]="UNSUPPORTED_INITIALIZER_API_USAGE",t[t.UNINVOKED_FUNCTION_IN_EVENT_BINDING=8111]="UNINVOKED_FUNCTION_IN_EVENT_BINDING",t[t.UNUSED_LET_DECLARATION=8112]="UNUSED_LET_DECLARATION",t[t.UNUSED_STANDALONE_IMPORTS=8113]="UNUSED_STANDALONE_IMPORTS",t[t.UNPARENTHESIZED_NULLISH_COALESCING=8114]="UNPARENTHESIZED_NULLISH_COALESCING",t[t.UNINVOKED_TRACK_FUNCTION=8115]="UNINVOKED_TRACK_FUNCTION",t[t.MISSING_STRUCTURAL_DIRECTIVE=8116]="MISSING_STRUCTURAL_DIRECTIVE",t[t.UNINVOKED_FUNCTION_IN_TEXT_INTERPOLATION=8117]="UNINVOKED_FUNCTION_IN_TEXT_INTERPOLATION",t[t.INLINE_TCB_REQUIRED=8900]="INLINE_TCB_REQUIRED",t[t.INLINE_TYPE_CTOR_REQUIRED=8901]="INLINE_TYPE_CTOR_REQUIRED",t[t.INJECTABLE_DUPLICATE_PROV=9001]="INJECTABLE_DUPLICATE_PROV",t[t.SUGGEST_STRICT_TEMPLATES=10001]="SUGGEST_STRICT_TEMPLATES",t[t.SUGGEST_SUBOPTIMAL_TYPE_INFERENCE=10002]="SUGGEST_SUBOPTIMAL_TYPE_INFERENCE",t[t.LOCAL_COMPILATION_UNRESOLVED_CONST=11001]="LOCAL_COMPILATION_UNRESOLVED_CONST",t[t.LOCAL_COMPILATION_UNSUPPORTED_EXPRESSION=11003]="LOCAL_COMPILATION_UNSUPPORTED_EXPRESSION"})(W||(W={}));function op(t){return parseInt("-99"+t)}var Rr=class extends Error{constructor(e,n,r,s){super(`FatalDiagnosticError: Code: ${e}, Message: ${ui.default.flattenDiagnosticMessageText(r,`
`)}`);a(this,"code");a(this,"node");a(this,"diagnosticMessage");a(this,"relatedInformation");a(this,"_isFatalDiagnosticError",!0);this.code=e,this.node=n,this.diagnosticMessage=r,this.relatedInformation=s,Object.setPrototypeOf(this,new.target.prototype)}toDiagnostic(){return kg(this.code,this.node,this.diagnosticMessage,this.relatedInformation)}};function kg(t,e,n,r,s=ui.default.DiagnosticCategory.Error){return e=ui.default.getOriginalNode(e),{category:s,code:op(t),file:ui.default.getOriginalNode(e).getSourceFile(),start:e.getStart(void 0,!1),length:e.getWidth(),messageText:n,relatedInformation:r}}function tg(t,e){return{category:ui.default.DiagnosticCategory.Message,code:0,messageText:t,next:e}}var Kb=new Set([W.DECORATOR_ARG_NOT_LITERAL,W.IMPORT_CYCLE_DETECTED,W.PARAM_MISSING_TOKEN,W.SCHEMA_INVALID_ELEMENT,W.SCHEMA_INVALID_ATTRIBUTE,W.MISSING_REFERENCE_TARGET,W.COMPONENT_INVALID_SHADOW_DOM_SELECTOR,W.WARN_NGMODULE_ID_UNNECESSARY]);var Me;(function(t){t.INVALID_BANANA_IN_BOX="invalidBananaInBox",t.NULLISH_COALESCING_NOT_NULLABLE="nullishCoalescingNotNullable",t.OPTIONAL_CHAIN_NOT_NULLABLE="optionalChainNotNullable",t.MISSING_CONTROL_FLOW_DIRECTIVE="missingControlFlowDirective",t.MISSING_STRUCTURAL_DIRECTIVE="missingStructuralDirective",t.TEXT_ATTRIBUTE_NOT_BINDING="textAttributeNotBinding",t.UNINVOKED_FUNCTION_IN_EVENT_BINDING="uninvokedFunctionInEventBinding",t.MISSING_NGFOROF_LET="missingNgForOfLet",t.SUFFIX_NOT_SUPPORTED="suffixNotSupported",t.SKIP_HYDRATION_NOT_STATIC="skipHydrationNotStatic",t.INTERPOLATED_SIGNAL_NOT_INVOKED="interpolatedSignalNotInvoked",t.CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION="controlFlowPreventingContentProjection",t.UNUSED_LET_DECLARATION="unusedLetDeclaration",t.UNINVOKED_TRACK_FUNCTION="uninvokedTrackFunction",t.UNUSED_STANDALONE_IMPORTS="unusedStandaloneImports",t.UNPARENTHESIZED_NULLISH_COALESCING="unparenthesizedNullishCoalescing",t.UNINVOKED_FUNCTION_IN_TEXT_INTERPOLATION="uninvokedFunctionInTextInterpolation"})(Me||(Me={}));function zb(t){return Do.default.isIdentifier(t)||Do.default.isPropertyAccessExpression(t)&&Do.default.isIdentifier(t.expression)&&Do.default.isIdentifier(t.name)}var ms;(function(t){t[t.Constructor=0]="Constructor",t[t.Getter=1]="Getter",t[t.Setter=2]="Setter",t[t.Property=3]="Property",t[t.Method=4]="Method"})(ms||(ms={}));var ye;(function(t){t[t.PublicWritable=0]="PublicWritable",t[t.PublicReadonly=1]="PublicReadonly",t[t.Protected=2]="Protected",t[t.Private=3]="Private",t[t.EcmaScriptPrivate=4]="EcmaScriptPrivate"})(ye||(ye={}));var Yb={};function Xb(t,e,n){var c,p;if(t===null)return e0();if(!De.default.isTypeReferenceNode(t))return Io(t);let r=n0(t,e);if(r===null)return Jb(t);let{local:s,decl:i}=r;if(i.valueDeclaration===void 0||i.flags&De.default.SymbolFlags.ConstEnum){let u=null;if(i.declarations!==void 0&&i.declarations.length>0&&(u=i.declarations[0]),!n||u&&[De.default.SyntaxKind.TypeParameter,De.default.SyntaxKind.TypeAliasDeclaration,De.default.SyntaxKind.InterfaceDeclaration].includes(u.kind))return Qb(t,u)}let o=s.declarations&&s.declarations[0];if(o!==void 0){if(De.default.isImportClause(o)&&o.name!==void 0)return o.isTypeOnly?fl(t,o):De.default.isImportDeclaration(o.parent)?{kind:0,expression:o.name,defaultImportStatement:o.parent}:Io(t);if(De.default.isImportSpecifier(o)){if(o.isTypeOnly)return fl(t,o);if(o.parent.parent.isTypeOnly)return fl(t,o.parent.parent);let u=(o.propertyName||o.name).text,[d,...m]=r.symbolNames,g=o.parent.parent.parent;if(!De.default.isImportDeclaration(g))return Io(t);let S=ng(g);return{kind:1,valueDeclaration:(c=i.valueDeclaration)!=null?c:null,moduleName:S,importedName:u,nestedPath:m}}else if(De.default.isNamespaceImport(o)){if(o.parent.isTypeOnly)return fl(t,o.parent);if(r.symbolNames.length===1)return Zb(t,o.parent);let[u,d,...m]=r.symbolNames,g=o.parent.parent;if(!De.default.isImportDeclaration(g))return Io(t);let S=ng(g);return{kind:1,valueDeclaration:(p=i.valueDeclaration)!=null?p:null,moduleName:S,importedName:d,nestedPath:m}}}let l=t0(t);return l!==null?{kind:0,expression:l,defaultImportStatement:null}:Io(t)}function Io(t){return{kind:2,reason:{kind:5,typeNode:t}}}function Qb(t,e){return{kind:2,reason:{kind:1,typeNode:t,decl:e}}}function fl(t,e){return{kind:2,reason:{kind:2,typeNode:t,node:e}}}function Jb(t){return{kind:2,reason:{kind:3,typeNode:t}}}function Zb(t,e){return{kind:2,reason:{kind:4,typeNode:t,importClause:e}}}function e0(){return{kind:2,reason:{kind:0}}}function t0(t){return De.default.isTypeReferenceNode(t)?Rg(t.typeName):null}function n0(t,e){let n=t.typeName,r=e.getSymbolAtLocation(n);if(r===void 0)return null;let s=r,i=n,o=[];for(;De.default.isQualifiedName(i);)o.unshift(i.right.text),i=i.left;if(o.unshift(i.text),i!==n){let c=e.getSymbolAtLocation(i);c!==void 0&&(s=c)}let l=r;return r.flags&De.default.SymbolFlags.Alias&&(l=e.getAliasedSymbol(r)),{local:s,decl:l,symbolNames:o}}function Rg(t){if(De.default.isQualifiedName(t)){let e=Rg(t.left);return e!==null?De.default.factory.createPropertyAccessExpression(e,t.right):null}else if(De.default.isIdentifier(t)){let e=De.default.setOriginalNode(De.default.factory.createIdentifier(t.text),t);return e.parent=t.parent,e}else return null}function ng(t){if(!De.default.isStringLiteral(t.moduleSpecifier))throw new Error("not a module specifier");return t.moduleSpecifier.text}function Pg(t){return ap.default.isClassDeclaration(t)&&r0(t.name)}function r0(t){return t!==void 0&&ap.default.isIdentifier(t)}function rg(t){switch(t){case ye.EcmaScriptPrivate:return"ES private";case ye.Private:return"private";case ye.Protected:return"protected";case ye.PublicReadonly:return"public readonly";case ye.PublicWritable:default:return"public"}}var lp=class{constructor(t,e=!1,n=!1){a(this,"checker");a(this,"isLocalCompilation");a(this,"skipPrivateValueDeclarationTypes");this.checker=t,this.isLocalCompilation=e,this.skipPrivateValueDeclarationTypes=n}getDecoratorsOfDeclaration(t){let e=B.default.canHaveDecorators(t)?B.default.getDecorators(t):void 0;return e!==void 0&&e.length?e.map(n=>this._reflectDecorator(n)).filter(n=>n!==null):null}getMembersOfClass(t){return sg(t).members.map(n=>{let r=cp(n);return r===null?null:fe(w({},r),{decorators:this.getDecoratorsOfDeclaration(n)})}).filter(n=>n!==null)}getConstructorParameters(t){let e=sg(t),n=e.getSourceFile().isDeclarationFile,r=e.members.find(s=>B.default.isConstructorDeclaration(s)&&(n||s.body!==void 0));return r===void 0?null:r.parameters.map(s=>{let i=ig(s.name),o=this.getDecoratorsOfDeclaration(s),l=s.type||null,c=l;if(c&&B.default.isUnionTypeNode(c)){let u=c.types.filter(d=>!(B.default.isLiteralTypeNode(d)&&d.literal.kind===B.default.SyntaxKind.NullKeyword));u.length===1&&(c=u[0])}let p=Xb(c,this.checker,this.isLocalCompilation);return{name:i,nameNode:s.name,typeValueReference:p,typeNode:l,decorators:o}})}getImportOfIdentifier(t){let e=this.getDirectImportOfIdentifier(t);return e!==null?e:B.default.isQualifiedName(t.parent)&&t.parent.right===t?this.getImportOfNamespacedIdentifier(t,a0(t.parent)):B.default.isPropertyAccessExpression(t.parent)&&t.parent.name===t?this.getImportOfNamespacedIdentifier(t,l0(t.parent)):null}getExportsOfModule(t){if(!B.default.isSourceFile(t))throw new Error("getExportsOfModule() called on non-SourceFile in TS code");let e=this.checker.getSymbolAtLocation(t);if(e===void 0)return null;let n=new Map;return this.checker.getExportsOfModule(e).forEach(r=>{let s=this.getDeclarationOfSymbol(r,null);s!==null&&n.set(r.name,s)}),n}isClass(t){return Pg(t)}hasBaseClass(t){return this.getBaseClassExpression(t)!==null}getBaseClassExpression(t){if(!(B.default.isClassDeclaration(t)||B.default.isClassExpression(t))||t.heritageClauses===void 0)return null;let e=t.heritageClauses.find(r=>r.token===B.default.SyntaxKind.ExtendsKeyword);if(e===void 0)return null;let n=e.types[0];return n===void 0?null:n.expression}getDeclarationOfIdentifier(t){let e=this.checker.getSymbolAtLocation(t);return e===void 0?null:this.getDeclarationOfSymbol(e,t)}getDefinitionOfFunction(t){if(!B.default.isFunctionDeclaration(t)&&!B.default.isMethodDeclaration(t)&&!B.default.isFunctionExpression(t)&&!B.default.isArrowFunction(t))return null;let e=null;t.body!==void 0&&(e=B.default.isBlock(t.body)?Array.from(t.body.statements):[B.default.factory.createReturnStatement(t.body)]);let n=this.checker.getTypeAtLocation(t),r=this.checker.getSignaturesOfType(n,B.default.SignatureKind.Call);return{node:t,body:e,signatureCount:r.length,typeParameters:t.typeParameters===void 0?null:Array.from(t.typeParameters),parameters:t.parameters.map(s=>{let i=ig(s.name),o=s.initializer||null;return{name:i,node:s,initializer:o,type:s.type||null}})}}getGenericArityOfClass(t){return B.default.isClassDeclaration(t)?t.typeParameters!==void 0?t.typeParameters.length:0:null}getVariableValue(t){return t.initializer||null}isStaticallyExported(t){let e=t;B.default.isVariableDeclaration(t)&&B.default.isVariableDeclarationList(t.parent)&&(e=t.parent.parent);let n=B.default.canHaveModifiers(e)?B.default.getModifiers(e):void 0;return n!==void 0&&n.some(s=>s.kind===B.default.SyntaxKind.ExportKeyword)?!0:e.parent===void 0||!B.default.isSourceFile(e.parent)?!1:this.getLocalExportedDeclarationsOfSourceFile(t.getSourceFile()).has(t)}getDirectImportOfIdentifier(t){let e=this.checker.getSymbolAtLocation(t);if(e===void 0||e.declarations===void 0||e.declarations.length!==1)return null;let n=e.declarations[0],r=c0(n);return r===null||!B.default.isStringLiteral(r.moduleSpecifier)?null:{from:r.moduleSpecifier.text,name:u0(n,t),node:r}}getImportOfNamespacedIdentifier(t,e){if(e===null)return null;let n=this.checker.getSymbolAtLocation(e);if(!n||n.declarations===void 0)return null;let r=n.declarations.length===1?n.declarations[0]:null;if(!r)return null;let s=B.default.isNamespaceImport(r)?r:null;if(!s)return null;let i=s.parent.parent;return!B.default.isImportDeclaration(i)||!B.default.isStringLiteral(i.moduleSpecifier)?null:{from:i.moduleSpecifier.text,name:t.text,node:i}}getDeclarationOfSymbol(t,e){let n;if(t.valueDeclaration!==void 0?n=t.valueDeclaration:t.declarations!==void 0&&t.declarations.length>0&&(n=t.declarations[0]),n!==void 0&&B.default.isShorthandPropertyAssignment(n)){let s=this.checker.getShorthandAssignmentValueSymbol(n);return s===void 0?null:this.getDeclarationOfSymbol(s,e)}else if(n!==void 0&&B.default.isExportSpecifier(n)){let s=this.checker.getExportSpecifierLocalTargetSymbol(n);return s===void 0?null:this.getDeclarationOfSymbol(s,e)}let r=e&&this.getImportOfIdentifier(e);for(;t.flags&B.default.SymbolFlags.Alias;)t=this.checker.getAliasedSymbol(t);return t.valueDeclaration!==void 0&&(!this.skipPrivateValueDeclarationTypes||!o0(this.checker,t))?{node:t.valueDeclaration,viaModule:this._viaModule(t.valueDeclaration,e,r)}:t.declarations!==void 0&&t.declarations.length>0?{node:t.declarations[0],viaModule:this._viaModule(t.declarations[0],e,r)}:null}_reflectDecorator(t){let e=t.expression,n=null;if(B.default.isCallExpression(e)&&(n=Array.from(e.arguments),e=e.expression),!zb(e))return null;let r=B.default.isIdentifier(e)?e:e.name,s=this.getImportOfIdentifier(r);return{name:r.text,identifier:e,import:s,node:t,args:n}}getLocalExportedDeclarationsOfSourceFile(t){let e=t;if(e[Yu]!==void 0)return e[Yu];let n=new Set;e[Yu]=n;let r=this.checker.getSymbolAtLocation(e);if(r===void 0||r.exports===void 0)return n;let s=r.exports.values(),i=s.next();for(;i.done!==!0;){let o=i.value;o.flags&B.default.SymbolFlags.Alias&&(o=this.checker.getAliasedSymbol(o)),o.valueDeclaration!==void 0&&o.valueDeclaration.getSourceFile()===t&&n.add(o.valueDeclaration),i=s.next()}return n}_viaModule(t,e,n){return n===null&&e!==null&&t.getSourceFile()!==e.getSourceFile()?Yb:n!==null&&n.from!==null&&!n.from.startsWith(".")?n.from:null}};function s0(t){let e=B.default.getModifiers(t),n=!1,r=!1,s=ye.PublicWritable;if(e!==void 0)for(let i of e)switch(i.kind){case B.default.SyntaxKind.StaticKeyword:n=!0;break;case B.default.SyntaxKind.PrivateKeyword:s=ye.Private;break;case B.default.SyntaxKind.ProtectedKeyword:s=ye.Protected;break;case B.default.SyntaxKind.ReadonlyKeyword:r=!0;break}return r&&s===ye.PublicWritable&&(s=ye.PublicReadonly),t.name!==void 0&&B.default.isPrivateIdentifier(t.name)&&(s=ye.EcmaScriptPrivate),{accessLevel:s,isStatic:n}}function cp(t){let e=null,n=null,r=null,s=null;if(B.default.isPropertyDeclaration(t))e=ms.Property,n=t.initializer||null;else if(B.default.isGetAccessorDeclaration(t))e=ms.Getter;else if(B.default.isSetAccessorDeclaration(t))e=ms.Setter;else if(B.default.isMethodDeclaration(t))e=ms.Method;else if(B.default.isConstructorDeclaration(t))e=ms.Constructor;else return null;if(B.default.isConstructorDeclaration(t))r="constructor";else if(B.default.isIdentifier(t.name))r=t.name.text,s=t.name;else if(B.default.isStringLiteral(t.name))r=t.name.text,s=t.name;else if(B.default.isPrivateIdentifier(t.name))r=t.name.text,s=t.name;else return null;let{accessLevel:i,isStatic:o}=s0(t);return{node:t,implementation:t,kind:e,type:t.type||null,accessLevel:i,name:r,nameNode:s,value:n,isStatic:o}}function Lg(t){let e=new Map;return t.properties.forEach(n=>{if(B.default.isPropertyAssignment(n)){let r=i0(n.name);if(r===null)return;e.set(r,n.initializer)}else if(B.default.isShorthandPropertyAssignment(n))e.set(n.name.text,n.name);else return}),e}function sg(t){if(!B.default.isClassDeclaration(t))throw new Error(`Reflecting on a ${B.default.SyntaxKind[t.kind]} instead of a ClassDeclaration.`);return t}function ig(t){return B.default.isIdentifier(t)?t.text:null}function i0(t){return B.default.isIdentifier(t)||B.default.isStringLiteral(t)||B.default.isNumericLiteral(t)?t.text:null}function o0(t,e){var n;if(e.valueDeclaration!==void 0){let r=t.getTypeOfSymbolAtLocation(e,e.valueDeclaration);return((n=r==null?void 0:r.symbol)==null?void 0:n.name.startsWith("\u0275"))===!0}return!1}function a0(t){for(;B.default.isQualifiedName(t.left);)t=t.left;return B.default.isIdentifier(t.left)?t.left:null}function l0(t){for(;B.default.isPropertyAccessExpression(t.expression);)t=t.expression;return B.default.isIdentifier(t.expression)?t.expression:null}function c0(t){let e=t.parent;for(;e&&!B.default.isSourceFile(e);){if(B.default.isImportDeclaration(e))return e;e=e.parent}return null}function u0(t,e){return B.default.isImportSpecifier(t)?(t.propertyName!==void 0?t.propertyName:t.name).text:e.text}var Yu=Symbol("LocalExportedDeclarations");var og;(function(t){t[t.None=0]="None",t[t.ForceNewImport=1]="ForceNewImport",t[t.NoAliasing=2]="NoAliasing",t[t.AllowTypeImports=4]="AllowTypeImports",t[t.AllowRelativeDtsImports=8]="AllowRelativeDtsImports",t[t.AllowAmbientReferences=16]="AllowAmbientReferences"})(og||(og={}));var ag;(function(t){t[t.Success=0]="Success",t[t.Failed=1]="Failed"})(ag||(ag={}));var lg=Symbol("patchedReferencedAliases");function up(t){f0(t)||cg();let e=t.getEmitResolver();if(e===void 0)return null;let n=e[lg];if(n!==void 0)return n;let r=e.isReferencedAliasDeclaration;r===void 0&&cg();let s=new Set;return e.isReferencedAliasDeclaration=function(i,...o){return pp(i)&&s.has(i)?!0:r.call(e,i,...o)},e[lg]=s}function pp(t){return dl.default.isImportSpecifier(t)||dl.default.isNamespaceImport(t)||dl.default.isImportClause(t)}function f0(t){return t.getEmitResolver!==void 0}function cg(){throw Error(`Angular compiler is incompatible with this version of the TypeScript compiler.

If you recently updated TypeScript and this issue surfaces now, consider downgrading.

Please report an issue on the Angular repositories when this issue surfaces and you are using a supposedly compatible TypeScript version.`)}var EO=Symbol("DefaultImportDeclaration");var hp=class{constructor(){a(this,"fileToNamedImports",new WeakMap);a(this,"fileToNamespaceImports",new WeakMap)}isPotentialReferenceToNamedImport(t,e,n){let r=t.getSourceFile();this.scanImports(r);let i=this.fileToNamedImports.get(r).get(n),o=i==null?void 0:i.get(e);return o!==void 0&&o.has(t.text)}isPotentialReferenceToNamespaceImport(t,e){var s,i;let n=t.getSourceFile();return this.scanImports(n),(i=(s=this.fileToNamespaceImports.get(n).get(e))==null?void 0:s.has(t.text))!=null?i:!1}hasNamedImport(t,e,n){this.scanImports(t);let s=this.fileToNamedImports.get(t).get(n);return s!==void 0&&s.has(e)}hasNamespaceImport(t,e){return this.scanImports(t),this.fileToNamespaceImports.get(t).has(e)}scanImports(t){var r,s;if(this.fileToNamedImports.has(t)&&this.fileToNamespaceImports.has(t))return;let e=new Map,n=new Map;this.fileToNamedImports.set(t,e),this.fileToNamespaceImports.set(t,n);for(let i of t.statements){if(!ml.default.isImportDeclaration(i)||!ml.default.isStringLiteralLike(i.moduleSpecifier)||((r=i.importClause)==null?void 0:r.namedBindings)===void 0)continue;let o=i.moduleSpecifier.text;if(ml.default.isNamespaceImport(i.importClause.namedBindings))n.has(o)||n.set(o,new Set),n.get(o).add(i.importClause.namedBindings.name.text);else for(let l of i.importClause.namedBindings.elements){let c=l.name.text,p=l.propertyName===void 0?c:l.propertyName.text;e.has(o)||e.set(o,new Map);let u=e.get(o);u.has(p)||u.set(p,new Set),(s=u.get(p))==null||s.add(c)}}}};var g0="@angular/core";function Mg(t){return t.import!==null&&t.import.from===g0}function pi(t,e,n){return n?t.name===e:Mg(t)?t.import.name===e:!1}function Og(t,e,n){return t.filter(r=>{var i;let s=n?r.name:(i=r.import)==null?void 0:i.name;return s===void 0||!e.includes(s)?!1:n||Mg(r)})}function Fg(t){for(;kn.default.isAsExpression(t)||kn.default.isParenthesizedExpression(t);)t=t.expression;return t}function y0(t){if(t=Fg(t),!kn.default.isArrowFunction(t)&&!kn.default.isFunctionExpression(t))return null;let e=t.body;if(kn.default.isBlock(e)){if(e.statements.length!==1)return null;let n=e.statements[0];return!kn.default.isReturnStatement(n)||n.expression===void 0?null:n.expression}else return e}function v0(t,e){if(t=Fg(t),!kn.default.isCallExpression(t)||t.arguments.length!==1)return null;let n=kn.default.isPropertyAccessExpression(t.expression)?t.expression.name:t.expression;if(!kn.default.isIdentifier(n))return null;let r=y0(t.arguments[0]);if(r===null)return null;let s=e.getImportOfIdentifier(n);return s===null||s.from!=="@angular/core"||s.name!=="forwardRef"?null:r}function T0(){let t=new Set,e=(r,s)=>t.has(`${r.fileName}@@${s}`),n=(r,s)=>t.add(`${r.fileName}@@${s}`);return(r,s)=>{let i=r;if(i.identifiers===void 0)throw new Error("Source file unexpectedly lacks map of parsed `identifiers`.");let o=p=>!i.identifiers.has(p)&&!e(i,p);if(o(s))return n(i,s),null;let l=null,c=1;do l=`${s}_${c++}`;while(!o(l));return n(i,l),Xu.default.factory.createUniqueName(l,Xu.default.GeneratedIdentifierFlags.Optimistic)}}function w0(t,e){return n=>{let{affectedFiles:r,newImports:s,updatedImports:i,reusedOriginalAliasDeclarations:o,deletedImports:l}=t.finalize();if(o.size>0){let p=up(n);p!==null&&o.forEach(u=>p.add(u))}if(e!==void 0)for(let[p,u]of e.entries())u.length>0&&r.add(p);let c=p=>{if(!Xn.default.isImportDeclaration(p))return p;if(l.has(p))return;if(p.importClause===void 0||!Xn.default.isImportClause(p.importClause))return p;let u=p.importClause;if(u.namedBindings===void 0||!Xn.default.isNamedImports(u.namedBindings)||!i.has(u.namedBindings))return p;let d=n.factory.updateImportClause(u,u.isTypeOnly,u.name,i.get(u.namedBindings)),m=n.factory.updateImportDeclaration(p,p.modifiers,d,p.moduleSpecifier,p.attributes);return Xn.default.setOriginalNode(m,{importClause:d,kind:m.kind}),m};return p=>{var g,S;if(!r.has(p.fileName))return p;p=Xn.default.visitEachChild(p,c,n);let u=(g=e==null?void 0:e.get(p.fileName))!=null?g:[],d=[],m=[];for(let T of p.statements)x0(T)?d.push(T):m.push(T);return n.factory.updateSourceFile(p,[...d,...(S=s.get(p.fileName))!=null?S:[],...u,...m],p.isDeclarationFile,p.referencedFiles,p.typeReferenceDirectives,p.hasNoDefaultLib,p.libReferenceDirectives)}}}function x0(t){return Xn.default.isImportDeclaration(t)||Xn.default.isImportEqualsDeclaration(t)||Xn.default.isNamespaceImport(t)}function C0(t,e){let n=$g(e),r=t.directReuseCache.get(n);if(r!==void 0)return r;let s=t.namespaceImportReuseCache.get(e.exportModuleSpecifier);return s===void 0?null:e.exportSymbolName===null?s:[s,Bg.default.factory.createIdentifier(e.exportSymbolName)]}function ug(t,e,n){e.directReuseCache.set($g(t),n),t.exportSymbolName===null&&!Array.isArray(n)&&e.namespaceImportReuseCache.set(t.exportModuleSpecifier,n)}function $g(t){return`${t.requestedFile.fileName}:${t.exportModuleSpecifier}:${t.exportSymbolName}${t.unsafeAliasOverride?":"+t.unsafeAliasOverride:""}`}function A0(t,e,n){let r=null;for(let l=e.statements.length-1;l>=0;l--){let c=e.statements[l];if(!(!_r.default.isImportDeclaration(c)||!_r.default.isStringLiteral(c.moduleSpecifier)||!c.importClause||c.importClause.isTypeOnly||c.moduleSpecifier.text!==n.exportModuleSpecifier)&&c.importClause.namedBindings){let u=c.importClause.namedBindings;if(_r.default.isNamespaceImport(u))return t.reusedAliasDeclarations.add(u),n.exportSymbolName===null?u.name:[u.name,_r.default.factory.createIdentifier(n.exportSymbolName)];if(_r.default.isNamedImports(u)&&n.exportSymbolName!==null){let d=u.elements.find(m=>{var S;let g;return n.unsafeAliasOverride?g=((S=m.propertyName)==null?void 0:S.text)===n.exportSymbolName&&m.name.text===n.unsafeAliasOverride:g=m.propertyName?m.propertyName.text===n.exportSymbolName:m.name.text===n.exportSymbolName,!m.isTypeOnly&&g});if(d!==void 0)return t.reusedAliasDeclarations.add(d),d.name;r=c}}}if(r===null||n.exportSymbolName===null)return null;t.updatedImports.has(r)||t.updatedImports.set(r,[]);let s=t.updatedImports.get(r),i=_r.default.factory.createIdentifier(n.exportSymbolName),o=n.unsafeAliasOverride?_r.default.factory.createIdentifier(n.unsafeAliasOverride):t.generateUniqueIdentifier(e,n.exportSymbolName);return s.push({propertyName:i,fileUniqueAlias:o}),o!=null?o:i}var Ug=class{constructor(t={}){a(this,"newImports",new Map);a(this,"removedImports",new Map);a(this,"nextUniqueIndex",0);a(this,"config");a(this,"reuseSourceFileImportsTracker");a(this,"reuseGeneratedImportsTracker",{directReuseCache:new Map,namespaceImportReuseCache:new Map});var e,n,r,s,i,o;this.config={shouldUseSingleQuotes:(e=t.shouldUseSingleQuotes)!=null?e:(()=>!1),rewriter:(n=t.rewriter)!=null?n:null,disableOriginalSourceFileReuse:(r=t.disableOriginalSourceFileReuse)!=null?r:!1,forceGenerateNamespacesForNewImports:(s=t.forceGenerateNamespacesForNewImports)!=null?s:!1,namespaceImportPrefix:(i=t.namespaceImportPrefix)!=null?i:"i",generateUniqueIdentifier:(o=t.generateUniqueIdentifier)!=null?o:T0()},this.reuseSourceFileImportsTracker={generateUniqueIdentifier:this.config.generateUniqueIdentifier,reusedAliasDeclarations:new Set,updatedImports:new Map}}addSideEffectImport(t,e){this.config.rewriter!==null&&(e=this.config.rewriter.rewriteSpecifier(e,t.fileName)),this._getNewImportsTrackerForFile(t).sideEffectImports.add(e)}addImport(t){var r,s;this.config.rewriter!==null&&(t.exportSymbolName!==null&&(t.exportSymbolName=this.config.rewriter.rewriteSymbol(t.exportSymbolName,t.exportModuleSpecifier)),t.exportModuleSpecifier=this.config.rewriter.rewriteSpecifier(t.exportModuleSpecifier,t.requestedFile.fileName)),t.exportSymbolName!==null&&!t.asTypeReference&&((s=(r=this.removedImports.get(t.requestedFile))==null?void 0:r.get(t.exportModuleSpecifier))==null||s.delete(t.exportSymbolName));let e=C0(this.reuseGeneratedImportsTracker,t);if(e!==null)return pg(!!t.asTypeReference,e);let n=this._generateNewImport(t);return ug(t,this.reuseGeneratedImportsTracker,n),pg(!!t.asTypeReference,n)}removeImport(t,e,n){let r=this.removedImports.get(t);r||(r=new Map,this.removedImports.set(t,r));let s=r.get(n);s||(s=new Set,r.set(n,s)),s.add(e)}_generateNewImport(t){var u;let{requestedFile:e}=t,n=this.config.disableOriginalSourceFileReuse,r=this.config.forceGenerateNamespacesForNewImports;if(!n){let d=A0(this.reuseSourceFileImportsTracker,e,t);if(d!==null)return d}let{namedImports:s,namespaceImports:i}=this._getNewImportsTrackerForFile(e);if(t.exportSymbolName===null||r){let d=`${this.config.namespaceImportPrefix}${this.nextUniqueIndex++}`;this.config.rewriter&&(d=this.config.rewriter.rewriteNamespaceImportIdentifier(d,t.exportModuleSpecifier));let m=xe.default.factory.createNamespaceImport((u=this.config.generateUniqueIdentifier(e,d))!=null?u:xe.default.factory.createIdentifier(d));return i.set(t.exportModuleSpecifier,m),ug(fe(w({},t),{exportSymbolName:null}),this.reuseGeneratedImportsTracker,m.name),t.exportSymbolName!==null?[m.name,xe.default.factory.createIdentifier(t.exportSymbolName)]:m.name}s.has(t.exportModuleSpecifier)||s.set(t.exportModuleSpecifier,[]);let o=xe.default.factory.createIdentifier(t.exportSymbolName),l=t.unsafeAliasOverride?null:this.config.generateUniqueIdentifier(e,t.exportSymbolName),c,p;return t.unsafeAliasOverride?(c=!0,p=xe.default.factory.createIdentifier(t.unsafeAliasOverride)):l!==null?(c=!0,p=l):(c=!1,p=o),s.get(t.exportModuleSpecifier).push(xe.default.factory.createImportSpecifier(!1,c?o:void 0,p)),p}finalize(){let t=new Set,e=new Map,n=new Map,r=new Set,s=new Map,i=(o,l)=>{t.add(o),n.has(o)?n.get(o).push(l):n.set(o,[l])};return this.reuseSourceFileImportsTracker.updatedImports.forEach((o,l)=>{let c=l.getSourceFile(),p=l.importClause.namedBindings,u=l.moduleSpecifier.text,d=p.elements.concat(o.map(({propertyName:m,fileUniqueAlias:g})=>xe.default.factory.createImportSpecifier(!1,g!==null?m:void 0,g!=null?g:m))).filter(m=>this._canAddSpecifier(c,u,m));t.add(c.fileName),d.length===0?r.add(l):e.set(p,xe.default.factory.updateNamedImports(p,d))}),this.removedImports.forEach((o,l)=>{var p;if(o.size===0)return;let c=s.get(l);c||(c=l.statements.filter(xe.default.isImportDeclaration),s.set(l,c));for(let u of c){if(!((p=u.importClause)!=null&&p.namedBindings)||!xe.default.isNamedImports(u.importClause.namedBindings)||this.reuseSourceFileImportsTracker.updatedImports.has(u)||r.has(u))continue;let d=u.importClause.namedBindings,m=u.moduleSpecifier.text,g=d.elements.filter(S=>this._canAddSpecifier(l,m,S));g.length===0?(t.add(l.fileName),r.add(u)):g.length!==d.elements.length&&(t.add(l.fileName),e.set(d,xe.default.factory.updateNamedImports(d,g)))}}),this.newImports.forEach(({namedImports:o,namespaceImports:l,sideEffectImports:c},p)=>{let u=this.config.shouldUseSingleQuotes(p),d=p.fileName;c.forEach(m=>{i(d,xe.default.factory.createImportDeclaration(void 0,void 0,xe.default.factory.createStringLiteral(m)))}),l.forEach((m,g)=>{let S=xe.default.factory.createImportDeclaration(void 0,xe.default.factory.createImportClause(!1,void 0,m),xe.default.factory.createStringLiteral(g,u));xe.default.setOriginalNode(m.name,S),i(d,S)}),o.forEach((m,g)=>{let S=m.filter(T=>this._canAddSpecifier(p,g,T));if(S.length>0){let T=xe.default.factory.createImportDeclaration(void 0,xe.default.factory.createImportClause(!1,void 0,xe.default.factory.createNamedImports(S)),xe.default.factory.createStringLiteral(g,u));i(d,T)}})}),{affectedFiles:t,newImports:n,updatedImports:e,reusedOriginalAliasDeclarations:this.reuseSourceFileImportsTracker.reusedAliasDeclarations,deletedImports:r}}toTsTransform(t){return w0(this,t)}transformTsFile(t,e,n){let r=n?new Map([[e.fileName,n]]):void 0;return this.toTsTransform(r)(t)(e)}_getNewImportsTrackerForFile(t){return this.newImports.has(t)||this.newImports.set(t,{namespaceImports:new Map,namedImports:new Map,sideEffectImports:new Set}),this.newImports.get(t)}_canAddSpecifier(t,e,n){var r,s;return!((s=(r=this.removedImports.get(t))==null?void 0:r.get(e))!=null&&s.has((n.propertyName||n.name).text))}};function pg(t,e){return t?Array.isArray(e)?xe.default.factory.createQualifiedName(e[0],e[1]):e:Array.isArray(e)?xe.default.factory.createPropertyAccessExpression(e[0],e[1]):e}var hg;(function(t){t.CLOSURE="* @pureOrBreakMyCode ",t.TERSER="@__PURE__"})(hg||(hg={}));var gl;(function(t){t[t.SingleFile=0]="SingleFile",t[t.WholeProgram=1]="WholeProgram"})(gl||(gl={}));var fg;(function(t){t[t.NgModule=0]="NgModule",t[t.Standalone=1]="Standalone"})(fg||(fg={}));var dg;(function(t){t[t.Normal=0]="Normal",t[t.ForceDirect=1]="ForceDirect"})(dg||(dg={}));var mg;(function(t){t[t.Reference=0]="Reference",t[t.Variable=1]="Variable",t[t.LetDeclaration=2]="LetDeclaration"})(mg||(mg={}));var nt;(function(t){t[t.Input=0]="Input",t[t.Output=1]="Output",t[t.Binding=2]="Binding",t[t.Reference=3]="Reference",t[t.Variable=4]="Variable",t[t.Directive=5]="Directive",t[t.Element=6]="Element",t[t.Template=7]="Template",t[t.Expression=8]="Expression",t[t.DomBinding=9]="DomBinding",t[t.Pipe=10]="Pipe",t[t.LetDeclaration=11]="LetDeclaration",t[t.SelectorlessComponent=12]="SelectorlessComponent",t[t.SelectorlessDirective=13]="SelectorlessDirective"})(nt||(nt={}));var Qu;(function(t){t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule"})(Qu||(Qu={}));var gg;(function(t){t[t.Selector=0]="Selector",t[t.HostDirective=1]="HostDirective"})(gg||(gg={}));var Ju;(function(t){t[t.FULL=0]="FULL",t[t.PARTIAL=1]="PARTIAL",t[t.LOCAL=2]="LOCAL"})(Ju||(Ju={}));var yg;(function(t){t[t.PRIMARY=0]="PRIMARY",t[t.SHARED=1]="SHARED",t[t.WEAK=2]="WEAK"})(yg||(yg={}));var bo;(function(t){t[t.Unaccounted=0]="Unaccounted",t[t.Setup=1]="Setup",t[t.TypeScriptProgramCreate=2]="TypeScriptProgramCreate",t[t.Reconciliation=3]="Reconciliation",t[t.ResourceUpdate=4]="ResourceUpdate",t[t.TypeScriptDiagnostics=5]="TypeScriptDiagnostics",t[t.Analysis=6]="Analysis",t[t.Resolve=7]="Resolve",t[t.CycleDetection=8]="CycleDetection",t[t.TcbGeneration=9]="TcbGeneration",t[t.TcbUpdateProgram=10]="TcbUpdateProgram",t[t.TypeScriptEmit=11]="TypeScriptEmit",t[t.Compile=12]="Compile",t[t.TtcAutocompletion=13]="TtcAutocompletion",t[t.TtcDiagnostics=14]="TtcDiagnostics",t[t.TtcSuggestionDiagnostics=15]="TtcSuggestionDiagnostics",t[t.TtcSymbol=16]="TtcSymbol",t[t.LsReferencesAndRenames=17]="LsReferencesAndRenames",t[t.LsQuickInfo=18]="LsQuickInfo",t[t.LsDefinition=19]="LsDefinition",t[t.LsCompletions=20]="LsCompletions",t[t.LsTcb=21]="LsTcb",t[t.LsDiagnostics=22]="LsDiagnostics",t[t.LsSuggestionDiagnostics=23]="LsSuggestionDiagnostics",t[t.LsComponentLocations=24]="LsComponentLocations",t[t.LsSignatureHelp=25]="LsSignatureHelp",t[t.OutliningSpans=26]="OutliningSpans",t[t.LsCodeFixes=27]="LsCodeFixes",t[t.LsCodeFixesAll=28]="LsCodeFixesAll",t[t.LSComputeApplicableRefactorings=29]="LSComputeApplicableRefactorings",t[t.LSApplyRefactoring=30]="LSApplyRefactoring",t[t.LSSemanticClassification=31]="LSSemanticClassification",t[t.LAST=32]="LAST"})(bo||(bo={}));var Zu;(function(t){t[t.InputDtsFile=0]="InputDtsFile",t[t.InputTsFile=1]="InputTsFile",t[t.AnalyzeComponent=2]="AnalyzeComponent",t[t.AnalyzeDirective=3]="AnalyzeDirective",t[t.AnalyzeInjectable=4]="AnalyzeInjectable",t[t.AnalyzeNgModule=5]="AnalyzeNgModule",t[t.AnalyzePipe=6]="AnalyzePipe",t[t.TraitAnalyze=7]="TraitAnalyze",t[t.TraitReuseAnalysis=8]="TraitReuseAnalysis",t[t.SourceFilePhysicalChange=9]="SourceFilePhysicalChange",t[t.SourceFileLogicalChange=10]="SourceFileLogicalChange",t[t.SourceFileReuseAnalysis=11]="SourceFileReuseAnalysis",t[t.GenerateTcb=12]="GenerateTcb",t[t.SkipGenerateTcbNoInline=13]="SkipGenerateTcbNoInline",t[t.ReuseTypeCheckFile=14]="ReuseTypeCheckFile",t[t.UpdateTypeCheckProgram=15]="UpdateTypeCheckProgram",t[t.EmitSkipSourceFile=16]="EmitSkipSourceFile",t[t.EmitSourceFile=17]="EmitSourceFile",t[t.LAST=18]="LAST"})(Zu||(Zu={}));var ep;(function(t){t[t.Initial=0]="Initial",t[t.TypeScriptProgramCreate=1]="TypeScriptProgramCreate",t[t.PreAnalysis=2]="PreAnalysis",t[t.Analysis=3]="Analysis",t[t.Resolve=4]="Resolve",t[t.TtcGeneration=5]="TtcGeneration",t[t.TtcUpdateProgram=6]="TtcUpdateProgram",t[t.PreEmit=7]="PreEmit",t[t.Emit=8]="Emit",t[t.LAST=9]="LAST"})(ep||(ep={}));var O0=class{eventCount(){}memory(){}phase(){return bo.Unaccounted}inPhase(t,e){return e()}reset(){}},xO=new O0;var vg;(function(t){t[t.Pending=0]="Pending",t[t.Analyzed=1]="Analyzed",t[t.Resolved=2]="Resolved",t[t.Skipped=3]="Skipped"})(vg||(vg={}));var tp;(function(t){t[t.NgModule=0]="NgModule",t[t.Standalone=1]="Standalone",t[t.Selectorless=2]="Selectorless"})(tp||(tp={}));function yl({api:t,call:e},n){if(!t.allowedAccessLevels.includes(n.accessLevel))throw new Rr(W.INITIALIZER_API_DISALLOWED_MEMBER_VISIBILITY,e,tg(`Cannot use "${t.functionName}" on a class member that is declared as ${rg(n.accessLevel)}.`,[tg("Update the class field to be either: "+t.allowedAccessLevels.map(r=>rg(r)).join(", "))]))}function hi(t,e,n,r){if(Ft.default.isAsExpression(e)||Ft.default.isParenthesizedExpression(e))return hi(t,e.expression,n,r);if(!Ft.default.isCallExpression(e))return null;let s=X0(e,t,r)||Q0(e,t,r)||J0(e,t,r);if(s===null)return null;let{api:i,apiReference:o,isRequired:l}=s,c=n.getImportOfIdentifier(o);return c===null||i.functionName!==c.name||i.owningModule!==c.from?null:{api:i,call:e,isRequired:l}}function X0(t,e,n){let r=t.expression;if(!Ft.default.isIdentifier(r))return null;let s=e.find(i=>n.isPotentialReferenceToNamedImport(r,i.functionName,i.owningModule));return s===void 0?null:{api:s,apiReference:r,isRequired:!1}}function Q0(t,e,n){let r=t.expression;if(!Ft.default.isPropertyAccessExpression(r)||!Ft.default.isIdentifier(r.expression)||r.name.text!=="required")return null;let s=r.expression,i=e.find(o=>n.isPotentialReferenceToNamedImport(s,o.functionName,o.owningModule));return i===void 0?null:{api:i,apiReference:s,isRequired:!0}}function J0(t,e,n){let r=t.expression;if(!Ft.default.isPropertyAccessExpression(r))return null;let s=null,i,o=!1;if(Ft.default.isIdentifier(r.expression)&&Ft.default.isIdentifier(r.name)){let l=r.expression;s=r.name,i=e.find(c=>r.name.text===c.functionName&&n.isPotentialReferenceToNamespaceImport(l,c.owningModule))}else if(Ft.default.isPropertyAccessExpression(r.expression)&&Ft.default.isIdentifier(r.expression.expression)&&Ft.default.isIdentifier(r.expression.name)&&r.name.text==="required"){let l=r.expression.name.text,c=r.expression.expression;s=r.expression.name,i=e.find(p=>p.functionName===l&&n.isPotentialReferenceToNamespaceImport(c,p.owningModule)),o=!0}return i===void 0||s===null?null:{api:i,apiReference:s,isRequired:o}}function fp(t){if(!np.default.isObjectLiteralExpression(t))throw new Rr(W.VALUE_HAS_WRONG_TYPE,t,"Argument needs to be an object literal that is statically analyzable.");let e=Lg(t),n;if(e.has("alias")){let r=e.get("alias");if(!np.default.isStringLiteralLike(r))throw new Rr(W.VALUE_HAS_WRONG_TYPE,r,"Alias needs to be a string that is statically analyzable.");n=r.text}return{alias:n}}var dp={functionName:"input",owningModule:"@angular/core",allowedAccessLevels:[ye.PublicWritable,ye.PublicReadonly,ye.Protected]};function Vg(t,e,n){var l;if(t.value===null)return null;let r=hi([dp],t.value,e,n);if(r===null)return null;yl(r,t);let s=r.isRequired?r.call.arguments[0]:r.call.arguments[1],i=s!==void 0?fp(s):null,o=t.name;return{isSignal:!0,classPropertyName:o,bindingPropertyName:(l=i==null?void 0:i.alias)!=null?l:o,required:r.isRequired,transform:null}}var mp={functionName:"model",owningModule:"@angular/core",allowedAccessLevels:[ye.PublicWritable,ye.PublicReadonly,ye.Protected]};function Hg(t,e,n){var c;if(t.value===null)return null;let r=hi([mp],t.value,e,n);if(r===null)return null;yl(r,t);let s=r.isRequired?r.call.arguments[0]:r.call.arguments[1],i=s!==void 0?fp(s):null,o=t.name,l=(c=i==null?void 0:i.alias)!=null?c:o;return{call:r.call,input:{isSignal:!0,transform:null,classPropertyName:o,bindingPropertyName:l,required:r.isRequired},output:{isSignal:!1,classPropertyName:o,bindingPropertyName:l+"Change"}}}var Sg=[ye.PublicWritable,ye.PublicReadonly,ye.Protected],gp=[{functionName:"output",owningModule:"@angular/core",allowedAccessLevels:Sg},{functionName:"outputFromObservable",owningModule:"@angular/core/rxjs-interop",allowedAccessLevels:Sg}];function Gg(t,e,n){var l;if(t.value===null)return null;let r=hi(gp,t.value,e,n);if(r===null)return null;if(r.isRequired)throw new Rr(W.INITIALIZER_API_NO_REQUIRED_FUNCTION,r.call,'Output does not support ".required()".');yl(r,t);let s=r.api.functionName==="output"?r.call.arguments[0]:r.call.arguments[1],i=s!==void 0?fp(s):null,o=t.name;return{call:r.call,metadata:{isSignal:!1,classPropertyName:o,bindingPropertyName:(l=i==null?void 0:i.alias)!=null?l:o}}}var Z0=["viewChild","viewChildren","contentChild","contentChildren"],yp=Z0.map(t=>({functionName:t,owningModule:"@angular/core",allowedAccessLevels:[ye.PublicWritable,ye.PublicReadonly,ye.Protected,ye.Private]})),e_=t=>t!=="contentChildren";function qg(t,e,n){if(t.value===null)return null;let r=hi(yp,t.value,e,n);if(r===null)return null;yl(r,t);let{functionName:s}=r.api,i=s==="viewChild"||s==="contentChild",o=r.call.arguments[0];if(o===void 0)throw new Rr(W.VALUE_HAS_WRONG_TYPE,r.call,"No locator specified.");let l=r.call.arguments[1];if(l!==void 0&&!vn.default.isObjectLiteralExpression(l))throw new Rr(W.VALUE_HAS_WRONG_TYPE,l,"Argument needs to be an object literal.");let c=l&&Lg(l),p=c!=null&&c.has("read")?Wg(c.get("read")):null,u=c!=null&&c.has("descendants")?n_(c.get("descendants")):e_(s);return{name:s,call:r.call,metadata:{isSignal:!0,propertyName:t.name,static:!1,emitDistinctChangesOnly:!0,predicate:t_(o,e),first:i,read:p,descendants:u}}}function t_(t,e){let n=v0(t,e);return n!==null&&(t=n),vn.default.isStringLiteralLike(t)?[t.text]:ds(new Nr.WrappedNodeExpr(t),n!==null?2:0)}function Wg(t){if(vn.default.isExpressionWithTypeArguments(t)||vn.default.isParenthesizedExpression(t)||vn.default.isAsExpression(t))return Wg(t.expression);if(vn.default.isPropertyAccessExpression(t)&&vn.default.isIdentifier(t.expression)||vn.default.isIdentifier(t))return new Nr.WrappedNodeExpr(t);throw new Rr(W.VALUE_NOT_LITERAL,t,'Query "read" option expected a literal class reference.')}function n_(t){if(t.kind===vn.default.SyntaxKind.TrueKeyword)return!0;if(t.kind===vn.default.SyntaxKind.FalseKeyword)return!1;throw new Rr(W.VALUE_HAS_WRONG_TYPE,t,'Expected "descendants" option to be a boolean literal.')}var vp=["ViewChild","ViewChildren","ContentChild","ContentChildren"],BO=new Set(vp);var rp;(function(t){t.DIAGNOSTIC="D",t.EXPRESSION_TYPE_IDENTIFIER="T"})(rp||(rp={}));var Eg;(function(t){t.DIRECTIVE="DIR",t.COMPONENT_COMPLETION="COMPCOMP",t.EVENT_PARAMETER="EP",t.VARIABLE_AS_EXPRESSION="VAE"})(Eg||(Eg={}));var VO=`${rp.DIAGNOSTIC}:ignore`;var o_=Symbol("NgOriginalFile"),Tg;(function(t){t[t.Complete=0]="Complete",t[t.Incremental=1]="Incremental"})(Tg||(Tg={}));var HO=Symbol("NgExtension");var GO=Symbol("TemplateSourceFile");var qO=Symbol("TypeCheckId");function p_(){return typeof globalThis!="undefined"&&typeof globalThis.btoa=="function"?t=>globalThis.btoa(unescape(encodeURIComponent(t))):typeof Buffer=="function"?t=>Buffer.from(t,"utf-8").toString("base64"):()=>{throw new Error("Unsupported environment: `window.btoa` or `Buffer` should be supported.")}}var zO=p_();var XO=new yn;var tF=[f.InputSignalBrandWriteType],wg;(function(t){t[t.MustInline=0]="MustInline",t[t.ShouldInlineForGenericBounds=1]="ShouldInlineForGenericBounds",t[t.None=2]="None"})(wg||(wg={}));var kr,oF=(kr=class{static veWillInferAnyFor(e){let n=kr.SINGLETON;return e instanceof Ct?e.visit(n):e.receiver.visit(n)}visitUnary(e){return e.expr.visit(this)}visitBinary(e){return e.left.visit(this)||e.right.visit(this)}visitChain(e){return!1}visitConditional(e){return e.condition.visit(this)||e.trueExp.visit(this)||e.falseExp.visit(this)}visitCall(e){return!0}visitSafeCall(e){return!1}visitImplicitReceiver(e){return!1}visitThisReceiver(e){return!1}visitInterpolation(e){return e.expressions.some(n=>n.visit(this))}visitKeyedRead(e){return!1}visitLiteralArray(e){return!0}visitLiteralMap(e){return!0}visitLiteralPrimitive(e){return!1}visitPipe(e){return!0}visitPrefixNot(e){return e.expression.visit(this)}visitTypeofExpression(e){return e.expression.visit(this)}visitVoidExpression(e){return e.expression.visit(this)}visitNonNullAssert(e){return e.expression.visit(this)}visitPropertyRead(e){return!1}visitSafePropertyRead(e){return!1}visitSafeKeyedRead(e){return!1}visitTemplateLiteral(e,n){return!1}visitTemplateLiteralElement(e,n){return!1}visitTaggedTemplateLiteral(e,n){return!1}visitParenthesizedExpression(e,n){return e.expression.visit(this)}},a(kr,"SINGLETON",new kr),kr),xg;(function(t){t[t.UseEmitter=0]="UseEmitter",t[t.CopyClassNodes=1]="CopyClassNodes",t[t.FallbackToAny=2]="FallbackToAny"})(xg||(xg={}));var Cg;(function(t){t[t.InlineOps=0]="InlineOps",t[t.Error=1]="Error"})(Cg||(Cg={}));var cF=new yn;var dF=class extends Nr.RecursiveAstVisitor{constructor(){super(...arguments);a(this,"allReads",new Set);a(this,"namespaceReads",new Set);a(this,"addAllTopLevelIdentifiers",e=>{ee.default.isIdentifier(e)&&this.isTopLevelIdentifierReference(e)?this.allReads.add(e):ee.default.forEachChild(e,this.addAllTopLevelIdentifiers)})}visitExternalExpr(e,n){e.value.moduleName!==null&&this.namespaceReads.add(e.value.moduleName),super.visitExternalExpr(e,n)}visitReadVarExpr(e,n){this.allReads.add(e),super.visitReadVarExpr(e,n)}visitWrappedNodeExpr(e,n){this.isTypeScriptNode(e.node)&&this.addAllTopLevelIdentifiers(e.node),super.visitWrappedNodeExpr(e,n)}isTopLevelIdentifierReference(e){let n=e,r=n.parent;if(!r)return!1;if(ee.default.isParenthesizedExpression(r)&&r.expression===n)for(;r&&ee.default.isParenthesizedExpression(r);)n=r,r=r.parent;return ee.default.isSourceFile(r)?!0:ee.default.isCallExpression(r)?r.expression===n||r.arguments.includes(n):ee.default.isExpressionStatement(r)||ee.default.isPropertyAccessExpression(r)||ee.default.isComputedPropertyName(r)||ee.default.isTemplateSpan(r)||ee.default.isSpreadAssignment(r)||ee.default.isSpreadElement(r)||ee.default.isAwaitExpression(r)||ee.default.isNonNullExpression(r)||ee.default.isIfStatement(r)||ee.default.isDoStatement(r)||ee.default.isWhileStatement(r)||ee.default.isSwitchStatement(r)||ee.default.isCaseClause(r)||ee.default.isThrowStatement(r)||ee.default.isNewExpression(r)||ee.default.isExpressionWithTypeArguments(r)?r.expression===n:ee.default.isArrayLiteralExpression(r)?r.elements.includes(n):ee.default.isPropertyAssignment(r)||ee.default.isParameter(r)||ee.default.isBindingElement(r)||ee.default.isPropertyDeclaration(r)||ee.default.isEnumMember(r)?r.initializer===n:ee.default.isVariableDeclaration(r)?r.name===n||r.initializer===n:ee.default.isClassDeclaration(r)||ee.default.isFunctionDeclaration(r)||ee.default.isShorthandPropertyAssignment(r)?r.name===n:ee.default.isElementAccessExpression(r)?r.expression===n||r.argumentExpression===n:ee.default.isBinaryExpression(r)?r.left===n||r.right===n:ee.default.isForInStatement(r)||ee.default.isForOfStatement(r)?r.expression===n||r.initializer===n:ee.default.isForStatement(r)?r.condition===n||r.initializer===n||r.incrementor===n:ee.default.isArrowFunction(r)?r.body===n:ee.default.isImportSpecifier(r)||ee.default.isExportSpecifier(r)?(r.propertyName||r.name)===n:ee.default.isConditionalExpression(r)?r.condition===n||r.whenFalse===n||r.whenTrue===n:!1}isTypeScriptNode(e){return!!e&&typeof e.kind=="number"}};var I=A(require("typescript"),1),Pr=A(require("typescript"),1),vl=A(require("typescript"),1),Zg=A(require("typescript"),1);var DF=(0,Kg.createRequire)(F);function Sp(t,e){return e||t.import!==null&&t.import.from==="@angular/core"}var zg="!Array<{type: !Function, args: (undefined|!Array<?>)}>";function Yg(t,e){let n=[],r=t.expression;switch(r.kind){case I.default.SyntaxKind.Identifier:n.push(I.default.factory.createPropertyAssignment("type",r));break;case I.default.SyntaxKind.CallExpression:let s=r;if(n.push(I.default.factory.createPropertyAssignment("type",s.expression)),s.arguments.length){let i=[];for(let l of s.arguments)i.push(l);let o=I.default.factory.createArrayLiteralExpression(I.default.factory.createNodeArray(i,!0));n.push(I.default.factory.createPropertyAssignment("args",o))}break;default:e.push({file:t.getSourceFile(),start:t.getStart(),length:t.getEnd()-t.getStart(),messageText:`${I.default.SyntaxKind[t.kind]} not implemented in gathering decorator metadata.`,category:I.default.DiagnosticCategory.Error,code:0});break}return I.default.factory.createObjectLiteralExpression(n)}function L_(t,e,n,r){let s=[];for(let l of n){if(!l.type&&l.decorators.length===0){s.push(I.default.factory.createNull());continue}let c=l.type?Xg(e,l.type):void 0,p=[I.default.factory.createPropertyAssignment("type",c||I.default.factory.createIdentifier("undefined"))],u=[];for(let d of l.decorators)u.push(Yg(d,t));u.length&&p.push(I.default.factory.createPropertyAssignment("decorators",I.default.factory.createArrayLiteralExpression(u))),s.push(I.default.factory.createObjectLiteralExpression(p))}let i=I.default.factory.createArrowFunction(void 0,void 0,[],void 0,I.default.factory.createToken(I.default.SyntaxKind.EqualsGreaterThanToken),I.default.factory.createArrayLiteralExpression(s,!0)),o=I.default.factory.createPropertyDeclaration([I.default.factory.createToken(I.default.SyntaxKind.StaticKeyword)],"ctorParameters",void 0,void 0,i);return r&&I.default.setSyntheticLeadingComments(o,[{kind:I.default.SyntaxKind.MultiLineCommentTrivia,text:["*"," * @type {function(): !Array<(null|{"," *   type: ?,",` *   decorators: (undefined|${zg}),`," * })>}"," * @nocollapse"," "].join(`
`),pos:-1,end:-1,hasTrailingNewLine:!0}]),o}function Xg(t,e){let n=e.kind;switch(I.default.isLiteralTypeNode(e)&&(n=e.literal.kind),n){case I.default.SyntaxKind.FunctionType:case I.default.SyntaxKind.ConstructorType:return I.default.factory.createIdentifier("Function");case I.default.SyntaxKind.ArrayType:case I.default.SyntaxKind.TupleType:return I.default.factory.createIdentifier("Array");case I.default.SyntaxKind.TypePredicate:case I.default.SyntaxKind.TrueKeyword:case I.default.SyntaxKind.FalseKeyword:case I.default.SyntaxKind.BooleanKeyword:return I.default.factory.createIdentifier("Boolean");case I.default.SyntaxKind.StringLiteral:case I.default.SyntaxKind.StringKeyword:return I.default.factory.createIdentifier("String");case I.default.SyntaxKind.ObjectKeyword:return I.default.factory.createIdentifier("Object");case I.default.SyntaxKind.NumberKeyword:case I.default.SyntaxKind.NumericLiteral:return I.default.factory.createIdentifier("Number");case I.default.SyntaxKind.TypeReference:return t(e.typeName);case I.default.SyntaxKind.UnionType:let s=e.types.filter(i=>!(I.default.isLiteralTypeNode(i)&&i.literal.kind===I.default.SyntaxKind.NullKeyword));return s.length===1?Xg(t,s[0]):void 0;default:return}}function M_(t,e){return e.flags&I.default.SymbolFlags.Alias&&(e=t.getAliasedSymbol(e)),(e.flags&I.default.SymbolFlags.Value&I.default.SymbolFlags.ConstEnumExcludes)!==0}function Qg(t,e,n,r,s,i){function o(c,p){s&&I.default.setSyntheticLeadingComments(c,[{kind:I.default.SyntaxKind.MultiLineCommentTrivia,text:`* @type {${p}} `,pos:-1,end:-1,hasTrailingNewLine:!0}])}function l(c,p){let u=[];for(let[g,S]of p.entries())u.push(I.default.factory.createPropertyAssignment(g,I.default.factory.createArrayLiteralExpression(S.map(T=>Yg(T,c)))));let d=I.default.factory.createObjectLiteralExpression(u,!0),m=I.default.factory.createPropertyDeclaration([I.default.factory.createToken(I.default.SyntaxKind.StaticKeyword)],"propDecorators",void 0,void 0,d);return o(m,`!Object<string, ${zg}>`),m}return c=>{let p=up(c);function u(T){let N=t.getSymbolAtLocation(T);if(!N||!M_(t,N)||!N.declarations||N.declarations.length===0)return;if(I.default.isQualifiedName(T)){let b=u(T.left);return b===void 0?void 0:I.default.factory.createPropertyAccessExpression(b,T.right)}let D=N.declarations[0];return pp(D)&&(p==null||p.add(D),D.name!==void 0)?I.default.setOriginalNode(I.default.factory.createIdentifier(D.name.text),D.name):I.default.setOriginalNode(I.default.factory.createIdentifier(T.text),T)}function d(T){T=I.default.visitEachChild(T,S,c);let N=[],D=[],b=e.getDecoratorsOfDeclaration(T)||[];for(let re of b){let ne=re.node;if(!Sp(re,r)){N.push(ne);continue}D.push(ne)}if(!D.length)return[void 0,T,[]];if(!T.name||!I.default.isIdentifier(T.name))return n.push({file:T.getSourceFile(),start:T.getStart(),length:T.getEnd()-T.getStart(),messageText:"Cannot process decorators for class element with non-analyzable name.",category:I.default.DiagnosticCategory.Error,code:0}),[void 0,T,[]];let U=I.default.canHaveModifiers(T)?I.default.getModifiers(T):void 0,O;return(N.length||U!=null&&U.length)&&(O=I.default.setTextRange(I.default.factory.createNodeArray([...N,...U||[]]),T.modifiers)),[T.name.text,O_(T,O),D]}function m(T){T=I.default.visitEachChild(T,S,c);let N=[],D=T.parameters,b=[];for(let O of D){let re=[],ne={decorators:[],type:null},He=e.getDecoratorsOfDeclaration(O)||[];for(let Mr of He){let Te=Mr.node;if(!Sp(Mr,r)){re.push(Te);continue}ne.decorators.push(Te)}O.type&&(ne.type=O.type),b.push(ne);let Ge,be=I.default.getModifiers(O);(re.length||be!=null&&be.length)&&(Ge=[...re,...be||[]]);let Lr=I.default.factory.updateParameterDeclaration(O,Ge,O.dotDotDotToken,O.name,O.questionToken,O.type,O.initializer);N.push(Lr)}return[I.default.factory.updateConstructorDeclaration(T,I.default.getModifiers(T),N,T.body),b]}function g(T){let N=[],D=new Map,b=null;for(let ne of T.members){switch(ne.kind){case I.default.SyntaxKind.PropertyDeclaration:case I.default.SyntaxKind.GetAccessor:case I.default.SyntaxKind.SetAccessor:case I.default.SyntaxKind.MethodDeclaration:{let[He,Ge,be]=d(ne);N.push(Ge),He&&D.set(He,be);continue}case I.default.SyntaxKind.Constructor:{if(!ne.body)break;let[Ge,be]=m(ne);b=be,N.push(Ge);continue}default:break}N.push(I.default.visitEachChild(ne,S,c))}let O=(e.getDecoratorsOfDeclaration(T)||[]).some(ne=>Sp(ne,r));b&&(O||b.some(ne=>!!ne.decorators.length))&&N.push(L_(n,u,b,s)),D.size&&N.push(l(n,D));let re=I.default.setTextRange(I.default.factory.createNodeArray(N,T.members.hasTrailingComma),T.members);return I.default.factory.updateClassDeclaration(T,T.modifiers,T.name,T.typeParameters,T.heritageClauses,re)}function S(T){return I.default.isClassDeclaration(T)&&(i===void 0||i(T))?g(T):I.default.visitEachChild(T,S,c)}return T=>I.default.visitEachChild(T,S,c)}}function O_(t,e){let n;if(I.default.isMethodDeclaration(t))n=I.default.factory.createMethodDeclaration(e,t.asteriskToken,t.name,t.questionToken,t.typeParameters,t.parameters,t.type,t.body);else if(I.default.isPropertyDeclaration(t))n=I.default.factory.createPropertyDeclaration(e,t.name,t.questionToken,t.type,t.initializer);else if(I.default.isGetAccessor(t))n=I.default.factory.createGetAccessorDeclaration(e,t.name,t.parameters,t.type,t.body);else if(I.default.isSetAccessor(t))n=I.default.factory.createSetAccessorDeclaration(e,t.name,t.parameters,t.body);else throw new Error(`Unsupported decorated member with kind ${I.default.SyntaxKind[t.kind]}`);return I.default.setOriginalNode(n,t)}function Sl(t,e,n,r,s){let i=vl.default.isIdentifier(n.identifier)?n.identifier:n.identifier.expression;return t.createPropertyAccessExpression(e.addImport({exportModuleSpecifier:"@angular/core",exportSymbolName:null,requestedFile:r}),vl.default.setOriginalNode(t.createIdentifier(s),i))}function Jg(t,e){return t.createAsExpression(e,t.createKeywordTypeNode(vl.default.SyntaxKind.AnyKeyword))}var F_=(t,e,n,r,s,i,o,l)=>{var d,m;if((d=n.getDecoratorsOfDeclaration(t.node))!=null&&d.some(g=>pi(g,"Input",l)))return t.node;let c=Vg(t,n,s);if(c===null)return t.node;let p={isSignal:r.createTrue(),alias:r.createStringLiteral(c.bindingPropertyName),required:c.required?r.createTrue():r.createFalse(),transform:r.createIdentifier("undefined")},u=r.createDecorator(r.createCallExpression(Sl(r,i,o,e,"Input"),void 0,[Jg(r,r.createObjectLiteralExpression(Object.entries(p).map(([g,S])=>r.createPropertyAssignment(g,S))))]));return r.updatePropertyDeclaration(t.node,[u,...(m=t.node.modifiers)!=null?m:[]],t.name,t.node.questionToken,t.node.type,t.node.initializer)},B_=(t,e,n,r,s,i,o,l)=>{var m,g;if((m=n.getDecoratorsOfDeclaration(t.node))!=null&&m.some(S=>pi(S,"Input",l)||pi(S,"Output",l)))return t.node;let c=Hg(t,n,s);if(c===null)return t.node;let p=r.createObjectLiteralExpression([r.createPropertyAssignment("isSignal",c.input.isSignal?r.createTrue():r.createFalse()),r.createPropertyAssignment("alias",r.createStringLiteral(c.input.bindingPropertyName)),r.createPropertyAssignment("required",c.input.required?r.createTrue():r.createFalse())]),u=jg("Input",r.createAsExpression(p,r.createKeywordTypeNode(Zg.default.SyntaxKind.AnyKeyword)),o,r,e,i),d=jg("Output",r.createStringLiteral(c.output.bindingPropertyName),o,r,e,i);return r.updatePropertyDeclaration(t.node,[u,d,...(g=t.node.modifiers)!=null?g:[]],t.node.name,t.node.questionToken,t.node.type,t.node.initializer)};function jg(t,e,n,r,s,i){let o=Sl(r,i,n,s,t);return r.createDecorator(r.createCallExpression(o,void 0,[e]))}var $_=(t,e,n,r,s,i,o,l)=>{var u,d;if((u=n.getDecoratorsOfDeclaration(t.node))!=null&&u.some(m=>pi(m,"Output",l)))return t.node;let c=Gg(t,n,s);if(c===null)return t.node;let p=r.createDecorator(r.createCallExpression(Sl(r,i,o,e,"Output"),void 0,[r.createStringLiteral(c.metadata.bindingPropertyName)]));return r.updatePropertyDeclaration(t.node,[p,...(d=t.node.modifiers)!=null?d:[]],t.node.name,t.node.questionToken,t.node.type,t.node.initializer)},U_={viewChild:"ViewChild",viewChildren:"ViewChildren",contentChild:"ContentChild",contentChildren:"ContentChildren"},V_=(t,e,n,r,s,i,o,l)=>{var g;let c=n.getDecoratorsOfDeclaration(t.node),p=c&&Og(c,vp,l);if(p!==null&&p.length>0)return t.node;let u=qg(t,n,s);if(u===null)return t.node;let d=u.call.arguments,m=r.createDecorator(r.createCallExpression(Sl(r,i,o,e,U_[u.name]),void 0,[u.call.arguments[0],Jg(r,r.createObjectLiteralExpression([...d.length>1?[r.createSpreadAssignment(d[1])]:[],r.createPropertyAssignment("isSignal",r.createTrue())]))]));return r.updatePropertyDeclaration(t.node,[m,...(g=t.node.modifiers)!=null?g:[]],t.node.name,t.node.questionToken,t.node.type,t.node.initializer)},H_=["Directive","Component"],G_=[F_,$_,V_,B_];function ey(t,e,n,r){return s=>i=>{let o=new Ug;return i=Pr.default.visitNode(i,q_(s,t,o,e,n,r),Pr.default.isSourceFile),o.transformTsFile(s,i)}}function q_(t,e,n,r,s,i){let o=l=>{var c;if(Pr.default.isClassDeclaration(l)&&l.name!==void 0){let p=Pr.default.getOriginalNode(l,Pr.default.isClassDeclaration),u=(c=e.getDecoratorsOfDeclaration(p))==null?void 0:c.find(d=>H_.some(m=>pi(d,m,s)));if(u!==void 0&&(i===void 0||i(l))){let d=!1,m=p.getSourceFile(),g=l.members.map(S=>{if(!Pr.default.isPropertyDeclaration(S))return S;let T=cp(S);if(T===null)return S;for(let N of G_){let D=N(fe(w({},T),{node:S}),m,e,t.factory,r,n,u,s);if(D!==T.node)return d=!0,D}return S});if(d)return t.factory.updateClassDeclaration(l,l.modifiers,l.name,l.typeParameters,l.heritageClauses,g)}}return Pr.default.visitEachChild(l,o,t)};return o}function El(t,e=!1,n){let r=t.getTypeChecker(),s=new lp(r),i=new hp,o=Qg(r,s,[],e,!1,n),l=ey(s,i,e,n);return c=>p=>(p=l(c)(p),p=o(c)(p),p)}var WP=A(require("typescript"),1),jP=A(require("typescript"),1),KP=A(require("typescript"),1),zP=A(require("typescript"),1),YP=A(require("typescript"),1),XP=A(require("typescript"),1),QP=A(require("typescript"),1),JP=A(require("typescript"),1),ZP=A(require("typescript"),1),eL=A(require("typescript"),1),tL=A(require("typescript"),1),nL=A(require("typescript"),1);var rL=A(require("typescript"),1);var tS=A(require("typescript"),1),sL=A(require("typescript"),1),iL=A(require("typescript"),1),oL=A(require("typescript"),1),aL=A(require("typescript"),1);var lL=A(require("typescript"),1);var qp=A(require("typescript"),1);var Wp=A(require("typescript"),1);var jp=A(require("typescript"),1);var QL=A(require("typescript"),1);var ZL=A(require("typescript"),1),eM=A(require("typescript"),1),tM=A(require("typescript"),1),nM=A(Gv(),1),rM=A(require("typescript"),1),sM=A(require("typescript"),1),iM=A(require("typescript"),1);var IB=(0,eS.createRequire)(F);var $p;(function(t){t[t.DTS=1]="DTS",t[t.JS=2]="JS",t[t.Metadata=4]="Metadata",t[t.I18nBundle=8]="I18nBundle",t[t.Codegen=16]="Codegen",t[t.Default=19]="Default",t[t.All=31]="All"})($p||($p={}));var Up;(function(t){t.Block="block",t.Component="component",t.Constant="constant",t.Decorator="decorator",t.Directive="directive",t.Element="element",t.Enum="enum",t.Function="function",t.Interface="interface",t.NgModule="ng_module",t.Pipe="pipe",t.TypeAlias="type_alias",t.UndecoratedClass="undecorated_class",t.InitializerApiFunction="initializer_api_function"})(Up||(Up={}));var Vp;(function(t){t.Property="property",t.Method="method",t.Getter="getter",t.Setter="setter",t.EnumItem="enum_item"})(Vp||(Vp={}));var Hp;(function(t){t.Class="class",t.Member="member",t.Parameter="parameter"})(Hp||(Hp={}));var Gp;(function(t){t.Abstract="abstract",t.Static="static",t.Readonly="readonly",t.Protected="protected",t.Optional="optional",t.Input="input",t.Output="output",t.Inherited="override"})(Gp||(Gp={}));var PB=tS.default.version;var LB=Symbol("NgCyclicResult");var qv;(function(t){t[t.Fresh=0]="Fresh",t[t.Delta=1]="Delta",t[t.Analyzed=2]="Analyzed"})(qv||(qv={}));var Wv;(function(t){t[t.Analysis=0]="Analysis",t[t.TypeCheckAndEmit=1]="TypeCheckAndEmit"})(Wv||(Wv={}));var MB=Symbol("NgIncrementalState"),jv;(function(t){t[t.Property=0]="Property",t[t.Method=1]="Method",t[t.Element=2]="Element",t[t.Template=3]="Template",t[t.Attribute=4]="Attribute",t[t.Reference=5]="Reference",t[t.Variable=6]="Variable",t[t.LetDeclaration=7]="LetDeclaration",t[t.Component=8]="Component",t[t.Directive=9]="Directive"})(jv||(jv={}));var cL=".$ngresource$",BB=cL+".ts";var uL=new Set(["WritableSignal","Signal","InputSignal","InputSignalWithTransform","ModelSignal"]);function Kv(t){return(t.kind===nt.Expression||t.kind===nt.Variable||t.kind===nt.LetDeclaration)&&(t.tsType.symbol!==void 0&&zv(t.tsType.symbol)||t.tsType.aliasSymbol!==void 0&&zv(t.tsType.aliasSymbol))}function zv(t){let e=t.getDeclarations();return e!==void 0&&e.some(n=>{let r=n.getSourceFile().fileName;return(qp.default.isInterfaceDeclaration(n)||qp.default.isTypeAliasDeclaration(n))&&uL.has(n.name.text)&&(r.includes("@angular/core")||r.includes("angular2/rc/packages/core")||r.includes("bin/packages/core"))})}var gt=class{constructor(){a(this,"canVisitStructuralAttributes",!0)}run(t,e,n){return new pL(t,e,this).getDiagnostics(n)}},pL=class extends Ar{constructor(e,n,r){super();a(this,"ctx");a(this,"component");a(this,"check");a(this,"diagnostics",[]);this.ctx=e,this.component=n,this.check=r}visit(e){this.diagnostics.push(...this.check.visitNode(this.ctx,this.component,e)),super.visit(e)}visitTemplate(e){let n=e.tagName==="ng-template";this.visitAllTemplateNodes(e.attributes),n&&(this.visitAllTemplateNodes(e.inputs),this.visitAllTemplateNodes(e.outputs)),this.visitAllTemplateNodes(e.directives),(this.check.canVisitStructuralAttributes||n)&&this.visitAllTemplateNodes(e.templateAttrs),this.visitAllTemplateNodes(e.variables),this.visitAllTemplateNodes(e.references),this.visitAllTemplateNodes(e.children)}getDiagnostics(e){return this.diagnostics=[],this.visitAllTemplateNodes(e),this.diagnostics}},hL=new Set(["set","update","asReadonly"]),fL=new Set(["name","length","prototype"]),dL=class extends gt{constructor(){super(...arguments);a(this,"code",W.INTERPOLATED_SIGNAL_NOT_INVOKED)}visitNode(e,n,r){if(r instanceof Yn)return r.expressions.map(s=>s instanceof Nn?s.expression:s).filter(s=>s instanceof de).flatMap(s=>Pl(e,s,n));if(r instanceof Yt){let s=e.templateTypeChecker.getUsedDirectives(n);if(s!==null&&s.some(o=>o.inputs.getByBindingPropertyName(r.name)!==null))return[];let i=mL(r);if((r.type===Y.Property||r.type===Y.Class||r.type===Y.Style||r.type===Y.Attribute||r.type===Y.Animation||r.type===Y.LegacyAnimation)&&i)return Pl(e,i,n)}else{if(r instanceof ts)return r.branches.map(s=>s.expression).filter(s=>s instanceof Se).map(s=>{let i=s.ast;return i instanceof Nn?i.expression:i}).filter(s=>s instanceof de).flatMap(s=>Pl(e,s,n));if(r instanceof es&&r.expression instanceof Se){let s=r.expression.ast instanceof Nn?r.expression.ast.expression:r.expression.ast;if(s instanceof de)return Pl(e,s,n)}}return[]}};function mL(t){if(t.value instanceof Se){if(t.value.ast instanceof Nn&&t.value.ast.expression instanceof de)return t.value.ast.expression;if(t.value.ast instanceof de)return t.value.ast}}function gL(t){return fL.has(t)}function yL(t){return hL.has(t)}function Pl(t,e,n){let r=t.templateTypeChecker.getSymbolOfNode(e,n);if(r!==null&&r.kind===nt.Expression&&Kv(r)){let i=t.templateTypeChecker.getSourceMappingAtTcbLocation(r.tcbLocation),o=`${e.name} is a function and should be invoked: ${e.name}()`;return[t.makeTemplateDiagnostic(i.span,o)]}let s=t.templateTypeChecker.getSymbolOfNode(e.receiver,n);if((gL(e.name)||yL(e.name))&&s!==null&&s.kind===nt.Expression&&Kv(s)){let i=t.templateTypeChecker.getSourceMappingAtTcbLocation(s.tcbLocation),o=`${e.receiver.name} is a function and should be invoked: ${e.receiver.name}()`;return[t.makeTemplateDiagnostic(i.span,o)]}return[]}var vL={code:W.INTERPOLATED_SIGNAL_NOT_INVOKED,name:Me.INTERPOLATED_SIGNAL_NOT_INVOKED,create:()=>new dL},SL=class extends gt{constructor(){super(...arguments);a(this,"code",W.INVALID_BANANA_IN_BOX)}visitNode(e,n,r){if(!(r instanceof mn))return[];let s=r.name;if(!s.startsWith("[")||!s.endsWith("]"))return[];let o=r.sourceSpan.toString().replace(`(${s})`,`[(${s.slice(1,-1)})]`);return[e.makeTemplateDiagnostic(r.sourceSpan,`In the two-way binding syntax the parentheses should be inside the brackets, ex. '${o}'.
        Find more at https://angular.dev/guide/templates/two-way-binding`)]}},EL={code:W.INVALID_BANANA_IN_BOX,name:Me.INVALID_BANANA_IN_BOX,create:()=>new SL},Yv=new Map([["ngIf",{directive:"NgIf",builtIn:"@if"}],["ngFor",{directive:"NgFor",builtIn:"@for"}],["ngSwitchCase",{directive:"NgSwitchCase",builtIn:"@switch with @case"}],["ngSwitchDefault",{directive:"NgSwitchDefault",builtIn:"@switch with @default"}]]),TL=class extends gt{constructor(){super(...arguments);a(this,"code",W.MISSING_CONTROL_FLOW_DIRECTIVE)}run(e,n,r){let s=e.templateTypeChecker.getDirectiveMetadata(n);return!s||!s.isStandalone?[]:super.run(e,n,r)}visitNode(e,n,r){if(!(r instanceof Ce))return[];let s=r.templateAttrs.find(u=>Yv.has(u.name));if(!s)return[];let i=e.templateTypeChecker.getSymbolOfNode(r,n);if(i===null||i.directives.length>0)return[];let o=s.keySpan||s.sourceSpan,l=Yv.get(s.name),c=`The \`*${s.name}\` directive was used in the template, but neither the \`${l==null?void 0:l.directive}\` directive nor the \`CommonModule\` was imported. Use Angular's built-in control flow ${l==null?void 0:l.builtIn} or make sure that either the \`${l==null?void 0:l.directive}\` directive or the \`CommonModule\` is included in the \`@Component.imports\` array of this component.`;return[e.makeTemplateDiagnostic(o,c)]}},wL={code:W.MISSING_CONTROL_FLOW_DIRECTIVE,name:Me.MISSING_CONTROL_FLOW_DIRECTIVE,create:t=>new TL},xL=class extends gt{constructor(){super(...arguments);a(this,"code",W.MISSING_NGFOROF_LET)}visitNode(e,n,r){let s=r instanceof Ce;if(!(r instanceof Ce))return[];if(r.templateAttrs.length===0)return[];let i=r.templateAttrs.find(c=>c.name==="ngFor");return i===void 0?[]:r.variables.length>0?[]:[e.makeTemplateDiagnostic(i.sourceSpan,"Your ngFor is missing a value. Did you forget to add the `let` keyword?")]}},CL={code:W.MISSING_NGFOROF_LET,name:Me.MISSING_NGFOROF_LET,create:()=>new xL},AL=new Set(["ngIf","ngFor","ngForOf","ngForTrackBy","ngSwitchCase","ngSwitchDefault"]),NL=class extends gt{constructor(){super(...arguments);a(this,"code",W.MISSING_STRUCTURAL_DIRECTIVE)}run(e,n,r){let s=e.templateTypeChecker.getDirectiveMetadata(n);return!s||!s.isStandalone?[]:super.run(e,n,r)}visitNode(e,n,r){if(!(r instanceof Ce))return[];let s=r.templateAttrs.find(c=>!AL.has(c.name));if(!s)return[];let i=e.templateTypeChecker.getSymbolOfNode(r,n);if(i!=null&&i.directives.length)return[];let o=s.keySpan||s.sourceSpan,l=`A structural directive \`${s.name}\` was used in the template without a corresponding import in the component. Make sure that the directive is included in the \`@Component.imports\` array of this component.`;return[e.makeTemplateDiagnostic(o,l)]}},IL={code:W.MISSING_STRUCTURAL_DIRECTIVE,name:Me.MISSING_STRUCTURAL_DIRECTIVE,create:()=>new NL},DL=class extends gt{constructor(){super(...arguments);a(this,"canVisitStructuralAttributes",!1);a(this,"code",W.NULLISH_COALESCING_NOT_NULLABLE)}visitNode(e,n,r){if(!(r instanceof we)||r.operation!=="??")return[];let s=e.templateTypeChecker.getSymbolOfNode(r.left,n);if(s===null||s.kind!==nt.Expression)return[];let i=s.tsType;if(i.flags&(Wp.default.TypeFlags.Any|Wp.default.TypeFlags.Unknown))return[];if(i.getNonNullableType()!==i)return[];let o=e.templateTypeChecker.getSymbolOfNode(r,n);if(o.kind!==nt.Expression)return[];let l=e.templateTypeChecker.getSourceMappingAtTcbLocation(o.tcbLocation);return l===null?[]:[e.makeTemplateDiagnostic(l.span,"The left side of this nullish coalescing operation does not include 'null' or 'undefined' in its type, therefore the '??' operator can be safely removed.")]}},bL={code:W.NULLISH_COALESCING_NOT_NULLABLE,name:Me.NULLISH_COALESCING_NOT_NULLABLE,create:t=>(t.strictNullChecks===void 0?!!t.strict:!!t.strictNullChecks)?new DL:null},_L=class extends gt{constructor(){super(...arguments);a(this,"canVisitStructuralAttributes",!1);a(this,"code",W.OPTIONAL_CHAIN_NOT_NULLABLE)}visitNode(e,n,r){if(!(r instanceof zt)&&!(r instanceof We)&&!(r instanceof gr))return[];let s=e.templateTypeChecker.getSymbolOfNode(r.receiver,n);if(s===null||s.kind!==nt.Expression)return[];let i=s.tsType;if(i.flags&(jp.default.TypeFlags.Any|jp.default.TypeFlags.Unknown))return[];if(i.getNonNullableType()!==i)return[];let o=e.templateTypeChecker.getSymbolOfNode(r,n);if(o.kind!==nt.Expression)return[];let l=e.templateTypeChecker.getSourceMappingAtTcbLocation(o.tcbLocation);if(l===null)return[];let c=r instanceof We?"the '?.' operator can be replaced with the '.' operator":"the '?.' operator can be safely removed";return[e.makeTemplateDiagnostic(l.span,`The left side of this optional chain operation does not include 'null' or 'undefined' in its type, therefore ${c}.`)]}},kL={code:W.OPTIONAL_CHAIN_NOT_NULLABLE,name:Me.OPTIONAL_CHAIN_NOT_NULLABLE,create:t=>(t.strictNullChecks===void 0?!!t.strict:!!t.strictNullChecks)?new _L:null},Xv="ngSkipHydration",RL=class extends gt{constructor(){super(...arguments);a(this,"code",W.SKIP_HYDRATION_NOT_STATIC)}visitNode(e,n,r){if(r instanceof Yt&&r.name===Xv)return[e.makeTemplateDiagnostic(r.sourceSpan,"ngSkipHydration should not be used as a binding.")];let s=["true",""];return r instanceof Mt&&r.name===Xv&&!s.includes(r.value)&&r.value!==void 0?[e.makeTemplateDiagnostic(r.sourceSpan,`ngSkipHydration only accepts "true" or "" as value or no value at all. For example 'ngSkipHydration="true"' or 'ngSkipHydration'`)]:[]}},PL={code:W.SKIP_HYDRATION_NOT_STATIC,name:Me.SKIP_HYDRATION_NOT_STATIC,create:()=>new RL},Qv=["px","%","em"],LL=class extends gt{constructor(){super(...arguments);a(this,"code",W.SUFFIX_NOT_SUPPORTED)}visitNode(e,n,r){return r instanceof Yt?!r.keySpan.toString().startsWith("attr.")||!Qv.some(i=>r.name.endsWith(`.${i}`))?[]:[e.makeTemplateDiagnostic(r.keySpan,`The ${Qv.map(i=>`'.${i}'`).join(", ")} suffixes are only supported on style bindings.`)]:[]}},ML={code:W.SUFFIX_NOT_SUPPORTED,name:Me.SUFFIX_NOT_SUPPORTED,create:()=>new LL},OL=class extends gt{constructor(){super(...arguments);a(this,"code",W.TEXT_ATTRIBUTE_NOT_BINDING)}visitNode(e,n,r){if(!(r instanceof Mt))return[];let s=r.name;if(!s.startsWith("attr.")&&!s.startsWith("style.")&&!s.startsWith("class."))return[];let i;if(s.startsWith("attr.")){let l=s.replace("attr.","");i="Static attributes should be written without the 'attr.' prefix.",r.value&&(i+=` For example, ${l}="${r.value}".`)}else{let l=`[${s}]`,c=r.value==="true"||r.value==="false"?r.value:`'${r.value}'`;i="Attribute, style, and class bindings should be enclosed with square braces.",r.value&&(i+=` For example, '${l}="${c}"'.`)}return[e.makeTemplateDiagnostic(r.sourceSpan,i)]}},FL={code:W.TEXT_ATTRIBUTE_NOT_BINDING,name:Me.TEXT_ATTRIBUTE_NOT_BINDING,create:()=>new OL},BL=class extends gt{constructor(){super(...arguments);a(this,"code",W.UNINVOKED_FUNCTION_IN_EVENT_BINDING)}visitNode(e,n,r){if(!(r instanceof mn))return[];if(r.type!==Ne.Regular&&r.type!==Ne.LegacyAnimation)return[];if(!(r.handler instanceof Se))return[];let s=r.handler.source||"";if(r.handler.ast instanceof dr)return r.handler.ast.expressions.flatMap(i=>Bp(i,n,r,s,e));if(r.handler.ast instanceof js){let{trueExp:i,falseExp:o}=r.handler.ast;return[i,o].flatMap(l=>Bp(l,n,r,s,e))}return Bp(r.handler.ast,n,r,s,e)}};function Bp(t,e,n,r,s){var o;if(t instanceof Ct||t instanceof zt)return[];if(!(t instanceof de)&&!(t instanceof We))return[];let i=s.templateTypeChecker.getSymbolOfNode(t,e);if(i!==null&&i.kind===nt.Expression&&((o=i.tsType.getCallSignatures())==null?void 0:o.length)>0){let c=`Function in event binding should be invoked: ${$L(t,r)}()`;return[s.makeTemplateDiagnostic(n.sourceSpan,c)]}return[]}function $L(t,e){return e.substring(t.span.start,t.span.end)}var UL={code:W.UNINVOKED_FUNCTION_IN_EVENT_BINDING,name:Me.UNINVOKED_FUNCTION_IN_EVENT_BINDING,create:()=>new BL},VL=class extends gt{constructor(){super(...arguments);a(this,"code",W.UNPARENTHESIZED_NULLISH_COALESCING)}visitNode(e,n,r){if(r instanceof we&&(r.operation==="&&"||r.operation==="||")&&(r.left instanceof we&&r.left.operation==="??"||r.right instanceof we&&r.right.operation==="??")){let s=e.templateTypeChecker.getSymbolOfNode(r,n);if((s==null?void 0:s.kind)!==nt.Expression)return[];let i=e.templateTypeChecker.getSourceMappingAtTcbLocation(s.tcbLocation);return i===null?[]:[e.makeTemplateDiagnostic(i.span,"Parentheses are required to disambiguate precedence when mixing '??' with '&&' and '||'.")]}return[]}},HL={code:W.UNPARENTHESIZED_NULLISH_COALESCING,name:Me.UNPARENTHESIZED_NULLISH_COALESCING,create:()=>new VL},GL=class extends gt{constructor(){super(...arguments);a(this,"code",W.UNUSED_LET_DECLARATION);a(this,"analysis",new Map)}run(e,n,r){super.run(e,n,r);let s=[],{allLetDeclarations:i,usedLetDeclarations:o}=this.getAnalysis(n);for(let l of i)o.has(l)||s.push(e.makeTemplateDiagnostic(l.sourceSpan,`@let ${l.name} is declared but its value is never read.`));return this.analysis.clear(),s}visitNode(e,n,r){if(r instanceof _n)this.getAnalysis(n).allLetDeclarations.add(r);else if(r instanceof he){let s=r instanceof Se?r.ast:r,i=e.templateTypeChecker.getExpressionTarget(s,n);i!==null&&i instanceof _n&&this.getAnalysis(n).usedLetDeclarations.add(i)}return[]}getAnalysis(e){return this.analysis.has(e)||this.analysis.set(e,{allLetDeclarations:new Set,usedLetDeclarations:new Set}),this.analysis.get(e)}},qL={code:W.UNUSED_LET_DECLARATION,name:Me.UNUSED_LET_DECLARATION,create:()=>new GL},WL=class extends gt{constructor(){super(...arguments);a(this,"code",W.UNINVOKED_TRACK_FUNCTION)}visitNode(e,n,r){var i;if(!(r instanceof qn)||!r.trackBy)return[];if(r.trackBy.ast instanceof Ct||r.trackBy.ast instanceof zt)return[];if(!(r.trackBy.ast instanceof de)&&!(r.trackBy.ast instanceof We))return[];let s=e.templateTypeChecker.getSymbolOfNode(r.trackBy.ast,n);if(s!==null&&s.kind===nt.Expression&&((i=s.tsType.getCallSignatures())==null?void 0:i.length)>0){let l=`The track function in the @for block should be invoked: ${jL(r.trackBy.ast,r.trackBy.source||"")}(/* arguments */)`;return[e.makeTemplateDiagnostic(r.sourceSpan,l)]}return[]}};function jL(t,e){return e.substring(t.span.start,t.span.end)}var KL={code:W.UNINVOKED_TRACK_FUNCTION,name:Me.UNINVOKED_TRACK_FUNCTION,create:()=>new WL},zL=class extends gt{constructor(){super(...arguments);a(this,"code",W.UNINVOKED_FUNCTION_IN_TEXT_INTERPOLATION)}visitNode(e,n,r){return r instanceof Yn?r.expressions.flatMap(s=>YL(s,n,e)):[]}};function YL(t,e,n){var s;if(!(t instanceof de)&&!(t instanceof We))return[];let r=n.templateTypeChecker.getSymbolOfNode(t,e);if(r!==null&&r.kind===nt.Expression&&((s=r.tsType.getCallSignatures())==null?void 0:s.length)>0){let i=`Function in text interpolation should be invoked: ${t.name}()`,o=n.templateTypeChecker.getSourceMappingAtTcbLocation(r.tcbLocation);return[n.makeTemplateDiagnostic(o.span,i)]}return[]}var XL={code:W.UNINVOKED_FUNCTION_IN_TEXT_INTERPOLATION,name:Me.UNINVOKED_FUNCTION_IN_TEXT_INTERPOLATION,create:()=>new zL},Jv;(function(t){t.Warning="warning",t.Error="error",t.Suppress="suppress"})(Jv||(Jv={}));var JL=[EL,bL,kL,wL,FL,CL,IL,ML,vL,UL,qL,PL,HL,KL,XL],t$=new Set([Me.CONTROL_FLOW_PREVENTING_CONTENT_PROJECTION,Me.UNUSED_STANDALONE_IMPORTS,...JL.map(t=>t.name)]);var r$=[dp,mp,...gp,...yp];var Zv;(function(t){t[t.Fresh=0]="Fresh",t[t.IncrementalTypeScript=1]="IncrementalTypeScript",t[t.IncrementalResource=2]="IncrementalResource"})(Zv||(Zv={}));C();var nS=require("module");var C$=(0,nS.createRequire)(F),Kp;(function(t){t[t.debug=0]="debug",t[t.info=1]="info",t[t.warn=2]="warn",t[t.error=3]="error"})(Kp||(Kp={}));var zp="\x1B[0m",oM="\x1B[31m",aM="\x1B[33m",lM="\x1B[36m",A$=`${lM}Debug:${zp}`,N$=`${aM}Warning:${zp}`,I$=`${oM}Error:${zp}`;C();var lS=require("module");C();var rS=require("module"),mi=(0,rS.createRequire)(F),sS=(t=>typeof mi!="undefined"?mi:typeof Proxy!="undefined"?new Proxy(t,{get:(e,n)=>(typeof mi!="undefined"?mi:e)[n]}):t)(function(t){if(typeof mi!="undefined")return mi.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var st=A(require("fs"),1),cS=require("module"),bt=A(require("path"),1),uS=A(require("url"),1);var P$=(0,lS.createRequire)(F),cM=class{pwd(){return this.normalize(process.cwd())}chdir(t){process.chdir(t)}resolve(...t){return this.normalize(bt.resolve(...t))}dirname(t){return this.normalize(bt.dirname(t))}join(t,...e){return this.normalize(bt.join(t,...e))}isRoot(t){return this.dirname(t)===this.normalize(t)}isRooted(t){return bt.isAbsolute(t)}relative(t,e){return this.normalize(bt.relative(t,e))}basename(t,e){return bt.basename(t,e)}extname(t){return bt.extname(t)}normalize(t){return t.replace(/\\/g,"/")}},Yp=typeof __filename!="undefined",pS=Yp?null:F,oS,aS,iS=Yp?__filename:(aS=(oS=uS.fileURLToPath)==null?void 0:oS(pS))!=null?aS:null,uM=class extends cM{constructor(){super(...arguments);a(this,"_caseSensitive")}isCaseSensitive(){return this._caseSensitive===void 0&&(this._caseSensitive=iS!==null?!st.default.existsSync(this.normalize(pM(iS))):!0),this._caseSensitive}exists(e){return st.default.existsSync(e)}readFile(e){return st.default.readFileSync(e,"utf8")}readFileBuffer(e){return st.default.readFileSync(e)}readdir(e){return st.default.readdirSync(e)}lstat(e){return st.default.lstatSync(e)}stat(e){return st.default.statSync(e)}realpath(e){return this.resolve(st.default.realpathSync(e))}getDefaultLibLocation(){let e=Yp?sS:(0,cS.createRequire)(pS);return this.resolve(e.resolve("typescript"),"..")}},hS=class extends uM{writeFile(t,e,n=!1){st.default.writeFileSync(t,e,n?{flag:"wx"}:void 0)}removeFile(t){st.default.unlinkSync(t)}symlink(t,e){st.default.symlinkSync(t,e)}copyFile(t,e){st.default.copyFileSync(t,e)}moveFile(t,e){st.default.renameSync(t,e)}ensureDir(t){st.default.mkdirSync(t,{recursive:!0})}removeDeep(t){st.default.rmdirSync(t,{recursive:!0})}};function pM(t){return t.replace(/\w/g,e=>e.toUpperCase()===e?e.toLowerCase():e.toUpperCase())}var mU=(0,fS.createRequire)(F),AU=new Ui("20.3.0"),hM={ngDevMode:!1,ngI18nClosureMode:!1},NU=fe(w({},hM),{ngJitMode:!1});Zm(new hS);0&&(module.exports={angularJitApplicationTransform});
/*! Bundled license information:

@angular/compiler/fesm2022/compiler.mjs:
  (**
   * @license Angular v20.3.0
   * (c) 2010-2025 Google LLC. https://angular.io/
   * License: MIT
   *)

@angular/compiler/fesm2022/compiler.mjs:
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)
  (**
   *
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)

@angular/compiler/fesm2022/compiler.mjs:
@angular/compiler/fesm2022/compiler.mjs:
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)

@angular/compiler-cli/bundles/chunk-I2BHWRAU.js:
@angular/compiler-cli/bundles/chunk-GWZQLAGK.js:
@angular/compiler-cli/bundles/chunk-6DF2AWLX.js:
@angular/compiler-cli/bundles/chunk-6HOSNZU5.js:
@angular/compiler-cli/bundles/chunk-XYYEESKY.js:
@angular/compiler-cli/bundles/index.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)

@angular/compiler-cli/bundles/chunk-PVSLT73R.js:
@angular/compiler-cli/bundles/chunk-ES5JHT4S.js:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)
  (*!
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)
*/
